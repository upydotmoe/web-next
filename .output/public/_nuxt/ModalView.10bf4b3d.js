import{B as Je,i as K,j as Y,R as N,a as Ke,o as g,s as b,b as i,f as k,w as z,t as F,x as v,c as se,y as A,e as P,v as L,P as _e,K as X,X as ue,Y as ge,z as $e,k as T,l as Ce,p as Ye,r as I,U as O,u as o,Z as Se,O as Re,Q as oe,J as je,V as Be,W as Fe,C as Xe,E as Ie,a3 as Ze,a4 as et,a5 as ct,S as He,a6 as dt,m as ut,N as mt,a7 as Ne,a8 as pt}from"./entry.05f698ef.js";import{e as Pe,a as De,c as We,S as Ue,b as tt,u as xe,J as st,d as Oe,_ as at}from"./ProBadge.0148f2b1.js";import{u as ot}from"./useReport.b296a84d.js";import{P as he}from"./index.af539870.js";import{_ as be}from"./_plugin-vue_export-helper.c27b6911.js";import{_ as ht,A as Qe}from"./MiniArtworkPreview.2cbb70b4.js";import{_ as Ve}from"./LoadingEmptyErrorMessage.983e35c1.js";import{U as Le}from"./user-counters-api.9c94d46c.js";import{u as wt}from"./useSetting.c4a424f7.js";import{u as ft}from"./useFeed.d5b8d816.js";import{W as rt}from"./WorkList.5f1716c3.js";const me=function(l){return{addWorkToAlbum:async(s,e={})=>{const a="/albums/add-work",r=new URL(a,"https://example.com");let t;l&&(t=l.baseOptions);const n={method:"POST",...t,...e},u={},h={};u["Content-Type"]="application/json";const d=new URLSearchParams(r.search);for(const p in h)d.set(p,h[p]);for(const p in e.params)d.set(p,e.params[p]);r.search=new URLSearchParams(d).toString();let f=t&&t.headers?t.headers:{};n.headers={...u,...f,...e.headers};const w=typeof s!="string"||n.headers["Content-Type"]==="application/json";return n.data=w?JSON.stringify(s!==void 0?s:{}):s||"",{url:r.pathname+r.search+r.hash,options:n}},countUserAlbumsByType:async(s,e={})=>{const a="/albums/count",r=new URL(a,"https://example.com");let t;l&&(t=l.baseOptions);const n={method:"POST",...t,...e},u={},h={};u["Content-Type"]="application/json";const d=new URLSearchParams(r.search);for(const p in h)d.set(p,h[p]);for(const p in e.params)d.set(p,e.params[p]);r.search=new URLSearchParams(d).toString();let f=t&&t.headers?t.headers:{};n.headers={...u,...f,...e.headers};const w=typeof s!="string"||n.headers["Content-Type"]==="application/json";return n.data=w?JSON.stringify(s!==void 0?s:{}):s||"",{url:r.pathname+r.search+r.hash,options:n}},createAlbum:async(s,e={})=>{const a="/albums/create",r=new URL(a,"https://example.com");let t;l&&(t=l.baseOptions);const n={method:"POST",...t,...e},u={},h={};u["Content-Type"]="application/json";const d=new URLSearchParams(r.search);for(const p in h)d.set(p,h[p]);for(const p in e.params)d.set(p,e.params[p]);r.search=new URLSearchParams(d).toString();let f=t&&t.headers?t.headers:{};n.headers={...u,...f,...e.headers};const w=typeof s!="string"||n.headers["Content-Type"]==="application/json";return n.data=w?JSON.stringify(s!==void 0?s:{}):s||"",{url:r.pathname+r.search+r.hash,options:n}},deleteAlbum:async(s,e={})=>{if(s==null)throw new N("id","Required parameter id was null or undefined when calling deleteAlbum.");const a="/albums/{id}".replace("{id}",encodeURIComponent(String(s))),r=new URL(a,"https://example.com");let t;l&&(t=l.baseOptions);const n={method:"DELETE",...t,...e},u={},h={},d=new URLSearchParams(r.search);for(const w in h)d.set(w,h[w]);for(const w in e.params)d.set(w,e.params[w]);r.search=new URLSearchParams(d).toString();let f=t&&t.headers?t.headers:{};return n.headers={...u,...f,...e.headers},{url:r.pathname+r.search+r.hash,options:n}},getAlbumById:async(s,e={})=>{if(s==null)throw new N("id","Required parameter id was null or undefined when calling getAlbumById.");const a="/albums/{id}".replace("{id}",encodeURIComponent(String(s))),r=new URL(a,"https://example.com");let t;l&&(t=l.baseOptions);const n={method:"GET",...t,...e},u={},h={},d=new URLSearchParams(r.search);for(const w in h)d.set(w,h[w]);for(const w in e.params)d.set(w,e.params[w]);r.search=new URLSearchParams(d).toString();let f=t&&t.headers?t.headers:{};return n.headers={...u,...f,...e.headers},{url:r.pathname+r.search+r.hash,options:n}},getAlbumItems:async(s,e,a,r={})=>{if(s==null)throw new N("id","Required parameter id was null or undefined when calling getAlbumItems.");if(e==null)throw new N("perPage","Required parameter perPage was null or undefined when calling getAlbumItems.");if(a==null)throw new N("page","Required parameter page was null or undefined when calling getAlbumItems.");const t="/albums/list/{id}".replace("{id}",encodeURIComponent(String(s))),n=new URL(t,"https://example.com");let u;l&&(u=l.baseOptions);const h={method:"GET",...u,...r},d={},f={};e!==void 0&&(f.per_page=e),a!==void 0&&(f.page=a);const w=new URLSearchParams(n.search);for(const _ in f)w.set(_,f[_]);for(const _ in r.params)w.set(_,r.params[_]);n.search=new URLSearchParams(w).toString();let p=u&&u.headers?u.headers:{};return h.headers={...d,...p,...r.headers},{url:n.pathname+n.search+n.hash,options:h}},getCurrentAlbumSaveInfo:async(s,e,a={})=>{if(s==null)throw new N("type","Required parameter type was null or undefined when calling getCurrentAlbumSaveInfo.");if(e==null)throw new N("workId","Required parameter workId was null or undefined when calling getCurrentAlbumSaveInfo.");const r="/albums/current/{type}/{work_id}".replace("{type}",encodeURIComponent(String(s))).replace("{work_id}",encodeURIComponent(String(e))),t=new URL(r,"https://example.com");let n;l&&(n=l.baseOptions);const u={method:"GET",...n,...a},h={},d={},f=new URLSearchParams(t.search);for(const p in d)f.set(p,d[p]);for(const p in a.params)f.set(p,a.params[p]);t.search=new URLSearchParams(f).toString();let w=n&&n.headers?n.headers:{};return u.headers={...h,...w,...a.headers},{url:t.pathname+t.search+t.hash,options:u}},listUserAlbums:async(s,e,a,r,t={})=>{if(s==null)throw new N("userId","Required parameter userId was null or undefined when calling listUserAlbums.");if(e==null)throw new N("perPage","Required parameter perPage was null or undefined when calling listUserAlbums.");if(a==null)throw new N("page","Required parameter page was null or undefined when calling listUserAlbums.");if(r==null)throw new N("type","Required parameter type was null or undefined when calling listUserAlbums.");const n="/albums/user/{userId}".replace("{userId}",encodeURIComponent(String(s))),u=new URL(n,"https://example.com");let h;l&&(h=l.baseOptions);const d={method:"GET",...h,...t},f={},w={};e!==void 0&&(w.per_page=e),a!==void 0&&(w.page=a),r!==void 0&&(w.type=r);const p=new URLSearchParams(u.search);for(const c in w)p.set(c,w[c]);for(const c in t.params)p.set(c,t.params[c]);u.search=new URLSearchParams(p).toString();let _=h&&h.headers?h.headers:{};return d.headers={...f,..._,...t.headers},{url:u.pathname+u.search+u.hash,options:d}},proLimitIsCanCreateAlbum:async(s,e={})=>{const a="/albums/create/permission",r=new URL(a,"https://example.com");let t;l&&(t=l.baseOptions);const n={method:"POST",...t,...e},u={},h={};u["Content-Type"]="application/json";const d=new URLSearchParams(r.search);for(const p in h)d.set(p,h[p]);for(const p in e.params)d.set(p,e.params[p]);r.search=new URLSearchParams(d).toString();let f=t&&t.headers?t.headers:{};n.headers={...u,...f,...e.headers};const w=typeof s!="string"||n.headers["Content-Type"]==="application/json";return n.data=w?JSON.stringify(s!==void 0?s:{}):s||"",{url:r.pathname+r.search+r.hash,options:n}},removeWorkFromAlbum:async(s,e={})=>{const a="/albums/work/remove",r=new URL(a,"https://example.com");let t;l&&(t=l.baseOptions);const n={method:"DELETE",...t,...e},u={},h={};u["Content-Type"]="application/json";const d=new URLSearchParams(r.search);for(const p in h)d.set(p,h[p]);for(const p in e.params)d.set(p,e.params[p]);r.search=new URLSearchParams(d).toString();let f=t&&t.headers?t.headers:{};n.headers={...u,...f,...e.headers};const w=typeof s!="string"||n.headers["Content-Type"]==="application/json";return n.data=w?JSON.stringify(s!==void 0?s:{}):s||"",{url:r.pathname+r.search+r.hash,options:n}},updateAlbum:async(s,e={})=>{const a="/albums",r=new URL(a,"https://example.com");let t;l&&(t=l.baseOptions);const n={method:"PATCH",...t,...e},u={},h={};u["Content-Type"]="application/json";const d=new URLSearchParams(r.search);for(const p in h)d.set(p,h[p]);for(const p in e.params)d.set(p,e.params[p]);r.search=new URLSearchParams(d).toString();let f=t&&t.headers?t.headers:{};n.headers={...u,...f,...e.headers};const w=typeof s!="string"||n.headers["Content-Type"]==="application/json";return n.data=w?JSON.stringify(s!==void 0?s:{}):s||"",{url:r.pathname+r.search+r.hash,options:n}}}},pe=function(l){return{async addWorkToAlbum(s,e){const a=await me(l).addWorkToAlbum(s,e);return(r=K,t=Y)=>{const n={...a.options,url:t+a.url};return r.request(n)}},async countUserAlbumsByType(s,e){const a=await me(l).countUserAlbumsByType(s,e);return(r=K,t=Y)=>{const n={...a.options,url:t+a.url};return r.request(n)}},async createAlbum(s,e){const a=await me(l).createAlbum(s,e);return(r=K,t=Y)=>{const n={...a.options,url:t+a.url};return r.request(n)}},async deleteAlbum(s,e){const a=await me(l).deleteAlbum(s,e);return(r=K,t=Y)=>{const n={...a.options,url:t+a.url};return r.request(n)}},async getAlbumById(s,e){const a=await me(l).getAlbumById(s,e);return(r=K,t=Y)=>{const n={...a.options,url:t+a.url};return r.request(n)}},async getAlbumItems(s,e,a,r){const t=await me(l).getAlbumItems(s,e,a,r);return(n=K,u=Y)=>{const h={...t.options,url:u+t.url};return n.request(h)}},async getCurrentAlbumSaveInfo(s,e,a){const r=await me(l).getCurrentAlbumSaveInfo(s,e,a);return(t=K,n=Y)=>{const u={...r.options,url:n+r.url};return t.request(u)}},async listUserAlbums(s,e,a,r,t){const n=await me(l).listUserAlbums(s,e,a,r,t);return(u=K,h=Y)=>{const d={...n.options,url:h+n.url};return u.request(d)}},async proLimitIsCanCreateAlbum(s,e){const a=await me(l).proLimitIsCanCreateAlbum(s,e);return(r=K,t=Y)=>{const n={...a.options,url:t+a.url};return r.request(n)}},async removeWorkFromAlbum(s,e){const a=await me(l).removeWorkFromAlbum(s,e);return(r=K,t=Y)=>{const n={...a.options,url:t+a.url};return r.request(n)}},async updateAlbum(s,e){const a=await me(l).updateAlbum(s,e);return(r=K,t=Y)=>{const n={...a.options,url:t+a.url};return r.request(n)}}}};class fe extends Je{async addWorkToAlbum(s,e){return pe(this.configuration).addWorkToAlbum(s,e).then(a=>a(this.axios,this.basePath))}async countUserAlbumsByType(s,e){return pe(this.configuration).countUserAlbumsByType(s,e).then(a=>a(this.axios,this.basePath))}async createAlbum(s,e){return pe(this.configuration).createAlbum(s,e).then(a=>a(this.axios,this.basePath))}async deleteAlbum(s,e){return pe(this.configuration).deleteAlbum(s,e).then(a=>a(this.axios,this.basePath))}async getAlbumById(s,e){return pe(this.configuration).getAlbumById(s,e).then(a=>a(this.axios,this.basePath))}async getAlbumItems(s,e,a,r){return pe(this.configuration).getAlbumItems(s,e,a,r).then(t=>t(this.axios,this.basePath))}async getCurrentAlbumSaveInfo(s,e,a){return pe(this.configuration).getCurrentAlbumSaveInfo(s,e,a).then(r=>r(this.axios,this.basePath))}async listUserAlbums(s,e,a,r,t){return pe(this.configuration).listUserAlbums(s,e,a,r,t).then(n=>n(this.axios,this.basePath))}async proLimitIsCanCreateAlbum(s,e){return pe(this.configuration).proLimitIsCanCreateAlbum(s,e).then(a=>a(this.axios,this.basePath))}async removeWorkFromAlbum(s,e){return pe(this.configuration).removeWorkFromAlbum(s,e).then(a=>a(this.axios,this.basePath))}async updateAlbum(s,e){return pe(this.configuration).updateAlbum(s,e).then(a=>a(this.axios,this.basePath))}}const ce=function(l){return{addItemForLater:async(s,e,a={})=>{if(s==null)throw new N("type","Required parameter type was null or undefined when calling addItemForLater.");const r="/collections/later",t=new URL(r,"https://example.com");let n;l&&(n=l.baseOptions);const u={method:"POST",...n,...a},h={},d={};s!==void 0&&(d.type=s),h["Content-Type"]="application/json";const f=new URLSearchParams(t.search);for(const _ in d)f.set(_,d[_]);for(const _ in a.params)f.set(_,a.params[_]);t.search=new URLSearchParams(f).toString();let w=n&&n.headers?n.headers:{};u.headers={...h,...w,...a.headers};const p=typeof e!="string"||u.headers["Content-Type"]==="application/json";return u.data=p?JSON.stringify(e!==void 0?e:{}):e||"",{url:t.pathname+t.search+t.hash,options:u}},addItemToCollection:async(s,e,a,r={})=>{if(s==null)throw new N("type","Required parameter type was null or undefined when calling addItemToCollection.");if(e==null)throw new N("collectionId","Required parameter collectionId was null or undefined when calling addItemToCollection.");const t="/collections/{collectionId}/items".replace("{collectionId}",encodeURIComponent(String(e))),n=new URL(t,"https://example.com");let u;l&&(u=l.baseOptions);const h={method:"POST",...u,...r},d={},f={};s!==void 0&&(f.type=s),d["Content-Type"]="application/json";const w=new URLSearchParams(n.search);for(const c in f)w.set(c,f[c]);for(const c in r.params)w.set(c,r.params[c]);n.search=new URLSearchParams(w).toString();let p=u&&u.headers?u.headers:{};h.headers={...d,...p,...r.headers};const _=typeof a!="string"||h.headers["Content-Type"]==="application/json";return h.data=_?JSON.stringify(a!==void 0?a:{}):a||"",{url:n.pathname+n.search+n.hash,options:h}},countUserCollectionsByType:async(s,e={})=>{const a="/collections/count",r=new URL(a,"https://example.com");let t;l&&(t=l.baseOptions);const n={method:"POST",...t,...e},u={},h={};u["Content-Type"]="application/json";const d=new URLSearchParams(r.search);for(const p in h)d.set(p,h[p]);for(const p in e.params)d.set(p,e.params[p]);r.search=new URLSearchParams(d).toString();let f=t&&t.headers?t.headers:{};n.headers={...u,...f,...e.headers};const w=typeof s!="string"||n.headers["Content-Type"]==="application/json";return n.data=w?JSON.stringify(s!==void 0?s:{}):s||"",{url:r.pathname+r.search+r.hash,options:n}},create:async(s,e={})=>{const a="/collections/create",r=new URL(a,"https://example.com");let t;l&&(t=l.baseOptions);const n={method:"POST",...t,...e},u={},h={};u["Content-Type"]="application/json";const d=new URLSearchParams(r.search);for(const p in h)d.set(p,h[p]);for(const p in e.params)d.set(p,e.params[p]);r.search=new URLSearchParams(d).toString();let f=t&&t.headers?t.headers:{};n.headers={...u,...f,...e.headers};const w=typeof s!="string"||n.headers["Content-Type"]==="application/json";return n.data=w?JSON.stringify(s!==void 0?s:{}):s||"",{url:r.pathname+r.search+r.hash,options:n}},deleteCollection:async(s,e={})=>{if(s==null)throw new N("id","Required parameter id was null or undefined when calling deleteCollection.");const a="/collections/{id}".replace("{id}",encodeURIComponent(String(s))),r=new URL(a,"https://example.com");let t;l&&(t=l.baseOptions);const n={method:"DELETE",...t,...e},u={},h={},d=new URLSearchParams(r.search);for(const w in h)d.set(w,h[w]);for(const w in e.params)d.set(w,e.params[w]);r.search=new URLSearchParams(d).toString();let f=t&&t.headers?t.headers:{};return n.headers={...u,...f,...e.headers},{url:r.pathname+r.search+r.hash,options:n}},detail:async(s,e={})=>{if(s==null)throw new N("id","Required parameter id was null or undefined when calling detail.");const a="/collections/{id}".replace("{id}",encodeURIComponent(String(s))),r=new URL(a,"https://example.com");let t;l&&(t=l.baseOptions);const n={method:"GET",...t,...e},u={},h={},d=new URLSearchParams(r.search);for(const w in h)d.set(w,h[w]);for(const w in e.params)d.set(w,e.params[w]);r.search=new URLSearchParams(d).toString();let f=t&&t.headers?t.headers:{};return n.headers={...u,...f,...e.headers},{url:r.pathname+r.search+r.hash,options:n}},getCurrentSaveInfo:async(s,e,a={})=>{if(s==null)throw new N("type","Required parameter type was null or undefined when calling getCurrentSaveInfo.");if(e==null)throw new N("workId","Required parameter workId was null or undefined when calling getCurrentSaveInfo.");const r="/collections/current/{type}/{work_id}".replace("{type}",encodeURIComponent(String(s))).replace("{work_id}",encodeURIComponent(String(e))),t=new URL(r,"https://example.com");let n;l&&(n=l.baseOptions);const u={method:"GET",...n,...a},h={},d={},f=new URLSearchParams(t.search);for(const p in d)f.set(p,d[p]);for(const p in a.params)f.set(p,a.params[p]);t.search=new URLSearchParams(f).toString();let w=n&&n.headers?n.headers:{};return u.headers={...h,...w,...a.headers},{url:t.pathname+t.search+t.hash,options:u}},listCollectionItems:async(s,e,a,r={})=>{if(s==null)throw new N("id","Required parameter id was null or undefined when calling listCollectionItems.");if(e==null)throw new N("perPage","Required parameter perPage was null or undefined when calling listCollectionItems.");if(a==null)throw new N("page","Required parameter page was null or undefined when calling listCollectionItems.");const t="/collections/{id}/items".replace("{id}",encodeURIComponent(String(s))),n=new URL(t,"https://example.com");let u;l&&(u=l.baseOptions);const h={method:"GET",...u,...r},d={},f={};e!==void 0&&(f.per_page=e),a!==void 0&&(f.page=a);const w=new URLSearchParams(n.search);for(const _ in f)w.set(_,f[_]);for(const _ in r.params)w.set(_,r.params[_]);n.search=new URLSearchParams(w).toString();let p=u&&u.headers?u.headers:{};return h.headers={...d,...p,...r.headers},{url:n.pathname+n.search+n.hash,options:h}},listUserCollections:async(s,e,a,r,t,n={})=>{if(s==null)throw new N("userId","Required parameter userId was null or undefined when calling listUserCollections.");if(e==null)throw new N("type","Required parameter type was null or undefined when calling listUserCollections.");if(a==null)throw new N("page","Required parameter page was null or undefined when calling listUserCollections.");if(r==null)throw new N("perPage","Required parameter perPage was null or undefined when calling listUserCollections.");const u="/collections/user/{userId}".replace("{userId}",encodeURIComponent(String(s))),h=new URL(u,"https://example.com");let d;l&&(d=l.baseOptions);const f={method:"GET",...d,...n},w={},p={};e!==void 0&&(p.type=e),t!==void 0&&(p.name=t),a!==void 0&&(p.page=a),r!==void 0&&(p.per_page=r);const _=new URLSearchParams(h.search);for(const m in p)_.set(m,p[m]);for(const m in n.params)_.set(m,n.params[m]);h.search=new URLSearchParams(_).toString();let c=d&&d.headers?d.headers:{};return f.headers={...w,...c,...n.headers},{url:h.pathname+h.search+h.hash,options:f}},proLimitIsCanCreateCollection:async(s,e={})=>{const a="/collections/create/permission",r=new URL(a,"https://example.com");let t;l&&(t=l.baseOptions);const n={method:"POST",...t,...e},u={},h={};u["Content-Type"]="application/json";const d=new URLSearchParams(r.search);for(const p in h)d.set(p,h[p]);for(const p in e.params)d.set(p,e.params[p]);r.search=new URLSearchParams(d).toString();let f=t&&t.headers?t.headers:{};n.headers={...u,...f,...e.headers};const w=typeof s!="string"||n.headers["Content-Type"]==="application/json";return n.data=w?JSON.stringify(s!==void 0?s:{}):s||"",{url:r.pathname+r.search+r.hash,options:n}},removeItemFromCollection:async(s,e,a,r={})=>{if(s==null)throw new N("type","Required parameter type was null or undefined when calling removeItemFromCollection.");if(e==null)throw new N("collectionId","Required parameter collectionId was null or undefined when calling removeItemFromCollection.");const t="/collections/{collectionId}/items".replace("{collectionId}",encodeURIComponent(String(e))),n=new URL(t,"https://example.com");let u;l&&(u=l.baseOptions);const h={method:"DELETE",...u,...r},d={},f={};s!==void 0&&(f.type=s),d["Content-Type"]="application/json";const w=new URLSearchParams(n.search);for(const c in f)w.set(c,f[c]);for(const c in r.params)w.set(c,r.params[c]);n.search=new URLSearchParams(w).toString();let p=u&&u.headers?u.headers:{};h.headers={...d,...p,...r.headers};const _=typeof a!="string"||h.headers["Content-Type"]==="application/json";return h.data=_?JSON.stringify(a!==void 0?a:{}):a||"",{url:n.pathname+n.search+n.hash,options:h}},updateCollection:async(s,e={})=>{const a="/collections",r=new URL(a,"https://example.com");let t;l&&(t=l.baseOptions);const n={method:"PATCH",...t,...e},u={},h={};u["Content-Type"]="application/json";const d=new URLSearchParams(r.search);for(const p in h)d.set(p,h[p]);for(const p in e.params)d.set(p,e.params[p]);r.search=new URLSearchParams(d).toString();let f=t&&t.headers?t.headers:{};n.headers={...u,...f,...e.headers};const w=typeof s!="string"||n.headers["Content-Type"]==="application/json";return n.data=w?JSON.stringify(s!==void 0?s:{}):s||"",{url:r.pathname+r.search+r.hash,options:n}}}},de=function(l){return{async addItemForLater(s,e,a){const r=await ce(l).addItemForLater(s,e,a);return(t=K,n=Y)=>{const u={...r.options,url:n+r.url};return t.request(u)}},async addItemToCollection(s,e,a,r){const t=await ce(l).addItemToCollection(s,e,a,r);return(n=K,u=Y)=>{const h={...t.options,url:u+t.url};return n.request(h)}},async countUserCollectionsByType(s,e){const a=await ce(l).countUserCollectionsByType(s,e);return(r=K,t=Y)=>{const n={...a.options,url:t+a.url};return r.request(n)}},async create(s,e){const a=await ce(l).create(s,e);return(r=K,t=Y)=>{const n={...a.options,url:t+a.url};return r.request(n)}},async deleteCollection(s,e){const a=await ce(l).deleteCollection(s,e);return(r=K,t=Y)=>{const n={...a.options,url:t+a.url};return r.request(n)}},async detail(s,e){const a=await ce(l).detail(s,e);return(r=K,t=Y)=>{const n={...a.options,url:t+a.url};return r.request(n)}},async getCurrentSaveInfo(s,e,a){const r=await ce(l).getCurrentSaveInfo(s,e,a);return(t=K,n=Y)=>{const u={...r.options,url:n+r.url};return t.request(u)}},async listCollectionItems(s,e,a,r){const t=await ce(l).listCollectionItems(s,e,a,r);return(n=K,u=Y)=>{const h={...t.options,url:u+t.url};return n.request(h)}},async listUserCollections(s,e,a,r,t,n){const u=await ce(l).listUserCollections(s,e,a,r,t,n);return(h=K,d=Y)=>{const f={...u.options,url:d+u.url};return h.request(f)}},async proLimitIsCanCreateCollection(s,e){const a=await ce(l).proLimitIsCanCreateCollection(s,e);return(r=K,t=Y)=>{const n={...a.options,url:t+a.url};return r.request(n)}},async removeItemFromCollection(s,e,a,r){const t=await ce(l).removeItemFromCollection(s,e,a,r);return(n=K,u=Y)=>{const h={...t.options,url:u+t.url};return n.request(h)}},async updateCollection(s,e){const a=await ce(l).updateCollection(s,e);return(r=K,t=Y)=>{const n={...a.options,url:t+a.url};return r.request(n)}}}};class ve extends Je{async addItemForLater(s,e,a){return de(this.configuration).addItemForLater(s,e,a).then(r=>r(this.axios,this.basePath))}async addItemToCollection(s,e,a,r){return de(this.configuration).addItemToCollection(s,e,a,r).then(t=>t(this.axios,this.basePath))}async countUserCollectionsByType(s,e){return de(this.configuration).countUserCollectionsByType(s,e).then(a=>a(this.axios,this.basePath))}async create(s,e){return de(this.configuration).create(s,e).then(a=>a(this.axios,this.basePath))}async deleteCollection(s,e){return de(this.configuration).deleteCollection(s,e).then(a=>a(this.axios,this.basePath))}async detail(s,e){return de(this.configuration).detail(s,e).then(a=>a(this.axios,this.basePath))}async getCurrentSaveInfo(s,e,a){return de(this.configuration).getCurrentSaveInfo(s,e,a).then(r=>r(this.axios,this.basePath))}async listCollectionItems(s,e,a,r){return de(this.configuration).listCollectionItems(s,e,a,r).then(t=>t(this.axios,this.basePath))}async listUserCollections(s,e,a,r,t,n){return de(this.configuration).listUserCollections(s,e,a,r,t,n).then(u=>u(this.axios,this.basePath))}async proLimitIsCanCreateCollection(s,e){return de(this.configuration).proLimitIsCanCreateCollection(s,e).then(a=>a(this.axios,this.basePath))}async removeItemFromCollection(s,e,a,r){return de(this.configuration).removeItemFromCollection(s,e,a,r).then(t=>t(this.axios,this.basePath))}async updateCollection(s,e){return de(this.configuration).updateCollection(s,e).then(a=>a(this.axios,this.basePath))}}function ze(){return{animate:e=>{const a=document.getElementById(e);a==null||a.classList.add("animate-bounce"),setInterval(()=>{a==null||a.classList.remove("animate-bounce")},2500)}}}function vt(){return{readMore:(s,e,a,r)=>{const t=document.getElementById(`${r}${e}`);t&&(t.innerHTML=s);const n=document.getElementById(`${a}${e}`);n&&n.classList.add("hidden")}}}const gt={class:"flex-col info"},yt={key:0,class:"user-info"},_t={class:"flex flex-row gap-2 w-full"},kt=["src"],bt={class:"w-full name"},$t={class:"flex flex-row justify-between"},Ct={class:"flex flex-col"},xt={class:"title"},Rt={key:1,class:"mb-4"},It=["id","innerHTML"],At=["id"],St={class:"mb-4"},Pt={key:2,class:"tags"},Ut={__name:"ModalViewInfo",props:{section:{type:String,default:""},isModal:{type:Boolean,default:!1},artworkDetail:{type:Object,default:()=>{}},previewMode:{type:Boolean,default:!1},isDesktop:{type:Boolean,default:!1}},setup(l){Ke();const s=(e,a,r,t)=>{vt().readMore(e,a,r,t)};return(e,a)=>{const r=$e;return g(),b("section",gt,[l.artworkDetail.users?(g(),b("div",yt,[i("div",_t,[k(r,{to:"/u/"+l.artworkDetail.users.username},{default:z(()=>[i("img",{class:"avatar",src:e.avatarCoverUrl(l.artworkDetail.users.avatar_bucket,l.artworkDetail.users.avatar_filename),onError:a[0]||(a[0]=(...t)=>e.defaultCoverImage&&e.defaultCoverImage(...t))},null,40,kt)]),_:1},8,["to"]),i("div",bt,[i("div",$t,[i("div",Ct,[k(r,{to:"/u/"+l.artworkDetail.users.username,class:"flex flex-row gap-2 fullname"},{default:z(()=>[F(v(l.artworkDetail.users.name)+" ",1),l.artworkDetail.users.is_pro?(g(),se(Pe,{key:0})):A("",!0)]),_:1},8,["to"]),k(r,{to:"/u/"+l.artworkDetail.users.username,class:"username"},{default:z(()=>[F(" @"+v(l.artworkDetail.users.username),1)]),_:1},8,["to"])]),P(i("div",{class:"p-1 h-7 font-bold text-white bg-red-500 rounded-md border-2 border-red-500 cursor-pointer hover:bg-red-600 hover:border-red-600",style:{"font-size":"10px"},onClick:a[1]||(a[1]=t=>e.closeModal(`${l.section}-modal`))}," ESC ",512),[[L,l.isModal]])])])])])):A("",!0),i("div",xt,v(l.artworkDetail.title),1),l.artworkDetail.description?(g(),b("div",Rt,[i("span",{id:"mview-"+l.isDesktop+"-description-"+l.artworkDetail.id,innerHTML:l.artworkDetail.description.length>300?`${l.artworkDetail.description.slice(0,300)}...`:l.artworkDetail.description},null,8,It),l.artworkDetail.description.length>300?(g(),b("a",{key:0,id:"mview-"+l.isDesktop+"-read-more-"+l.artworkDetail.id,class:"href",onClick:a[2]||(a[2]=_e(t=>s(l.artworkDetail.description,l.artworkDetail.id,"mview-"+l.isDesktop+"-read-more-","mview-"+l.isDesktop+"-description-"),["prevent"]))},v(e.$t("readMore")),9,At)):A("",!0)])):A("",!0),i("div",St,[i("span",{class:X(["italic text-color-secondary",{"font-bold text-red-400":l.previewMode}])},v(l.previewMode?e.$t("willBePublishedIn",{publishDate:e.formatDate(l.artworkDetail.scheduled_post)}):e.$t("publishedIn",{publishDate:e.formatDate(l.artworkDetail.scheduled_post)})),3)]),l.artworkDetail.artwork_has_tags&&l.artworkDetail.artwork_has_tags.length?(g(),b("div",Pt,[(g(!0),b(ue,null,ge(l.artworkDetail.artwork_has_tags,t=>(g(),b("span",{key:t.artwork_tags.id,class:"tag"},[k(r,{to:`/artworks/browse?tags=${t.artwork_tags.tag.replaceAll(" ","+")}`,onClick:a[3]||(a[3]=n=>e.closeModal(`${l.section}-modal`))},{default:z(()=>[F(v(t.artwork_tags.tag),1)]),_:2},1032,["to"])]))),128))])):A("",!0)])}}},Ge=be(Ut,[["__scopeId","data-v-2df3b962"]]);function Lt(l,s){return{proCanCreateCollection:async c=>{try{const{data:m}=await new ve(l).proLimitIsCanCreateCollection({type:c.type},s);return[m.data.is_can_create,null]}catch(m){return[null,T().consumeReadableStreamError(m)]}},createCollection:async(c,m)=>{try{const{data:x}=await new ve(l).create({name:m.title,description:m.description,is_public:m.isPublic?1:0,type:c},s);return[x.success,x.data,null]}catch(x){return[null,null,T().consumeReadableStreamError(x)]}},getInfo:async c=>{try{return[(await new ve(l).detail(c,s)).data,null]}catch(m){return[null,T().consumeReadableStreamError(m)]}},countCollections:async c=>{try{const{data:m}=await new Le(l).countUserCollections(c,s);return[m.data.total,null]}catch(m){return[null,T().consumeReadableStreamError(m)]}},countArtworkCollections:async c=>{try{const{data:m}=await new Le(l).countUserArtworkCollections(c,s);return[m.data.total,null]}catch(m){return[null,T().consumeReadableStreamError(m)]}},fetchCollections:async c=>{try{const{data:m}=await new ve(l).listUserCollections(c.userId,c.type,c.pagination.page,c.pagination.perPage,c.name,s),x=m.data.collections,U=m.data.pagination;let M=!0;return U.current_page===U.total_page&&(M=!1),[x,M,null]}catch(m){return[null,!1,T().consumeReadableStreamError(m)]}},listCollectionItems:async c=>{try{const{data:m}=await new ve(l).listCollectionItems(c.collectionId,c.pagination.perPage,c.pagination.page,s),x=m.data.pagination;let U=!0;return x.current_page===x.total_page&&(U=!1),[m.data.items,U,null]}catch(m){return[null,!1,T().consumeReadableStreamError(m)]}},getCurrentSaveInfo:async(c,m)=>{try{const{data:x}=await new ve(l).getCurrentSaveInfo(c,m,s);return[x.data,null]}catch(x){return[null,T().consumeReadableStreamError(x)]}},addItem:async c=>{try{return await new ve(l).addItemToCollection(c.type,c.collectionId,{id:c.workId},s),[!0,null]}catch(m){return[null,T().consumeReadableStreamError(m)]}},removeItem:async c=>{try{const{data:m}=await new ve(l).removeItemFromCollection(c.type,c.collectionId,{id:c.workId},s);return[m.success,null]}catch(m){return[null,T().consumeReadableStreamError(m)]}},update:async c=>{try{const{data:m}=await new ve(l).updateCollection({id:c.id,name:c.name,description:c.description,is_public:c.isPublic},s);return[m.success,null]}catch(m){return[null,T().consumeReadableStreamError(m)]}},deleteCollection:async c=>{try{const{data:m}=await new ve(l).collectionsIdDelete(c,s);return[m.success,null]}catch(m){return[null,T().consumeReadableStreamError(m)]}}}}const Ot={class:"w-full modal-layer xl:w-3/12 lg:w-2/5"},Vt={class:"flex flex-row justify-between w-full"},Mt={class:"title"},Tt={class:"flex float-right flex-row gap-2 mb-2 cursor-pointer"},Et={class:"list"},qt={class:"overflow-y-scroll pr-2 max-h-60"},jt=["onClick"],Bt={class:"flex flex-row justify-between"},Ft={class:"flex flex-row"},Dt={key:0,class:"flex flex-row mt-2 w-full"},Wt={class:"leading-6"},Ht={class:"flex float-right flex-row gap-2 mt-4 w-full md:w-auto"},Nt=["placeholder"],Qt={class:"flex flex-row justify-between mt-2"},zt={__name:"ManageSave",props:{modalId:{type:String,default:"collection-selection-modal"},workId:{type:Number,default:0}},emits:["save"],setup(l,{expose:s,emit:e}){const a=l,r=Ce(),{oApiConfiguration:t,fetchOptions:n}=T(),u=Lt(t,n());Ye(()=>{d()});const h=I(!1),d=async()=>{if(r.i502p00r0)h.value=!0;else{const[j,V]=await u.proCanCreateCollection({type:he.ARTWORK});V?h.value=!1:h.value=j}},f=I({pagination:{page:0,perPage:10},loading:!1}),w=I(!1),p=I(!1),_=I([]),c=async(j=!1)=>{await d(),j||(_.value=[],f.value.loading=!0);const[V,H,J]=await u.fetchCollections({userId:r.user.id,type:he.ARTWORK,pagination:{page:f.value.pagination.page,perPage:f.value.pagination.perPage}});f.value.loading=!1,J&&(w.value=!0),J||(V&&V.length>0?(H?(f.value.pagination.page+=1,U.value=!0):U.value=!1,V.forEach(ke=>{_.value.push(ke)})):p.value=!0)},m=I([]),x=async()=>{w.value=!1,m.value=[],E.value=[],C.value=[],await setTimeout(async()=>{const[j,V]=await u.getCurrentSaveInfo(he.ARTWORK,a.workId);if(V)w.value=!0;else for(const H of j)E.value.push(H.collection_id),m.value.push(H.collection_id)},300)},U=I(!0),M=async()=>{await c({isLoadMore:!0}),await x()},E=I([]),C=I([]),Z=j=>{if(E.value.includes(j)){C.value.push(j);const V=E.value.indexOf(j);E.value.splice(V,1)}else if(E.value.push(j),C.value.includes(j)){const V=C.value.indexOf(j);C.value.splice(V,1)}},ae=async()=>{try{for(const V of E.value)await u.addItem({collectionId:V,type:he.ARTWORK,workId:a.workId});if(C.value.length)for(const V of C.value)await u.removeItem({collectionId:V,type:he.ARTWORK,workId:a.workId});let j=!1;E.value.length===0&&m.value.length===C.value.length&&(j=!0),await x(),oe().closeModal(a.modalId),e("save",j)}catch{}},ee=I(""),G=I(!1),re=async()=>{G.value=!1;const[j,V,H]=await u.createCollection(he.ARTWORK,{title:ee.value,isPublic:1,description:""});j?(_.value=[],q(),f.value.pagination.page=0,await c(),await x(),await d(),ee.value="",Q()):G.value=!0},ne=I(!1);let D;const Q=()=>{ne.value=!0,We().splash(D,ne,"collection-created-alert")},q=()=>{E.value=[]},ie=()=>{oe().closeModal(a.modalId),q()};return s({fetchCollection:c,fetchCurrentSaved:x}),(j,V)=>(g(),b("div",null,[i("div",Ot,[i("div",null,[i("div",Vt,[i("span",Mt,v(j.$t("collections.addItem.form.title")),1),i("div",Tt,[i("div",{class:"modal-close",onClick:V[0]||(V[0]=H=>ie())},[k(O,{name:"i-majesticons-close",class:"text-2xl"})])])]),P(i("div",Et,[i("div",qt,[(g(!0),b(ue,null,ge(o(_),(H,J)=>(g(),b("div",{key:H.id,class:X(["item",{"mt-2":J!==0},o(E).includes(H.id)?"button-color text-white":"theme-color-secondary",H.is_can_add_more?"cursor-pointer":"cursor-not-allowed"]),onClick:ke=>H.is_can_add_more?Z(H.id):null},[i("div",Bt,[i("span",null,v(H.name),1),i("div",Ft,[i("span",{class:X(["ml-2 font-bold",o(E).includes(H.id)?"text-white":"text-colored"])},v(H._count.collection_has_artworks),3)])]),H.is_can_add_more?A("",!0):(g(),b("div",Dt,[k(Pe,{class:"mr-1"}),i("p",Wt,v(j.$t("collections.maxItemLimitReached")),1)]))],10,jt))),128))]),P(i("div",{class:"mt-2 text-center href",onClick:V[1]||(V[1]=H=>M())},v(j.$t("loadMore").toLowerCase()),513),[[L,o(U)]]),i("div",Ht,[i("button",{class:"cancel-button w-full",onClick:V[2]||(V[2]=H=>ie())},v(j.$t("cancel")),1),i("button",{class:"primary-button w-full",onClick:V[3]||(V[3]=H=>ae())},v(j.$t("save")),1)])],512),[[L,!o(f).loading&&!o(w)&&!o(p)]]),P(i("div",null,[P(i("input",{"onUpdate:modelValue":V[4]||(V[4]=H=>Se(ee)?ee.value=H:null),type:"text",class:X(["mt-4 mb-0 form-input theme-color-secondary",{"border border-red-400":o(G)}]),placeholder:j.$t("collections.createNewCollection")},null,10,Nt),[[Re,o(ee)]]),i("div",Qt,[i("div",null,[P(i("span",{class:"font-bold text-red-400 transition-all duration-200 ease-in-out"},v(j.$t("collections.failedToCreateCollection")),513),[[L,o(G)]])]),P(i("button",{class:"flex flex-row primary-button",onClick:V[5]||(V[5]=H=>o(h)?re():null)},[i("span",{class:X({"leading-6":!o(h)})},v(j.$t("create")),3),o(h)?A("",!0):(g(),se(Pe,{key:0,class:"ml-1"}))],512),[[L,o(ee)&&o(ee).length>0]])])],512),[[L,!o(f).loading&&!o(w)&&!o(p)]])]),k(Ve,{loading:o(f).loading,empty:o(p),error:o(w),fetch:c},null,8,["loading","empty","error"])]),P(k(De,{id:"collection-created-alert",text:j.$t("collections.collectionCreated"),icon:"i-bi-check-all"},null,8,["text"]),[[L,o(ne)]])]))}},Gt=be(zt,[["__scopeId","data-v-4426a6f9"]]);function Jt(l,s){return{proCanCreateAlbum:async c=>{try{const{data:m}=await new fe(l).proLimitIsCanCreateAlbum({type:c.type},s);return[m.data.is_can_create,null]}catch(m){return[null,T().consumeReadableStreamError(m)]}},createAlbum:async(c,m)=>{try{const{data:x}=await new fe(l).createAlbum({name:m.title,description:m.description,is_public:m.isPublic?1:0,type:c},s);return[x.success,x.data,null]}catch(x){return[null,null,T().consumeReadableStreamError(x)]}},getInfo:async c=>{try{return[(await new fe(l).getAlbumById(c,s)).data,null]}catch(m){return[null,T().consumeReadableStreamError(m)]}},countAlbums:async c=>{try{const{data:m}=await new Le(l).countUserAlbums(c,s);return[m.data.total,null]}catch(m){return[null,T().consumeReadableStreamError(m)]}},countArtworkAlbums:async c=>{try{const{data:m}=await new Le(l).countUserArtworkAlbums(c,s);return[m.data.total,null]}catch(m){return[null,T().consumeReadableStreamError(m)]}},fetchAlbums:async(c,m,x,U)=>{try{const{data:M}=await new fe(l).listUserAlbums(c,x,U,m,s),E=M.data.pagination;let C=!0;return E.current_page===E.total_page&&(C=!1),[M.data.albums,C,null]}catch(M){return[null,!1,T().consumeReadableStreamError(M)]}},listAlbumItems:async c=>{try{const{data:m}=await new fe(l).getAlbumItems(c.albumId,c.pagination.perPage,c.pagination.page,s),x=m.data.pagination;let U=!0;return x.current_page===x.total_page&&(U=!1),[m.data.works,U,null]}catch(m){return[null,!1,T().consumeReadableStreamError(m)]}},getCurrentSaveInfo:async(c,m)=>{try{const{data:x}=await new fe(l).getCurrentAlbumSaveInfo(c,m,s);return[x.data,null]}catch(x){return[null,T().consumeReadableStreamError(x)]}},addItems:async c=>{try{for(const m of c.albumIds)await new fe(l).addWorkToAlbum({album_id:m,type:c.type,work_ids:c.workIds},s);return[!0,null]}catch(m){return[null,T().consumeReadableStreamError(m)]}},removeItems:async(c,m)=>{try{const{data:x}=await new fe(l).removeWorkFromAlbum({album_id:c,work_ids:m},s);return[x.success,null]}catch(x){return[null,T().consumeReadableStreamError(x)]}},update:async c=>{try{const{data:m}=await new fe(l).updateAlbum({id:c.id,name:c.name,description:c.description,is_public:c.isPublic?1:0},s);return[m.success,null]}catch(m){return[null,T().consumeReadableStreamError(m)]}},deleteAlbum:async c=>{try{const{data:m}=await new fe(l).deleteAlbum(c,s);return[m.success,null]}catch(m){return[null,T().consumeReadableStreamError(m)]}}}}const Kt={class:"w-full modal-layer xl:w-3/12 lg:w-2/5"},Yt={class:"flex flex-row justify-between w-full"},Xt={class:"title"},Zt={class:"flex float-right flex-row gap-2 mb-2 cursor-pointer"},es={class:"list"},ts={class:"overflow-y-scroll pr-2 max-h-60"},ss=["onClick"],as={class:"flex flex-row justify-between"},os={key:0,class:"flex flex-row mt-2 w-full"},rs={class:"leading-6"},ns={class:"flex float-right flex-row gap-2 mt-4"},ls={__name:"ManageAlbum",props:{modalId:{type:String,default:"album-selection-modal"},workId:{type:Number,default:0},workIds:{type:Array,default:()=>[]}},emits:["addedToAlbum"],setup(l,{expose:s,emit:e}){const a=l,r=Ce(),{oApiConfiguration:t,fetchOptions:n}=T(),u=Jt(t,n());wt(t,n()),Ye(async()=>{await d()});const h=I(999),d=async()=>{h.value=12},f=async()=>{w.value=[],p.value.pagination.page=0,U(),await x()},w=I([]),p=I({pagination:{perPage:10,page:0,firstLoad:10},showLoadMore:!0}),_=I(!0),c=I(!1),m=I(!1),x=async()=>{U(),_.value=!0;const[D,Q,q]=await u.fetchAlbums(r.user.id,he.ARTWORK,p.value.pagination.page===0?p.value.pagination.firstLoad:p.value.pagination.perPage,p.value.pagination.page);q&&(c.value=!0),D.length?(Q?(p.value.pagination.page+=1,p.value.showLoadMore=!0):p.value.showLoadMore=!1,D.forEach(ie=>{w.value.push(ie)})):m.value=!0,_.value=!1},U=()=>{m.value=!1,c.value=!1},M=I([]),E=async()=>{M.value=[],Z.value=[],ae.value=[];const[D,Q]=await u.getCurrentSaveInfo(he.ARTWORK,a.workId);for(const q of D)Z.value.push(q.album_id),M.value.push(q.album_id)},C=async()=>{await x(),await E()},Z=I([]),ae=I([]),ee=D=>{if(Z.value.includes(D)){ae.value.push(D);const Q=Z.value.indexOf(D);Z.value.splice(Q,1)}else if(Z.value.push(D),ae.value.includes(D)){const Q=ae.value.indexOf(D);ae.value.splice(Q,1)}},G=async()=>{const[D,Q]=await u.addItems({albumIds:Z.value,type:he.ARTWORK,workIds:a.workIds.length?a.workIds:[a.workId]});if(!a.workIds.length&&ae.value.length)for(const q of ae.value)await u.removeItems(q,[a.workId]);if(D){let q=!1;a.workIds.length||Z.value.length===0&&M.value.length===ae.value.length&&(q=!0),re(),oe().closeModal(a.modalId),e("addedToAlbum",a.workIds.length?!0:q)}},re=()=>{Z.value=[]},ne=()=>{oe().closeModal(a.modalId),re()};return s({fetchTop:f,fetchCurrentSaved:E}),(D,Q)=>(g(),b("div",null,[i("div",Kt,[i("div",null,[i("div",Yt,[i("span",Xt,v(D.$t("albums.selectAlbums")),1),i("div",Zt,[i("div",{class:"modal-close",onClick:Q[0]||(Q[0]=q=>ne())},[k(O,{name:"i-ion-close-outline",class:"text-2xl"})])])]),i("div",es,[P(i("div",null,[i("div",ts,[(g(!0),b(ue,null,ge(o(w),(q,ie)=>(g(),b("div",{key:q.id,class:X(["item",{"mt-2":ie!==0},o(Z).includes(q.id)?"button-color text-white":"theme-color-secondary",q.is_can_add_more?"cursor-pointer":"cursor-not-allowed"]),onClick:j=>q.is_can_add_more?ee(q.id):null},[i("div",as,[i("span",null,v(q.name),1),i("span",{class:X(["ml-2 font-bold",o(Z).includes(q.id)?"text-white":"text-colored"])},v(q._count.album_has_artworks),3)]),!o(r).i502p00r0&&!q.is_can_add_more||!o(r).i502p00r0&&q._count.album_has_artworks>o(h)?(g(),b("div",os,[k(Pe,{class:"mr-1"}),i("p",rs,v(D.$t("albums.maxItemLimitReached")),1)])):A("",!0)],10,ss))),128))]),P(i("div",{class:"mt-2 text-center href",onClick:Q[1]||(Q[1]=q=>C())},v(D.$t("loadMore").toLowerCase()),513),[[L,o(p).showLoadMore]]),i("div",ns,[i("button",{class:"cancel-button w-full",onClick:Q[2]||(Q[2]=q=>ne())},v(D.$t("cancel")),1),i("button",{class:"primary-button w-full",onClick:Q[3]||(Q[3]=q=>G())},v(D.$t("save")),1)])],512),[[L,!o(_)&&!o(m)&&!o(c)]])])]),k(Ve,{loading:o(_),empty:o(m),"empty-message":D.$t("albums.empty"),error:o(c),fetch:f},null,8,["loading","empty","empty-message","error"])])]))}},is=be(ls,[["__scopeId","data-v-80f2d79f"]]);const cs={class:"w-full modal-layer xl:w-1/4 lg:w-2/5"},ds=["innerHTML"],us={class:"flex flex-row justify-end gap-2"},ms={__name:"ConfirmationDialog",props:{modalId:{type:String,default:"confirmation-dialog-modal"},message:{type:String,default:"Are you sure?"},onAccept:{type:Function,default:()=>{}}},emits:"onAccept",setup(l,{emit:s}){const e=l,a=r=>{r&&s("onAccept",!0),oe().closeModal(e.modalId)};return(r,t)=>(g(),b("div",null,[i("div",cs,[i("p",{class:"mb-4",innerHTML:l.message},null,8,ds),i("div",us,[i("button",{class:"cancel-button",onClick:t[0]||(t[0]=n=>a(!1))},v(r.$t("no")),1),i("button",{class:"danger-button",onClick:t[1]||(t[1]=n=>a(!0))},v(r.$t("yes")),1)])])]))}};const nt=l=>(Be("data-v-eb1275b1"),l=l(),Fe(),l),ps={class:"opt-modal modal-layer"},hs={class:"opt-modal__title"},ws={class:"flex float-right flex-row gap-2 mb-2 cursor-pointer"},fs={class:"opt-modal__content"},vs={class:"report"},gs={class:"report__reason_opt"},ys={class:"report__title"},_s=["onClick"],ks={class:"report__title"},bs=["placeholder"],$s={class:"report__buttons"},Cs={class:"text-justify"},xs={class:"mt-2"},Rs=nt(()=>i("i",null,"Your report ID:",-1)),Is=nt(()=>i("i",null,"Report date:",-1)),As={__name:"ReportModal",props:{type:{type:String,default:""},postId:{type:Number,default:0},reportStatus:{type:Object,default:()=>{}}},setup(l){const s=l,{oApiConfiguration:e,fetchOptions:a}=T(),r=ot(e,a()),t=I(["stolen","spam","hateSpeech","harassment","falseInfo","suicide","terrorism","aiGeneratedArt","somethingElse"]),n=I({selectedReasons:[],reasonDescription:"",enableSubmit:je(()=>n.value.selectedReasons.length>0&&n.value.reasonDescription!=="")}),u=_=>{if(!n.value.selectedReasons.includes(_))n.value.selectedReasons.push(_);else{const c=n.value.selectedReasons.indexOf(_);n.value.selectedReasons.splice(c,1)}},h=I(!1),d=I({}),f=async()=>{h.value=!1,d.value={};const[_,c,m]=await r.createNewReport({type:s.type,postId:s.postId,reasons:n.value.selectedReasons.join(","),description:n.value.reasonDescription});m&&!_||(h.value=!0,d.value=c)},w=()=>{oe().closeModal("report-modal"),p()},p=()=>{n.value.selectedReasons=[],n.value.reasonDescription="",h.value=!1};return(_,c)=>{const m=$e;return g(),b("div",null,[i("div",ps,[i("div",hs,[i("h1",null,v(o(h)?_.$t("reports.reportSubmitted"):l.reportStatus.id?_.$t("reports.alreadyReported"):_.$t("reports.title")),1),i("div",ws,[i("div",{class:"modal-close",onClick:c[0]||(c[0]=x=>w())},[k(O,{name:"i-ion-close",class:"text-2xl"})])])]),i("div",fs,[P(i("div",vs,[i("div",gs,[i("div",ys,v(_.$t("reports.selectReasons")),1),(g(!0),b(ue,null,ge(o(t),x=>(g(),b("span",{key:x,class:X([o(n).selectedReasons.includes(x)?"button-color":"theme-color-secondary"]),onClick:U=>u(x)},[i("div",null,[P(k(O,{name:"i-ion-square-outline",class:"text-color-secondary"},null,512),[[L,!o(n).selectedReasons.includes(x)]]),P(k(O,{name:"i-ion-checkbox-outline",class:"text-green-300"},null,512),[[L,o(n).selectedReasons.includes(x)]])]),i("div",{class:X(["reason",[o(n).selectedReasons.includes(x)?"text-white":"text-color-secondary"]])},v(_.$t("reports.reasons."+x)),3)],10,_s))),128))]),i("div",null,[i("div",ks,v(_.$t("reports.describeReason")),1),P(i("textarea",{"onUpdate:modelValue":c[1]||(c[1]=x=>o(n).reasonDescription=x),class:"report__reason_description",placeholder:_.$t("reports.describeText"),cols:"5",rows:"5"},null,8,bs),[[Re,o(n).reasonDescription]])]),i("div",$s,[i("button",{class:"cancel-button",onClick:c[2]||(c[2]=x=>w())},v(_.$t("cancel")),1),i("button",{class:X(o(n).enableSubmit?"primary-button":"disabled-button"),onClick:c[3]||(c[3]=x=>o(n).enableSubmit?f():null)},v(_.$t("report")),3)])],512),[[L,!o(h)&&!l.reportStatus.id]]),P(i("div",null,[i("div",Cs,v(_.$t("reports.reportSubmittedMessage")),1),i("div",xs,[i("div",null,[Rs,F("  "),i("b",null,"#"+v(o(d).id),1)]),i("div",null,[Is,F("  "),i("b",null,v(_.formatDate(o(d).created_at)),1)])])],512),[[L,o(h)]]),P(i("div",null,[F(v(_.$t("reports.alreadyReportedDescription"))+" ",1),k(m,{class:"underline href",to:"/reports"},{default:z(()=>[F(v(_.$t("reports.reportStatus")),1)]),_:1})],512),[[L,l.reportStatus.id]])])])])}}},Ss=be(As,[["__scopeId","data-v-eb1275b1"]]);const Ps={class:"w-full modal-layer xl:w-1/4 lg:w-2/5"},Us={class:"title"},Ls={class:"mt-2"},Os={class:"alert-success"},Vs={class:"italic"},Ms={class:"flex flex-row p-2 mb-2 text-white rounded-md button-color"},Ts=["placeholder"],Es={class:"flex flex-row gap-2 justify-end"},qs={class:"flex flex-row justify-between mt-6"},js=["value"],Bs={__name:"ShareArtworkToFeedModal",props:{postId:{type:Number,default:0}},setup(l){const s=l,{oApiConfiguration:e,fetchOptions:a}=T(),r=ft(e,a()),t=Xe(),n=()=>{h.value=""},u=()=>{d.value=!1,f.value=!1,w.value=!1,oe().closeModal("share-to-feed-modal"),n()},h=I(""),d=I(!1),f=I(!1),w=I(!1),p=async()=>{d.value=!1,f.value=!0,w.value=!1;const[x,U,M]=await r.shareArtworkToFeed({text:h.value,workId:s.postId});x?(w.value=!0,setTimeout(()=>{u()},500)):d.value=!0,f.value=!1},_=I(!1);let c;const m=x=>{const U=I(x),{copy:M}=tt({source:U});M(),We().splash(c,_,"copy-alert")};return(x,U)=>(g(),b("div",null,[i("div",Ps,[i("span",Us,v(x.$t("feeds.share.artwork.title")),1),i("div",Ls,[P(i("div",Os,[i("span",Vs,v(x.$t("feeds.share.artwork.success")),1)],512),[[L,o(w)]]),P(i("div",Ms,[k(Ue,{class:"mr-2"}),F(" "+v(x.$t("feeds.form.postingYourUpdate")),1)],512),[[L,o(f)]]),P(i("div",{class:"alert-danger"},v(x.$t("feeds.form.postFailure")),513),[[L,o(d)]]),P(i("textarea",{"onUpdate:modelValue":U[0]||(U[0]=M=>Se(h)?h.value=M:null),class:"input form-input textarea",placeholder:x.$t("typeSomething"),cols:"30",rows:"2","data-gramm":"false",maxlength:"2000"},null,8,Ts),[[Re,o(h)]]),i("div",Es,[i("button",{class:"cancel-button",onClick:U[1]||(U[1]=M=>u())},v(x.$t("cancel")),1),i("button",{class:X(["primary-button"]),onClick:U[2]||(U[2]=M=>p())},v(x.$t("share")),1)]),i("div",qs,[i("input",{readonly:"",value:o(t).public.appUrl+"/a/"+s.postId,class:"p-3 w-full rounded-md theme-color-secondary"},null,8,js),i("button",{class:"icon-button",onClick:U[3]||(U[3]=M=>m(o(t).public.appUrl+"/a/"+l.postId))},[k(O,{name:"i-icon-park-outline-copy"})])])])]),P(k(De,{id:"copy-alert",text:x.$t("linkCopied"),icon:"i-bi-check-all"},null,8,["text"]),[[L,o(_)]])]))}},Fs=be(Bs,[["__scopeId","data-v-f7848028"]]),Ds={class:"w-full modal-layer xl:w-3/12 lg:w-2/5"},Ws={class:"flex flex-row justify-between w-full"},Hs={class:"title"},Ns={class:"flex float-right flex-row gap-2 mb-2 cursor-pointer"},Qs={class:"grid overflow-y-scroll gap-2 pr-2 max-h-96 grid-cols"},zs=["to"],Gs={class:"mx-auto text-center"},Js={class:"mx-auto text-center"},Ks={class:"mx-auto text-center"},Ys={__name:"UserLiked",props:{modalId:{type:String,default:"user-liked-modal"},workId:{type:Number,default:0}},setup(l){const s=l,{oApiConfiguration:e,fetchOptions:a}=T(),r=xe(e,a()),t=I({pagination:{page:0,perPage:10}}),n=I([]),u=async({loaded:d})=>{const[f,w]=await r.viewWhoLikedTheArtwork({workId:s.workId,pagination:{page:t.value.pagination.page,perPage:t.value.pagination.perPage}});if(!w){t.value.pagination.page+=1;for(let p=0;p<f.length;p++){const _=f[p];n.value.push(_)}}d(f.length,t.value.pagination.perPage)},h=()=>{oe().closeModal(s.modalId)};return(d,f)=>{const w=Oe,p=$e,_=at;return g(),b("div",null,[i("div",Ds,[i("div",Ws,[i("div",Hs,v(d.$t("artworks.usersLiked")),1),i("div",Ns,[i("div",{class:"modal-close",onClick:f[0]||(f[0]=c=>h())},[k(O,{name:"i-majesticons-close",class:"text-2xl"})])])]),i("div",Qs,[(g(!0),b(ue,null,ge(o(n),c=>(g(),se(p,{key:c.id,to:"/u/"+c.users.username,class:"flex flex-row gap-2 p-2 rounded-md theme-color-secondary hover:button-color hover:text-white img-hover"},{default:z(()=>[k(w,{preload:"",loading:"lazy",class:"w-10 h-10 avatar",src:d.avatarCoverUrl(c.users.avatar_bucket,c.users.avatar_filename),onError:d.defaultCoverImage},null,8,["src","onError"]),i("span",{to:"/u/"+c.users.username,class:"font-bold leading-10"},v(c.users.name),9,zs)]),_:2},1032,["to"]))),128)),k(_,null,{default:z(()=>[k(o(st),{load:u},{loading:z(()=>[i("div",Gs,[k(O,{name:"i-line-md-loading-twotone-loop",class:"text-3xl"})])]),"no-results":z(()=>[i("div",Js,v(d.$t("users.nothingToShow")),1)]),"no-more":z(()=>[i("div",Ks,v(d.$t("youHaveReachedTheEnd")),1)]),_:1})]),_:1})])])])}}},Xs={class:"w-full modal-layer xl:w-3/12 lg:w-2/5"},Zs={class:"flex flex-row justify-between w-full"},ea={class:"title"},ta={class:"flex float-right flex-row gap-2 mb-2 cursor-pointer"},sa={class:"grid overflow-y-scroll gap-2 pr-2 max-h-96 grid-cols"},aa=["to"],oa={class:"mx-auto text-center"},ra={class:"mx-auto text-center"},na={class:"mx-auto text-center"},la={__name:"UserShared",props:{modalId:{type:String,default:"user-shared-modal"},workId:{type:Number,default:0}},setup(l){const s=l,{oApiConfiguration:e,fetchOptions:a}=T(),r=xe(e,a()),t=I({pagination:{page:0,perPage:10}}),n=I([]),u=async({loaded:d})=>{const[f,w]=await r.viewWhoSharedTheArtwork({workId:s.workId,pagination:{page:t.value.pagination.page,perPage:t.value.pagination.perPage}});if(!w){t.value.pagination.page+=1;for(let p=0;p<f.length;p++){const _=f[p];n.value.push(_)}}d(f.length,t.value.pagination.perPage)},h=()=>{oe().closeModal(s.modalId)};return(d,f)=>{const w=Oe,p=$e,_=at;return g(),b("div",null,[i("div",Xs,[i("div",Zs,[i("div",ea,v(d.$t("artworks.usersShared")),1),i("div",ta,[i("div",{class:"modal-close",onClick:f[0]||(f[0]=c=>h())},[k(O,{name:"i-majesticons-close",class:"text-2xl"})])])]),i("div",sa,[(g(!0),b(ue,null,ge(o(n),c=>(g(),se(p,{key:c.id,to:"/u/"+c.users.username,class:"flex flex-row gap-2 p-2 rounded-md theme-color-secondary hover:button-color hover:text-white img-hover"},{default:z(()=>[k(w,{preload:"",loading:"lazy",class:"w-10 h-10 avatar",src:d.avatarCoverUrl(c.users.avatar_bucket,c.users.avatar_filename),onError:d.defaultCoverImage},null,8,["src","onError"]),i("span",{to:"/u/"+c.users.username,class:"font-bold leading-10"},v(c.users.name),9,aa)]),_:2},1032,["to"]))),128)),k(_,null,{default:z(()=>[k(o(st),{load:u},{loading:z(()=>[i("div",oa,[k(O,{name:"i-line-md-loading-twotone-loop",class:"text-3xl"})])]),"no-results":z(()=>[i("div",ra,v(d.$t("users.nothingToShow")),1)]),"no-more":z(()=>[i("div",na,v(d.$t("youHaveReachedTheEnd")),1)]),_:1})]),_:1})])])])}}};const ia={id:"lists"},ca={key:0},da={__name:"RelatedArtworks",props:{workId:{type:Number,default:0},view:{type:Function,default:()=>{}},isModal:{type:Boolean,default:!0}},setup(l){const s=l,{oApiConfiguration:e,fetchOptions:a}=T(),r=xe(e,a());Ie(()=>{setTimeout(()=>{n()},2e3)});const t=I({loadings:{first:!0,loading:!0},data:[],options:{isEmpty:!1,isError:!1,paginations:{page:0,perPage:12,showLoadMore:!0}}}),n=async()=>{t.value.loadings.loading=!0,t.value.options.isError=!1,t.value.options.isEmpty=!1;const[h,d,f]=await r.getRelatedArtworks({workId:s.workId,pagination:{page:t.value.options.paginations.page,perPage:t.value.options.paginations.perPage}});if(f)t.value.options.isError=!0;else if(t.value.options.paginations.page==0&&!h.length)t.value.options.isEmpty=!0;else{for(let w=0;w<h.length;w++)t.value.data.push(h[w]);d.next_previous.next_page==null&&(t.value.options.paginations.showLoadMore=!1),t.value.options.paginations.page+=1}t.value.options.paginations.page==1&&(t.value.loadings.first=!1),t.value.loadings.loading=!1},u=()=>{n()};return(h,d)=>(g(),b("div",ia,[k(Ve,{loading:o(t).loadings.loading,empty:o(t).options.isEmpty,error:o(t).options.isError,fetch:n,"background-color":l.isModal?"theme-color-secondary":"theme-color",class:"mt-2"},null,8,["loading","empty","error","background-color"]),o(t).loadings.first?A("",!0):(g(),b("div",ca,[o(t).options.isEmpty?A("",!0):(g(),se(rt,{key:0,"section-class":"work-grid-6",view:l.view,works:o(t).data,"is-href":!l.isModal,"direct-open":!0},null,8,["view","works","is-href"])),P(i("div",{class:X(["w-full primary-button",o(t).loadings.loading?"animate-pulse":""]),onClick:u},v(h.$t("loadMore")),3),[[L,o(t).options.paginations.showLoadMore]])]))]))}},ua=be(da,[["__scopeId","data-v-b9fd9bfc"]]),ma={key:0,id:"preview-scheduled-artwork-section",class:"p-4 w-full text-center text-black bg-yellow-200 rounded-md"},pa={class:"flex flex-row justify-center mb-2"},ha={class:"font-bold cursor-pointer"},wa={class:"mt-2"},fa={class:"mr-2 font-normal"},va={class:"italic"},ga={__name:"PreviewAlert",props:{isPreview:{type:Boolean,default:!1},artworkId:{type:Number,default:0}},emits:["deleteWork"],setup(l){const s=I(!1);return(e,a)=>{const r=Ze("Icon");return l.isPreview&&!e.deleteSuccess?(g(),b("section",ma,[i("div",pa,[k(r,{name:"i-ion-alert-outline"}),i("div",null,v(e.$t("artworks.previewModeMessage")),1)]),i("div",ha,[i("span",{class:"text-red-500 hover:underline",onClick:a[0]||(a[0]=t=>s.value=!0)},v(e.$t("artworks.deleteArtwork")),1),P(i("div",wa,[i("span",fa,[F(v(e.$t("alert.areYouSure"))+" ",1),i("span",va,"("+v(e.$t("alert.youCannotUndoThisAction"))+")",1)]),i("span",{class:"mr-2 text-red-500 hover:underline",onClick:a[1]||(a[1]=t=>e.$emit("deleteWork",l.artworkId))},v(e.$t("yes")),1),i("span",{class:"hover:underline",onClick:a[2]||(a[2]=t=>s.value=!1)},v(e.$t("no")),1)],512),[[L,o(s)]])])])):A("",!0)}}},ya={key:0,class:"mr-4"},_a={key:1,class:"mr-4"},ka={__name:"MatureContentAlert",props:{show:{type:Boolean,default:!1},isExplicit:{type:Boolean,default:!1},isGore:{type:Boolean,default:!1}},emits:["removeFilter"],setup(l){const s=Ce();return(e,a)=>l.show?(g(),b("section",{key:0,id:"explicit-and-gore-alert-section",class:X(["flex flex-col md:flex-row justify-between p-3 align-middle rounded",l.isGore?"bg-red-500 text-white":"bg-yellow-300 text-black"])},[l.isExplicit&&!l.isGore?(g(),b("p",ya,v(o(s).loggedIn?e.$t("explicitContentAlert"):e.$t("explicitContentAlertForGuest")),1)):A("",!0),l.isGore?(g(),b("p",_a,v(o(s).loggedIn?e.$t("goreContentAlert"):e.$t("goreContentAlertForGuest")),1)):A("",!0),i("button",{class:"primary-button",onClick:a[0]||(a[0]=_e(r=>e.$emit("removeFilter"),["prevent"]))},v(e.$t("show")),1)],2)):A("",!0)}},ba={id:"artwork-data-section",class:"image-list"},$a={id:"artwork-image-section",class:"flex flex-row gap-2"},Ca={key:0,id:"mini-thumbnail-section",class:"sticky top-0 flex-col gap-2 w-1/6 hidden-md-flex"},xa={class:"sticky top-0"},Ra=["href"],Ia=["src"],Aa={__name:"Images",props:{isModal:{type:Boolean,default:!0},artwork:{type:Object,default:()=>{}},showExplicitAlert:{type:Boolean,default:!1}},setup(l){const s=l,{generateSemiCompressedArtworkUrl:e}=et();Ie(()=>{r()});const a=I([]),r=()=>{a.value=[],s.artwork.artwork_assets&&s.artwork.artwork_assets.forEach(t=>{a.value.push({thumbnail:e(t.bucket,t.filename,!0),source:e(t.bucket,t.filename,!1)})})};return ct().isMobile(),(t,n)=>{const u=Oe,h=Ze("viewer");return g(),b("section",ba,[i("section",$a,[!l.isModal&&!l.showExplicitAlert&&o(a).length?(g(),b("section",Ca,[i("div",xa,[(g(!0),b(ue,null,ge(o(a),(d,f)=>(g(),b("a",{key:f,href:"#image_"+f,class:"cursor-pointer"},[i("img",{preload:"",loading:"lazy",src:d.thumbnail,class:"mb-2 rounded-md hover:shadow-md",onError:n[0]||(n[0]=(...w)=>t.imageLoadError&&t.imageLoadError(...w))},null,40,Ia)],8,Ra))),128))])])):A("",!0),o(a).length?(g(),se(h,{key:1,options:{url:"data-source"},images:o(a),class:"overflow-hidden w-full rounded-md"},{default:z(()=>[(g(!0),b(ue,null,ge(o(a),(d,f)=>(g(),se(u,{key:d.thumbnail,id:"image_"+f,preload:"",loading:"lazy",src:d.thumbnail,"data-source":d.source,class:X(["overflow-hidden mb-2 rounded cursor-pointer image image-layer unselectable w-full",{"blur-lg unclickable":l.showExplicitAlert},l.showExplicitAlert?"brightness-50":"brightness-100"]),onError:t.imageLoadError},null,8,["id","src","data-source","class","onError"]))),128))]),_:1},8,["images"])):A("",!0)])])}}};const Sa=l=>(Be("data-v-df84a5e1"),l=l(),Fe(),l),Pa={id:"comment-section",class:"comments"},Ua={key:0,class:"comment-box"},La={class:"flex flex-col"},Oa={class:"flex relative flex-col"},Va=["readonly","rows","placeholder"],Ma={key:1,class:"p-4 mb-4 text-center rounded-md theme-color-secondary"},Ta={id:"comment-section",class:"comments__items"},Ea={class:"flex flex-row justify-end mb-2"},qa={key:0},ja=["src"],Ba={class:"comments__item__wrapper"},Fa={class:"comments__item__comment__user-info"},Da={class:"hover:underline"},Wa={class:"time"},Ha={class:"break-words"},Na={class:"comments__item__comment__buttons"},Qa=["onClick"],za={key:0},Ga={key:0,class:"comments__item__comment__buttons__item"},Ja=["onClick"],Ka=["onClick"],Ya={class:"ellipsis-menus dropdown"},Xa={class:"ellipsis-menus__content dropdown-menu"},Za={id:"ellipsis-menus",class:"ellipsis-menus__content__wrapper","aria-labelledby":"headlessui-menu-button-1",role:"menu"},eo={key:0},to=["onClick"],so={id:"replies-section",class:"replies"},ao={key:0,id:"reply-input-section",class:"replies__reply-box"},oo=["id","readonly","rows","placeholder"],ro=["onClick"],no=["id"],lo={key:0,class:"replies__items__hide"},io={class:"italic text-color-secondary"},co=["onClick"],uo={class:"replies__items__item__user-info"},mo=["src"],po={class:"transition-all duration-150 cursor-pointer hover:font-bold"},ho={class:"time"},wo={class:"break-words"},fo={key:0,class:"comments__item__comment__buttons"},vo=Sa(()=>i("div",null,null,-1)),go={class:"comments__item__comment__buttons__item"},yo=["onClick"],_o={class:"ellipsis-menus dropdown"},ko={type:"button","aria-haspopup":"true","aria-expanded":"true","aria-controls":"ellipsis-menus"},bo={class:"ellipsis-menus__content dropdown-menu"},$o={id:"ellipsis-menus",class:"ellipsis-menus__content__wrapper","aria-labelledby":"headlessui-menu-button-1",role:"menu"},Co={key:0},xo=["onClick"],Ro=["onClick"],Io={key:3,class:"comments__no-comment"},Ao={__name:"ArtworkComments",props:{artwork:{type:Object,default:()=>{}},isModal:{type:Boolean,default:!1}},setup(l){const s=l,e=Ce(),{oApiConfiguration:a,fetchOptions:r}=T(),t=xe(a,r());Ie(()=>{n(),w(s.artwork.id)});const n=()=>{c.value="",u.value=[],G.value=[]},u=I([]),h=He({perPage:3,page:0}),d=I([]),f=async $=>{const[S,B]=await t.getComments({workId:$,pagination:{page:h.page,perPage:h.perPage}});if(S)return S.pagination.current_page===S.pagination.first_last.last_page?p.value=!1:p.value=!0,S.comments.forEach(W=>{W.liked&&C.value.push(W.id),d.value.push(W.id)}),S.comments},w=async $=>{try{(await f($)).forEach(B=>u.value.push(B))}catch{}},p=I(!1),_=async $=>{try{h.page+=1,(await f($)).forEach(B=>u.value.push(B))}catch{}},c=I(),m=200,x=je(()=>c.value!=null&&c.value!==""?m-c.value.length:m),U=I(!1),M=async()=>{U.value=!0;try{const[$,S,B]=await t.addComment({workId:s.artwork.id,comment:c.value});$&&(c.value="",u.value.splice(0,0,S),u.value.join(),d.value.splice(0,0,S.id),d.value.join())}catch{}U.value=!1},E=async $=>{const[S,B]=await t.deleteComment({commentId:$});if(S){const W=d.value.indexOf($);u.value.splice(W,1),d.value.splice(W,1)}},C=I([]),Z=async $=>{const[S,B]=await t.likeComment({commentId:$});if(S){C.value.push($);const W=document.getElementById(`comment-like-button-${$}`);W.classList.add("animate-bounce"),setInterval(()=>{W.classList.remove("animate-bounce")},2500)}},ae=async $=>{const[S,B]=await t.unlikeComment({commentId:$});if(S){const W=C.value.indexOf($);C.value.splice(W,1)}},ee=He({perPage:2,page:0}),G=I([]),re=I([]),ne=I(!0),D=async $=>{const[S,B,W]=await t.getCommentReplies({commentId:$,pagination:{page:ee.page,perPage:ee.perPage}});if(!W)return B.current_page===B.first_last.last_page&&(ne.value=!1),S.map(y=>re.value.push(y.id)),S},Q=I(0),q=async $=>{G.value=[],ee.page=0,ne.value=!0,re.value=[];try{const S=await D($);G.value={[$]:S},S.forEach(W=>{W.liked&&ye.value.push(W.id)}),Q.value&&ie(Q.value);const B=document.getElementById(`comment-replies-${$}`);B.classList.add("flex"),B.classList.remove("hidden"),Q.value=$}catch{}},ie=$=>{const S=document.getElementById(`comment-replies-${$}`);S.classList.remove("flex"),S.classList.add("hidden"),Q.value=0},j=async $=>{ee.page+=1;try{(await D($)).forEach(B=>{G.value[$].push(B)})}catch{}},V=I(0),H=async $=>{await q($),V.value=$},J=I(),ke=200,Me=je(()=>J.value!=null&&J.value!==""?ke-J.value.length:ke),we=I(!1),Te=async $=>{we.value=!0;try{const[S,B,W]=await t.addReply({commentId:$,reply:J.value});S&&(q($),J.value="",G.value[$].splice(0,0,B),G.value[$].join(),V.value=0,re.value.splice(0,0,B.id),re.value.join())}catch{}we.value=!1},Ee=async($,S)=>{const[B,W]=await t.deleteReply({replyId:S});if(B){const y=re.value.indexOf(S);G.value[$].splice(y,1),re.value.splice(y,1)}},ye=I([]),Ae=async $=>{const[S,B]=await t.likeReply({replyId:$});if(S){ye.value.push($);const W=document.getElementById(`reply-like-button-${$}`);W.classList.add("animate-bounce"),setInterval(()=>{W.classList.remove("animate-bounce")},2500)}},qe=async $=>{const[S,B]=await t.unlikeReply({replyId:$});if(S){const W=ye.value.indexOf($);ye.value.splice(W,1)}};return($,S)=>{const B=$e,W=dt("auto-animate");return g(),b("section",Pa,[o(e).loggedIn?(g(),b("div",Ua,[i("div",La,[i("div",Oa,[P(i("textarea",{"onUpdate:modelValue":S[0]||(S[0]=y=>Se(c)?c.value=y:null),cols:"30","data-gramm":"false",class:X(["input form-input",{"cursor-not-allowed":o(U)},{"theme-color-secondary textarea":l.isModal}]),readonly:o(U),rows:o(c)!=null&&o(c)!=""?"4":"0",placeholder:$.$t("comments.inputPlaceholder"),maxlength:m},null,10,Va),[[Re,o(c)]]),P(i("span",{class:"absolute left-4 bottom-6 py-1 px-2 text-white rounded-md button-color"},v(o(x)),513),[[L,o(c)!=null&&o(c)!=""]]),i("span",{class:"absolute right-2 bottom-5 py-1 px-2",onClick:S[1]||(S[1]=_e(y=>M(),["prevent"]))},[P(k(O,{name:"i-carbon-send-filled",class:"text-xl transition-all duration-100 cursor-pointer text-colored"},null,512),[[L,o(c)!=null&&o(c)!=""&&!o(U)]]),P(k(Ue,null,null,512),[[L,o(U)]])])])])])):A("",!0),o(e).loggedIn?A("",!0):(g(),b("div",Ma,v($.$t("comments.loginOrRegisterToLeaveComment")),1)),i("section",Ta,[i("div",Ea,[l.artwork._count&&l.artwork._count.artwork_comments?(g(),b("div",qa,[i("b",null,v($.thousand(l.artwork._count.artwork_comments)),1),F(" "+v(l.artwork._count.artwork_comments>1?$.$t("count.comments"):$.$t("count.comment")),1)])):A("",!0)]),(g(!0),b(ue,null,ge(o(u),y=>P((g(),b("div",{key:y.id,class:"comments__item"},[k(B,{class:"comments__item__user-avatar",to:"/u/"+y.users.username},{default:z(()=>[i("img",{src:$.avatarCoverUrl(y.users.avatar_bucket,y.users.avatar_filename),onError:S[2]||(S[2]=(...R)=>$.defaultCoverImage&&$.defaultCoverImage(...R))},null,40,ja)]),_:2},1032,["to"]),i("div",Ba,[i("div",{class:X(["comments__item__comment",l.isModal?"theme-color-secondary":"theme-color"])},[i("div",Fa,[k(B,{to:"/u/"+y.users.username},{default:z(()=>[i("b",null,v(y.users.name),1),F("  "),i("span",Da,"@"+v(y.users.username),1)]),_:2},1032,["to"]),i("div",Wa,v($.formatDate(y.created_at,!0)),1)]),i("p",Ha,v(y.comment),1),i("div",Na,[i("div",{class:"cursor-pointer hover:underline",onClick:R=>o(Q)==y.id?ie(y.id):q(y.id)},[y._count.artwork_comment_has_replies>0?(g(),b("span",za,[i("b",null,v($.shortNumber(y._count.artwork_comment_has_replies)),1),F(" "+v(y._count.artwork_comment_has_replies>1?$.$t("comments.replies.replies").toLowerCase():$.$t("comments.replies.reply").toLowerCase()),1)])):A("",!0)],8,Qa),o(e).loggedIn?(g(),b("div",Ga,[i("button",{onClick:R=>o(C).includes(y.id)?ae(y.id):Z(y.id)},[P(k(O,{name:"i-ri-heart-3-line",class:"text-gray-500 hover:text-red-500"},null,512),[[L,!o(C).includes(y.id)]]),P(k(O,{id:"comment-like-button-"+y.id,name:"i-ion-heart",class:"text-red-500 hover:text-red-500"},null,8,["id"]),[[L,o(C).includes(y.id)]]),F(" "+v($.shortNumber(y._count.artwork_comment_has_likes)),1)],8,Ja),i("button",{onClick:R=>H(y.id)},[k(O,{name:"i-quill-reply",class:"text-gray-500 hover:text-blue-500"})],8,Ka),i("div",Ya,[i("button",{type:"button","aria-haspopup":"true","aria-expanded":"true","aria-controls":"ellipsis-menus",onClick:S[3]||(S[3]=R=>V.value=0)},[i("span",null,[k(O,{name:"i-uit-ellipsis-v"})])]),i("div",Xa,[i("div",Za,[k(B,{to:"/u/"+y.users.username},{default:z(()=>[k(O,{name:"i-fluent-person-32-regular"}),F(" "+v($.$t("viewProfile")),1)]),_:2},1032,["to"]),o(e).loggedIn&&o(e).user.id===y.users.id?(g(),b("div",eo,[i("a",{onClick:R=>E(y.id)},[k(O,{name:"i-akar-icons-trash-bin"}),F(" "+v($.$t("delete")),1)],8,to)])):A("",!0)])])])])):A("",!0)])],2),i("section",so,[o(e).loggedIn?P((g(),b("section",ao,[P(i("textarea",{id:"reply-"+y.id,"onUpdate:modelValue":S[4]||(S[4]=R=>Se(J)?J.value=R:null),cols:"30","data-gramm":"false",class:X([{"!cursor-not-allowed":o(we)},{"theme-color-secondary textarea":l.isModal}]),readonly:o(we),rows:o(J)!=null&&o(J)!=""?"4":"0",placeholder:$.$t("comments.replies.write"),maxlength:ke},null,10,oo),[[Re,o(J)]]),P(i("div",{class:"replies__reply-box__str-left-counter"},v(o(Me)),513),[[L,o(J)!=null&&o(J)!=""]]),i("button",{onClick:_e(R=>Te(y.id),["prevent"])},[P(k(O,{name:"i-carbon-send-filled"},null,512),[[L,o(J)!=null&&o(J)!=""&&!o(we)]]),P(k(Ue,null,null,512),[[L,o(we)]])],8,ro)],512)),[[L,o(V)===y.id]]):A("",!0),i("section",{id:"comment-replies-"+y.id,class:"hidden replies__items"},[o(G)[y.id]&&o(G)[y.id].length?(g(),b("div",lo,[i("span",io,v($.$t("comments.replies.replies")),1),i("span",{class:"cursor-pointer hover:font-semibold",onClick:R=>ie(y.id)},v($.$t("hide")),9,co)])):A("",!0),(g(!0),b(ue,null,ge(o(G)[y.id],R=>(g(),b("div",{key:R.id,class:X(["replies__items__item",l.isModal?"theme-color-secondary":"theme-color"])},[i("div",uo,[k(B,{to:"/u/"+R.users.username,class:"replies__items__item__avatar"},{default:z(()=>[i("img",{class:"!w-6 !h-6",src:$.avatarCoverUrl(R.users.avatar_bucket,R.users.avatar_filename),onError:S[5]||(S[5]=(...te)=>$.defaultCoverImage&&$.defaultCoverImage(...te))},null,40,mo),i("span",po,v(R.users.name),1)]),_:2},1032,["to"]),i("span",ho,v($.formatDate(R.created_at,!0)),1)]),i("p",wo,v(R.content),1),o(e).loggedIn?(g(),b("div",fo,[vo,i("div",go,[i("button",{onClick:te=>o(ye).includes(R.id)?qe(R.id):Ae(R.id)},[P(k(O,{id:"reply-like-button-"+R.id,name:"i-ion-heart",class:"text-red-500 hover:text-red-500"},null,8,["id"]),[[L,o(ye).includes(R.id)]]),P(k(O,{name:"i-ri-heart-3-line",class:"text-gray-500 hover:text-red-500"},null,512),[[L,!o(ye).includes(R.id)]]),F(" "+v($.shortNumber(R._count.artwork_comment_reply_has_likes)),1)],8,yo),i("div",_o,[i("button",ko,[i("span",null,[k(O,{name:"i-uit-ellipsis-v"})])]),i("div",bo,[i("div",$o,[k(B,{to:"/u/"+R.users.username,onClick:S[6]||(S[6]=_e(()=>{},["prevent"]))},{default:z(()=>[k(O,{name:"i-fluent-person-32-regular"}),F(" "+v($.$t("viewProfile")),1)]),_:2},1032,["to"]),o(e).loggedIn&&o(e).user.id===R.users.id?(g(),b("div",Co,[i("a",{onClick:te=>Ee(y.id,R.id)},[k(O,{name:"i-akar-icons-trash-bin"}),F(" "+v($.$t("delete")),1)],8,xo)])):A("",!0)])])])])])):A("",!0)],2))),128)),o(G)[y.id]&&o(ne)?(g(),b("div",{key:1,class:"mb-1 text-center transition ease-in-out delay-75 cursor-pointer hover:font-semibold hover:underline text-color-secondary href",onClick:R=>j(y.id)},v($.$t("comments.replies.loadMore")),9,Ro)):A("",!0)],8,no)])])])),[[W]])),128))]),l.artwork._count?P((g(),b("div",{key:2,class:"comments__load-more-button",onClick:S[7]||(S[7]=_e(y=>_(l.artwork.id),["prevent"]))},v($.$t("comments.loadOlder")),513)),[[L,l.artwork._count.artwork_comments>3&&o(p)]]):A("",!0),P(i("div",{class:"comments__no-more-item"},v($.$t("comments.reachedTheEnd")),513),[[L,o(u).length&&!o(p)]]),o(e).loggedIn&&!o(u).length?(g(),b("div",Io,v($.$t("comments.noCommentYet")),1)):A("",!0)])}}},So=be(Ao,[["__scopeId","data-v-df84a5e1"]]),Po={key:0,id:"original-artwork-info-section"},Uo={class:"title"},Lo={key:0,class:"flex flex-row gap-2"},Oo={key:1,class:"custom-divider"},Vo={key:2,id:"redrawable-section",class:"flex flex-col gap-4"},Mo={class:"title"},To={key:0,id:"redraw-list-section"},Eo={key:1,class:"flex flex-row gap-2 justify-between w-full"},qo={key:2,id:"my-redraw-section"},jo={class:"title-tiny"},Bo={key:0,class:"w-1/3"},Fo={class:"w-2/3"},Do={class:"title"},Wo=["innerHTML"],Ho={class:"italic"},No={__name:"Redraws",props:{artwork:{type:Object,default:()=>{}},isModal:{type:Boolean,default:!1}},setup(l){const s=l,e=Ce(),{oApiConfiguration:a,fetchOptions:r}=T(),t=xe(a,r());Ie(async()=>{await f(),s.artwork.redraw_of&&h(s.artwork.redraw_of)});const n=I({}),u=I(!0),h=async m=>{u.value=!0;const[x,U]=await t.getWorkById(m);U||(n.value=x),u.value=!1},d=I(0),f=async()=>{const[m,x]=await t.countRedraws(s.artwork.id);d.value=m,m&&(await p(s.artwork.id),e.loggedIn&&await c(s.artwork.id))},w=I({data:[],pagination:{}}),p=async m=>{const[x,U,M]=await t.getRedraws({workId:m,pagination:{page:0,perPage:8}});M||(w.value.data=x,w.value.pagination=U)},_=I(null),c=async m=>{const[x,U]=await t.getMyRedraw({workId:m});U?_.value=null:_.value=x};return(m,x)=>{const U=$e,M=Oe;return g(),b(ue,null,[l.artwork.redraw_of?(g(),b("section",Po,[i("h2",Uo,v(m.$t("artworks.originalArtwork")),1),o(u)?(g(),b("div",Lo,[k(Ue),F(" "+v(m.$t("artworks.redrawOriginalLoading")),1)])):(g(),se(ht,{key:1,data:o(n),"work-id":l.artwork.redraw_of},null,8,["data","work-id"]))])):A("",!0),l.artwork.allow_redraw?(g(),b("div",Oo)):A("",!0),l.artwork.allow_redraw||o(w).data&&o(w).data.length?(g(),b("section",Vo,[i("h2",Mo,v(m.$t("artworks.redraws"))+" ("+v(o(w).pagination&&o(w).pagination.record_total?o(w).pagination.record_total:0)+") ",1),o(w).data&&o(w).data.length?(g(),b("section",To,[k(rt,{"section-class":"redraw-works",works:o(w).data,view:m.view,"is-href":m.isHref,"is-mini-list":!0,"current-work-id":l.artwork.id,"direct-open":!0,"hide-redraw-icon":!0},null,8,["works","view","is-href","current-work-id"]),o(w).pagination.next_previous.next_page?(g(),se(U,{key:0,to:"/a/"+l.artwork.id+"/redraws",class:"mt-2 primary-button"},{default:z(()=>[k(O,{name:"i-fluent-arrow-enter-20-filled",class:"mr-1 text-white hover:text-white"}),F(" "+v(m.$t("seeMore")),1)]),_:1},8,["to"])):A("",!0)])):A("",!0),o(e).loggedIn&&!o(_)?(g(),b("div",Eo,[k(U,{to:"/post?redrawWorkId="+l.artwork.id,class:X([l.isModal?"secondary-button":"light-button"])},{default:z(()=>[k(O,{name:"i-typcn-brush"}),F(" "+v(m.$t("artworks.redrawThisArtwork")),1)]),_:1},8,["to","class"])])):A("",!0),o(e).loggedIn&&o(_)&&o(_).id?(g(),b("section",qo,[i("h2",jo,v(m.$t("artworks.myRedraw")),1),k(U,{to:"/a/"+o(_).id,class:"flex flex-row gap-2 w-full"},{default:z(()=>[o(_).artwork_assets?(g(),b("div",Bo,[k(M,{preload:"",loading:"lazy",class:"w-40 rounded-md",src:m.artworkThumb(o(_).artwork_assets[0].bucket,o(_).artwork_assets[0].filename,"thumbnail",!1),onError:m.imageLoadError},null,8,["src","onError"])])):A("",!0),i("div",Fo,[i("span",Do,v(o(_).title),1),i("p",{class:"mb-2",innerHTML:o(_).description?o(_).description.length>100?o(_).description.slice(0,100)+"..":o(n).description:m.$t("artworks.noDescription")},null,8,Wo),i("span",Ho,v(m.formatDate(o(_).scheduled_post)),1)])]),_:1},8,["to"])])):A("",!0)])):A("",!0)],64)}}};const lt=l=>(Be("data-v-1440f4eb"),l=l(),Fe(),l),Qo={class:"mx-auto w-full align-middle md:w-1/2"},zo={class:"flex flex-col w-full lg:flex-row"},Go={id:"left-side-section",class:"left-side"},Jo={key:0,class:"text-right"},Ko={key:1,class:"alert-success"},Yo={key:3,id:"mini-badge-info-section",class:"flex flex-row gap-2 mb-4"},Xo={key:1,class:X(["py-2 px-3 font-bold rounded-md bg-red-400 text-white"])},Zo={key:2,class:"flex flex-row gap-2 p-2 px-4 rounded-xl theme-colored"},er={id:"interaction-button-section",class:"interactions"},tr={id:"interaction-counter-section",class:"interactions__left"},sr={class:"interactions__left__item"},ar={key:0,id:"reaction-button-section",class:"interactions__items"},or={key:0,class:"interactions__item"},rr={key:0},nr={key:3,class:"interactions__item"},lr={id:"ellipsis-menu-section",class:"ellipsis-menus dropdown"},ir={type:"button","aria-haspopup":"true","aria-expanded":"true","aria-controls":"ellipsis-menus"},cr={class:"ellipsis-menus__content dropdown-menu"},dr={id:"ellipsis-menus",class:"ellipsis-menus__content__wrapper","aria-labelledby":"headlessui-menu-button-1",role:"menu"},ur={key:2,class:"custom-divider"},mr={key:4,class:"custom-divider"},pr=["href"],hr={key:6},wr={id:"right-side-section",class:"right-side"},fr=lt(()=>i("div",{class:"custom-divider"},null,-1)),vr=lt(()=>i("div",{class:"custom-divider"},null,-1)),gr={key:0,id:"related-artworks-section",class:"mt-4 w-full"},yr={class:"title"},_r={__name:"ModalView",props:{id:{type:Number,default:0},section:{type:String,default:""}},emits:["setMeta","stopLoading","showEmpty","showError"],setup(l,{expose:s,emit:e}){const a=l,r=Ce(),{oApiConfiguration:t,fetchOptions:n}=T(),{applyExplicitFilter:u,removeExplicitFilter:h}=et(),d=xe(t,n()),f=ot(t,n()),w=Xe(),p=ut(),_=Ke();mt(()=>_.query,()=>{setTimeout(()=>{W(),oe().closeModal("collection-selection-modal"),oe().closeModal("album-selection-modal"),oe().closeModal("report-modal")},1)}),Ie(()=>{a.id!==0&&re(a.id),window.addEventListener("keydown",y=>{const R=document.getElementById("collection-selection-modal"),te=document.getElementById("album-selection-modal"),le=document.getElementById("report-modal"),it=document.querySelectorAll(".viewer-in");y.key==="Escape"&&(!R||R.style.display!="flex")&&(!te||te.style.display!="flex")&&(!le||le.style.display!="flex")&&!it.length&&W()})});const c=a.id===0,m=I(!1),x=()=>{m.value=!1,h()},U=async y=>{await d.incraseViewCount(y)},M=I(!1),E=I(!0),C=I({}),Z=I(!1),ae=I(!1),ee=I(!1),G=I(!1),re=async y=>{M.value=!1,E.value=!0;const[R,te]=await d.getWorkById(y);te?te=="Work not found"?e("showEmpty"):e("showError"):(C.value=R,!r.loggedIn&&R.is_explicit||R.is_explicit&&!r.user.user_settings.show_explicit||R.is_gore&&!r.user.user_settings.show_gore?(m.value=!0,u()):m.value=!1,ae.value=R.liked,ee.value=R.saved,G.value=R.in_album,Z.value=Ne().formatApiToWeb(R.scheduled_post)<Ne().currentUtcTime(),Z.value?((!r.loggedIn||r.user.id!==R.users.id)&&await U(y),r.loggedIn&&await D(y)):r.user.id!==R.users.id?p.push("/"):M.value=!0,c||e("setMeta",{title:C.value.title})),E.value=!1,e("stopLoading")},ne=I({}),D=async y=>{const[R,te]=await f.getReportStatus({type:he.ARTWORK,postId:y});te||(R.length?ne.value=R[0]:ne.value={})},Q=async()=>{const[y,R]=await d.like({workId:C.value.id});if(y){ae.value=!0;const te=document.getElementById("like-button");te.classList.add("animate-bounce"),setInterval(()=>{te.classList.remove("animate-bounce")},2500)}},q=()=>{oe().openModal("user-liked-modal")},ie=()=>{oe().openModal("user-shared-modal")},j=async()=>{const[y,R]=await d.unlike({workId:C.value.id});y&&(ae.value=!1)},V=I(!1),H=async y=>{const[R,te]=await d.deleteWork({workId:[y]});R&&(V.value=!0,setTimeout(()=>{p.push({path:"/",replace:!0,force:!0})},1e3))},J=I(null),ke=()=>{oe().openModal("collection-selection-modal"),J.value.fetchCollection(),J.value.fetchCurrentSaved()},Me=y=>{y?ee.value=!1:ee.value=!0,ze().animate("save-to-collection-button")},we=I(null),Te=()=>{oe().openModal("album-selection-modal"),we.value.fetchTop(),we.value.fetchCurrentSaved()},Ee=y=>{y?G.value=!1:G.value=!0,ze().animate("save-to-album-button")},ye=()=>{oe().openModal("share-to-feed-modal")},Ae=I(!1);let qe;const $=y=>{const R=I(w.public.appUrl+y),{copy:te}=tt({source:R});te(),We().splash(qe,Ae,"copy-alert")},S=I(null),B=()=>{oe().openModal("report-modal")},W=()=>{oe().closeModal(`${a.section}-modal`)};return s({view:re}),(y,R)=>{const te=$e;return g(),b(ue,null,[i("button",{class:"hidden",onClick:re}),P(i("div",Qo,[k(Ve,{loading:o(E)},null,8,["loading"])],512),[[L,o(E)&&c]]),P(i("div",{class:X(["work-container work-view",{"2xl:w-4/6 2xl:mx-auto p-2 md:p-6 overflow-y-scroll theme-color":c}])},[i("main",zo,[i("section",Go,[c&&y.isMobileDevice()?(g(),b("div",Jo,[k(O,{name:"i-ion-close-outline","text-size":"text-3xl",onClick:R[0]||(R[0]=le=>y.closeModal(l.section+"-modal"))})])):A("",!0),k(ga,{"is-preview":o(M),"artwork-id":o(C).id,onDeleteWork:H},null,8,["is-preview","artwork-id"]),o(V)?(g(),b("div",Ko,v(y.$t("artworks.successDelete")),1)):A("",!0),k(ka,{show:o(m),"is-explicit":o(C).is_explicit,"is-gore":o(C).is_gore,onRemoveFilter:x},null,8,["show","is-explicit","is-gore"]),o(E)?A("",!0):(g(),se(Aa,{key:2,"is-modal":c,artwork:o(C),"show-explicit-alert":o(m),"original-artwork":y.originalArtwork},null,8,["artwork","show-explicit-alert","original-artwork"])),o(C).is_explicit||o(C).is_gore||o(C).is_original_character?(g(),b("section",Yo,[o(C).is_explicit?(g(),b("div",{key:0,class:X(["py-2 px-3 font-bold rounded-md",c?"theme-color-secondary":"bg-tag"])}," E ",2)):A("",!0),o(C).is_gore?(g(),b("div",Xo," G ")):A("",!0),o(C).is_original_character?(g(),b("div",Zo,[k(O,{name:"i-clarity-cursor-hand-click-line","text-size":"text-sm"}),F(" "+v(y.$t("artworks.originalCharacter")),1)])):A("",!0)])):A("",!0),i("section",er,[i("section",tr,[P(i("span",sr,[k(O,{name:"i-mi-eye"}),i("b",null,v(y.shortNumber(o(C).views)),1)],512),[[L,o(C).views>0]]),o(C)._count?P((g(),b("span",{key:0,class:"interactions__left__item hover:href hover:underline",onClick:R[1]||(R[1]=le=>q())},[i("b",null,v(y.thousand(o(C)._count.artwork_likes)),1),F(" "+v(o(C)._count.artwork_likes>1?y.$t("count.likes"):y.$t("count.like")),1)],512)),[[L,o(C)._count.artwork_likes>0]]):A("",!0),o(C)._count?P((g(),b("span",{key:1,class:"interactions__left__item hover:href hover:underline",onClick:R[2]||(R[2]=le=>ie())},[i("b",null,v(y.thousand(o(C)._count.feeds)),1),F(" "+v(y.$t("count.share")),1)],512)),[[L,o(C)._count.feeds>0]]):A("",!0)]),o(M)?A("",!0):(g(),b("section",ar,[o(r).loggedIn?(g(),b("span",or,[i("span",{onClick:R[3]||(R[3]=le=>o(ae)?j():Q())},[P(k(O,{id:"like-button",name:"i-ion-heart",class:"text-red-500 hover:text-red-500"},null,512),[[L,o(ae)]]),P(k(O,{name:"i-ri-heart-3-line",class:"hover:text-red-500"},null,512),[[L,!o(ae)]])])])):A("",!0),o(r).loggedIn?(g(),b("span",{key:1,class:"interactions__item",onClick:R[4]||(R[4]=le=>ke())},[P(k(O,{id:"save-to-collection-button",name:"i-majesticons-bookmark",class:"text-blue-500 hover:text-blue-500"},null,512),[[L,o(ee)]]),P(k(O,{name:"i-majesticons-bookmark-line",class:"hover:text-blue-500"},null,512),[[L,!o(ee)]]),o(C)._count&&o(C)._count.collection_has_artworks?(g(),b("span",rr,v(y.thousand(o(C)._count.collection_has_artworks)),1)):A("",!0)])):A("",!0),o(r).loggedIn&&o(C).users&&o(r).user.id===o(C).users.id?(g(),b("span",{key:2,class:"interactions__item",onClick:R[5]||(R[5]=le=>Te())},[P(k(O,{id:"save-to-album-button",name:"i-ion-folder-open",class:"text-green-500 hover:text-green-500"},null,512),[[L,o(G)]]),P(k(O,{name:"i-bx-photo-album",class:"hover:text-blue-500"},null,512),[[L,!o(G)]])])):A("",!0),o(r).loggedIn?(g(),b("span",nr,[k(O,{name:"i-uil-share",class:"hover:text-blue-500",onClick:R[6]||(R[6]=le=>ye())})])):A("",!0),i("section",lr,[i("button",ir,[i("span",null,[k(O,{name:"i-uit-ellipsis-v"})])]),i("div",cr,[i("div",dr,[c?(g(),se(te,{key:0,to:"/a/"+o(C).id},{default:z(()=>[k(O,{name:"i-fluent-arrow-enter-20-filled",class:"mr-2 text-base"}),F(" "+v(y.$t("open")),1)]),_:1},8,["to"])):A("",!0),c?(g(),se(te,{key:1,to:"/a/"+o(C).id,target:"_blank"},{default:z(()=>[k(O,{name:"i-ci-external-link",class:"mr-2 text-base"}),F(" "+v(y.$t("openInNewTab")),1)]),_:1},8,["to"])):A("",!0),c?(g(),b("div",ur)):A("",!0),o(r).loggedIn&&o(C).users&&o(r).user.id!=o(C).users.id&&!o(r).user.is_admin&&!o(r).user.is_moderator?(g(),b("div",{key:3,class:X({"rounded-t-md":!c})},[i("a",{onClick:R[7]||(R[7]=_e(le=>B(),["prevent"]))},[k(O,{name:"i-akar-icons-flag",class:"mr-2 text-base"}),F(" "+v(y.$t("report")),1)])],2)):A("",!0),i("div",null,[i("a",{onClick:R[8]||(R[8]=_e(le=>$("/a/"+o(C).id),["prevent"]))},[k(O,{name:"i-icon-park-outline-copy",class:"mr-2 text-base"}),F(" "+v(y.$t("copySharableLink")),1)])]),o(r).loggedIn&&o(C).users&&o(r).user.id===o(C).users.id?(g(),b("div",mr)):A("",!0),o(r).loggedIn&&o(C).users&&o(r).user.id===o(C).users.id?(g(),b("a",{key:5,href:"/artworks/update/"+o(C).id},[k(O,{name:"i-ion-settings-outline",class:"mr-2 text-base"}),F(" "+v(y.$t("update")),1)],8,pr)):A("",!0),o(r).loggedIn&&o(C).users&&o(r).user.id===o(C).users.id?(g(),b("div",hr,[i("a",{onClick:R[9]||(R[9]=_e(le=>y.openModal("work-deletion-confirm-modal"),["prevent"]))},[k(O,{name:"i-akar-icons-trash-bin",class:"mr-2 text-base"}),F(" "+v(y.$t("delete")),1)])])):A("",!0)])])])]))]),k(Ge,{section:l.section,class:"flex-md-hidden","is-modal":c,"artwork-detail":o(C),"preview-mode":o(M),"is-desktop":!0},null,8,["section","artwork-detail","preview-mode"]),(g(),se(pt,null,[o(E)?A("",!0):(g(),se(Qe,{key:0,class:"mb-6 hidden-md-flex","artwork-detail":o(C),view:re,"is-href":!c,"keep-artist-page-number":!0,"pagination-per-page":(y.isMobile(),4)},null,8,["artwork-detail","is-href","pagination-per-page"]))],1024))]),i("section",wr,[k(Ge,{section:l.section,class:"hidden-md-flex","is-modal":c,"artwork-detail":o(C),"preview-mode":o(M),"is-desktop":!1},null,8,["section","artwork-detail","preview-mode"]),o(E)?A("",!0):(g(),se(Qe,{key:0,class:"flex-md-hidden","artwork-detail":o(C),view:re,"is-href":!c,"keep-artist-page-number":!0,"pagination-per-page":(y.isMobile(),4)},null,8,["artwork-detail","is-href","pagination-per-page"])),!o(M)&&!o(E)?(g(),se(No,{key:1,artwork:o(C)},null,8,["artwork"])):A("",!0),fr,!o(M)&&!o(E)?(g(),se(So,{key:2,artwork:o(C),"is-modal":c},null,8,["artwork"])):A("",!0)])]),vr,o(Z)?(g(),b("section",gr,[i("div",yr,v(y.$t("artworks.similarArtworks")),1),!o(E)&&o(Z)?(g(),se(ua,{key:0,"work-id":o(C).id,"is-modal":c,view:re},null,8,["work-id"])):A("",!0)])):A("",!0),o(E)?A("",!0):(g(),se(Gt,{key:1,id:"collection-selection-modal",ref_key:"collectionSelectionModalRef",ref:J,"modal-id":"collection-selection-modal","work-id":o(C).id,class:"modal",onSave:Me},null,8,["work-id"])),!o(E)&&o(r).loggedIn&&o(C).users&&o(r).user.id==o(C).users.id?(g(),se(o(is),{key:2,id:"album-selection-modal",ref_key:"albumSelectionModalRef",ref:we,class:"modal","modal-id":"album-selection-modal","work-id":o(C).id,onAddedToAlbum:Ee},null,8,["work-id"])):A("",!0),k(ms,{id:"work-deletion-confirm-modal",class:"modal","modal-id":"work-deletion-confirm-modal",message:`${y.$t("alert.areYouSure")} ${y.$t("alert.youCannotUndoThisAction")}`,onOnAccept:R[10]||(R[10]=le=>H(o(C).id))},null,8,["message"]),k(Ss,{id:"report-modal",ref_key:"reportModalRef",ref:S,class:"modal",type:o(he).ARTWORK,"post-id":o(C).id,"report-status":o(ne)},null,8,["type","post-id","report-status"]),k(Fs,{id:"share-to-feed-modal",ref:"shareToFeedModalRef",class:"modal","post-id":o(C).id},null,8,["post-id"]),k(Ys,{id:"user-liked-modal",class:"modal","work-id":o(C).id},null,8,["work-id"]),k(la,{id:"user-shared-modal",class:"modal","work-id":o(C).id},null,8,["work-id"]),P(k(De,{id:"copy-alert",text:y.$t("linkCopied"),icon:"i-bi-check-all"},null,8,["text"]),[[L,o(Ae)]])],2),[[L,!o(E)]])],64)}}},Lr=be(_r,[["__scopeId","data-v-1440f4eb"]]);export{Lr as M,ms as _,Gt as a,ze as b,Jt as c,Lt as d,is as e,vt as u};
