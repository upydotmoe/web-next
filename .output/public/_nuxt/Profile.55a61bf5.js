import{e as ne,J as Ze,u as Pe,a as he,c as be,d as eo}from"./ProBadge.8f38c304.js";import{o as t,s as r,X as le,Y as ae,b as o,K as A,b3 as je,P as ee,f as w,U as S,t as D,x as m,y as u,l as oe,k as Z,E as ie,r as f,u as e,e as E,v as R,c as W,a4 as oo,a as Ue,N as xe,Q,w as de,z as We,V as Me,W as Ie,A as Re,M as Ce,O as ce,p as Te,a3 as ze,J as $e,m as to}from"./entry.9b47bf02.js";import{M as _e,_ as ve,u as Ne,c as ke,d as ye,e as so}from"./ModalView.e63ff165.js";import{P as G}from"./index.7225a9bd.js";import{_ as te}from"./_plugin-vue_export-helper.c27b6911.js";import{u as Ee}from"./useUser.d637e34f.js";import{a as Se,u as Le,L as lo}from"./Layout.849d2842.js";import{u as ao}from"./useFeed.7550d87e.js";import{a as no,_ as io,F as ro}from"./FeedModalView.3072a147.js";import{W as Ae}from"./WorkList.454fd756.js";import{_ as re}from"./LoadingEmptyErrorMessage.78aa36d4.js";import{u as co}from"./useSetting.e24e5866.js";import{U as De}from"./UserList.fab0dcf0.js";const uo={key:0,class:"flex flex-row flex-wrap gap-2 justify-center md:justify-start"},mo=["onClick"],fo={class:"py-1 px-2 rounded-md theme-color"},po={__name:"Socials",props:{socials:{type:Array,default:()=>[]}},setup(l){const v=l,g=[{title:"website",valueKey:"personal_website",href:v.socials.personal_website,icon:"i-ph-link-simple-break-bold",color:"gray",hex:"#333333",show:!!(v.socials.personal_website&&v.socials.personal_website!=""),modalId:"external-website-visit-confirmation-modal"},{title:"patreon",valueKey:"patreon",href:"https://patreon.com/"+v.socials.patreon,icon:"i-gg-patreon",color:"orange",hex:"#f97316",show:!!(v.socials.patreon&&v.socials.patreon!="")},{title:"twitch",valueKey:"twitch",href:"https://twitch.com/"+v.socials.twitch,icon:"i-ph-twitch-logo-fill",color:"purple",hex:"#6441a5",show:!!(v.socials.twitch&&v.socials.twitch!="")},{title:"instagram",valueKey:"instagram",href:"https://instagram.com/"+v.socials.instagram,icon:"i-ion-logo-instagram",color:"fuchsia",hex:"#8a3ab9",show:!!(v.socials.instagram&&v.socials.instagram!="")},{title:"twitter",valueKey:"twitter",href:"https://twitter.com/"+v.socials.twitter,icon:"i-ion-logo-twitter",color:"cyan",hex:"#1DA1F2",show:!!(v.socials.twitter&&v.socials.twitter!="")},{title:"facebook",valueKey:"facebook",href:"https://facebook.com/"+v.socials.facebook,icon:"i-ion-logo-facebook",color:"blue",show:!!(v.socials.facebook&&v.socials.facebook!="")},{title:"youtube",valueKey:"youtube",href:v.socials.youtube,icon:"i-ion-logo-youtube",color:"red",show:!!(v.socials.youtube&&v.socials.youtube!="")},{title:"discord",valueKey:"discord",href:"https://discord.com/"+v.socials.discord,icon:"i-ic-twotone-discord",color:"indigo",hex:"#7289d9",show:!!(v.socials.discord&&v.socials.discord!="")},{title:"picarto",valueKey:"picarto",href:"https://picarto.tv/"+v.socials.picarto,icon:"i-cib-picarto-tv",color:"green",show:!!(v.socials.picarto&&v.socials.picarto!="")},{title:"gumroad",valueKey:"gumroad",href:"https://"+v.socials.gumroad+".gumroad.com",icon:"i-cib-gumroad",color:"pink",hex:"#FE92E4",show:!!(v.socials.gumroad&&v.socials.gumroad!="")}],s=M=>{window.open(M,"_blank")};return(M,c)=>l.socials?(t(),r("div",uo,[(t(),r(le,null,ae(g,p=>o("span",{key:p.valueKey,class:A({hidden:!p.show})},[p.show?(t(),r("a",{key:0,href:"#",class:A(["group/facebook socials__badge",p.hex?"":`border-${p.color}-500 bg-${p.color}-500`]),style:je([p.hex?`border-color: ${p.hex}; background-color: ${p.hex};`:""]),onClick:ee(_=>p.valueKey==="personal_website"?M.openModal(p.modalId):s(p.href),["prevent"])},[o("div",{class:A(["socials__badge-name",p.hex?"":`bg-${p.color}-500`]),style:je(p.hex?`background-color: ${p.hex}`:"")},[w(S,{name:p.icon},null,8,["name"]),D(" "+m(p.title),1)],6),o("div",fo,m(l.socials[p.valueKey]),1)],14,mo)):u("",!0)],2)),64))])):u("",!0)}},Ke=te(po,[["__scopeId","data-v-f06b700b"]]);const wo={class:"follow-buttons"},vo={class:"flex flex-row justify-center"},go={class:"follow-buttons__private-toggler"},ho={__name:"FollowButtons",props:{userInfo:{type:Object,default:()=>{}},followersCount:{type:Number,default:0},followingsCount:{type:Number,default:0},isFollowing:{type:Boolean,default:!1},isPrivate:{type:Boolean,default:!1},followingSince:{type:String,default:""}},emits:["changeCurrentState"],setup(l,{emit:v}){const g=l,s=oe(),{oApiConfiguration:M,fetchOptions:c}=Z(),p=Ee(M,c());ie(()=>{h.value.isFollowing=g.isFollowing,h.value.isPrivate=g.isPrivate,h.value.followingSince=g.followingSince});const _=n=>{v("changeCurrentState",n)},h=f({isFollowing:g.isFollowing,isPrivate:g.isPrivate,followingSince:g.followingSince}),i=f(null),T=f("i-ri-user-follow-fill"),P=(n,k)=>{T.value=n,i.value=k},a=async(n,k)=>{let[O,y]=[null,!1];k?[O,y]=await p.followPrivately(n):[O,y]=await p.follow(n),y||(h.value={isFollowing:!0,isPrivate:k??!1,followingSince:""})},I=async n=>{const[k,O]=await p.unfollow(n);O||(h.value={isFollowing:!1,isPrivate:!1,followingSince:""})};return(n,k)=>(t(),r("div",wo,[o("div",{class:A(["follow-buttons__counter",l.userInfo.id==e(s).user.id?"rounded-md":"rounded-t-md"])},[o("div",vo,[o("div",{class:"follow-buttons__counter-partial",onClick:k[0]||(k[0]=O=>_("followerList"))},[o("b",null,m(n.thousand(l.followersCount)),1),D("  "),o("i",null,m(n.$t("followers.followers").toLowerCase()),1)]),o("div",{class:"follow-buttons__counter-partial",onClick:k[1]||(k[1]=O=>_("followingList"))},[o("b",null,m(n.thousand(l.followingsCount)),1),D("  "),o("i",null,m(n.$t("followings.followings").toLowerCase()),1)])])],2),e(s).loggedIn&&l.userInfo.id!==e(s).user.id?(t(),r("div",{key:0,class:A(["follow-buttons__buttons",{"hover:danger-button":e(h).isFollowing}]),onClick:k[2]||(k[2]=O=>e(h).isFollowing?I(l.userInfo.id):a(l.userInfo.id)),onMouseover:k[3]||(k[3]=O=>P("i-ri-user-unfollow-fill",n.$t("unfollow"))),onMouseleave:k[4]||(k[4]=O=>P("i-ri-user-follow-fill",n.$t("followings.following")))},[E(o("button",null,[w(S,{name:"i-ri-user-add-fill","text-size":"text-base"}),D(" "+m(n.$t("follow")),1)],512),[[R,!e(h).isFollowing]]),E(o("button",null,[w(S,{name:e(T),"text-size":"text-base"},null,8,["name"]),D(" "+m(e(i)===null?n.$t("followings.following"):e(i)),1)],512),[[R,e(h).isFollowing]])],34)):u("",!0),E(o("div",go,[o("label",{for:"follow-privately",onClick:k[5]||(k[5]=O=>e(s).i502p00r0?e(h).isPrivate?a(l.userInfo.id,!1):a(l.userInfo.id,!0):null)},[e(h).isPrivate?(t(),W(S,{key:1,name:"i-ic-outline-check",class:"text-green-500"})):(t(),W(S,{key:0,name:"i-fluent-checkbox-unchecked-20-regular"})),o("span",null,m(n.$t("followings.followPrivately")),1),e(s).i502p00r0?u("",!0):(t(),W(ne,{key:2}))])],512),[[R,e(h).isFollowing]])]))}},Ve=te(ho,[["__scopeId","data-v-9a12fd0f"]]);const He=l=>(Me("data-v-8e37dde5"),l=l(),Ie(),l),bo={class:"left-0 w-full md:w-2/3"},_o={class:"flex flex-row mb-2 rounded-lg border-none shadow-none theme-color-secondary"},ko={class:"w-full"},yo={id:"interaction-button-section",class:"interactions !px-4"},$o=He(()=>o("div",null,null,-1)),xo={key:0,class:"interactions__items"},Mo=["onClick"],Io=["onClick"],Co={class:"ellipsis-menus dropdown"},Eo=["onClick"],Lo={class:"ellipsis-menus__content dropdown-menu"},Ao={id:"ellipsis-menu",class:"ellipsis-menus__content__wrapper","aria-labelledby":"option-dropdown-buttons",role:"menu"},Fo={key:0,class:"custom-divider"},Po={key:1},Ro={class:"loading-empty-error-message"},To={class:"mt-2 text-tiny"},So={class:"mx-auto mt-10 text-center"},Oo=He(()=>o("b",null,"(ㆆ_ㆆ)",-1)),Bo={class:"mx-auto text-center"},jo={id:"chronological-feed-modal",class:"modal work-view"},Ko={id:"artwork-modal",class:"modal work-view"},Vo={__name:"Feeds",props:{userId:{type:Number,default:0}},setup(l){const v=l,g=oe(),{oApiConfiguration:s,fetchOptions:M}=Z(),c=ao(s,M()),{generateArtworkThumb:p}=oo(),_=Ue();xe(()=>_.query,()=>{setTimeout(()=>{Q().closeModal("chronological-modal"),Q().closeModal("chronological-feed-modal"),Q().closeModal("feed-collection-selection-modal"),Q().closeModal("collection-selection-modal"),Q().closeModal("album-selection-modal"),Q().closeModal("report-modal")},10)});const h=f(0),i=f(0),T=(C,K)=>{h.value=C,i.value=K},P=f([]),a=f({page:0,perPage:10}),I=async({loaded:C})=>{const[K,z]=await c.getFeedByUserId({userId:v.userId,pagination:{page:a.value.page,perPage:a.value.perPage}});a.value.page+=1;for(let j=0;j<K.feeds.length;j++){const Y=K.feeds[j];if(Y.liked&&b.value.push(Y.id),Y.artworks){Y.artworks.images=[],Y.artworks.apply_explicit_filter=!1;for(let H=0;H<Y.artworks.artwork_assets.length;H++)if(H<=3){const q=await p(Y.artworks.artwork_assets[H].bucket,Y.artworks.artwork_assets[H].filename,"feed");Y.artworks.images.push(q)}Y.artworks!=null&&(!g.loggedIn&&Y.artworks.is_explicit||Y.artworks.is_explicit&&!g.user.user_settings.show_explicit)&&(Y.artworks.apply_explicit_filter=!0)}P.value.push(Y)}C(K.feeds.length,a.value.perPage)},n=f(null),k=C=>{n.value.view(C),Q().openModal("chronological-feed-modal")},O=f(null),y=(C,K,z)=>{K?P.value[z].artworks.apply_explicit_filter=!1:(O.value.view(C),Q().openModal("artwork-modal"))},b=f([]),x=async C=>{const[K,z]=await c.like({feedId:C});if(K){b.value.push(C);const j=document.getElementById(`profileFeedLikeButton-${C}`);j.classList.add("animate-bounce"),setInterval(()=>{j.classList.remove("animate-bounce")},2500)}},d=async C=>{const[K,z]=await c.unlike({feedId:C});if(K){const j=b.value.indexOf(C);b.value.splice(j,1)}},U=(C,K,z,j)=>{Ne().readMore(C,K,z,j)},$=async()=>{const[C,K]=await c.remove(h.value);C&&P.value.splice(i.value,1)};return(C,K)=>{const z=We;return t(),r("div",bo,[(t(!0),r(le,null,ae(e(P),(j,Y)=>(t(),r("div",{key:j.id},[o("div",_o,[o("div",ko,[w(no,{feed:j},null,8,["feed"]),w(io,{bypass:!0,feed:j,"color-reversed":!0,"read-more":U,"view-artwork":y,onReadMore:U},null,8,["feed"]),o("section",yo,[$o,e(g).loggedIn?(t(),r("div",xo,[o("div",{class:"interactions__item",onClick:H=>e(b).includes(j.id)?d(j.id):x(j.id)},[E(w(S,{id:"profileFeedLikeButton-"+j.id,name:"i-ion-heart",class:"mr-1 text-red-500 hover:text-red-500"},null,8,["id"]),[[R,e(b).includes(j.id)]]),E(w(S,{name:"i-ri-heart-3-line",class:"mr-1 icon-color hover:text-red-500"},null,512),[[R,!e(b).includes(j.id)]]),D(" "+m(C.thousand(j._count.feed_likes)),1)],8,Mo),o("div",{class:"interactions__item",onClick:ee(H=>k(j.id),["prevent"])},[w(S,{name:"i-mdi-comment-multiple-outline",class:"mr-1 icon-color hover:text-blue-500"}),D(" "+m(C.thousand(j._count.feed_comments)),1)],8,Io),o("div",Co,[o("button",{type:"button","aria-haspopup":"true","aria-expanded":"true","aria-controls":"ellipsis-menu",onClick:H=>T(j.id,Y)},[o("span",null,[w(S,{name:"i-uit-ellipsis-v"})])],8,Eo),o("div",Lo,[o("div",Ao,[w(z,{to:"/feed/"+j.id},{default:de(()=>[w(S,{name:"i-fluent-arrow-enter-20-filled"}),D(" "+m(C.$t("open")),1)]),_:2},1032,["to"]),w(z,{to:"/feed/"+j.id,target:"_blank"},{default:de(()=>[w(S,{name:"i-ci-external-link"}),D(" "+m(C.$t("openInNewTab")),1)]),_:2},1032,["to"]),e(g).loggedIn&&j.user_id&&e(g).user.id===j.user_id?(t(),r("div",Fo)):u("",!0),e(g).loggedIn&&j.user_id&&e(g).user.id===j.user_id?(t(),r("div",Po,[o("a",{onClick:K[0]||(K[0]=H=>C.openModal("profile-feed-deletion-confirm-modal"))},[w(S,{name:"i-akar-icons-trash-bin"}),D(" "+m(C.$t("delete")),1)])])):u("",!0)])])])])):u("",!0)])])])]))),128)),w(e(Ze),{load:I,"is-initial":!1},{loading:de(()=>[o("div",Ro,[w(S,{name:"i-line-md-loading-twotone-loop","text-size":"text-3xl"}),o("div",To,m(C.$t("feedLoading")),1)])]),"no-results":de(()=>[o("div",So,[Oo,D(" "+m(C.$t("feeds.haventPostedAnyUpdate")),1)])]),"no-more":de(()=>[o("div",Bo,m(C.$t("youHaveReachedTheEnd")),1)]),_:1}),o("div",jo,[w(ro,{ref_key:"chronologicalFeedModalViewRef",ref:n,section:"chronological-feed","is-modal":!0},null,512)]),o("div",Ko,[w(_e,{ref_key:"artworkModalViewRef",ref:O,section:e(G).ARTWORK},null,8,["section"])]),w(ve,{id:"profile-feed-deletion-confirm-modal","modal-id":"profile-feed-deletion-confirm-modal",message:`${C.$t("alert.areYouSure")} ${C.$t("alert.youCannotUndoThisAction")}`,class:"modal",onOnAccept:K[1]||(K[1]=j=>$())},null,8,["message"])])}}},Uo=te(Vo,[["__scopeId","data-v-8e37dde5"]]);const Wo={id:"lists"},zo=["id"],No={__name:"Artworks",props:{userId:{type:Number,default:0},manageMode:{type:Boolean,default:!1},sortBy:{type:String,default:"default"}},emits:["feedSelectedItems","onEmpty","fireCounter"],setup(l,{emit:v}){const g=l,{oApiConfiguration:s,fetchOptions:M}=Z(),c=Pe(s,M()),p="profile",_=f(!0);ie(()=>{h(!0)});const h=async(K=!1)=>{T.value.page=0;const[z,j]=await P();i.value=z,j.record_total<=T.value.perPage&&n(),j.record_total===0&&b(),K&&(console.log("artowrk fetched!"),v("fireCounter"))};xe(()=>g.sortBy,()=>{h()});const i=f([]),T=f({perPage:24,page:0}),P=async()=>{T.value.page===0&&(_.value=!0);const[K,z,j]=await c.getUserArtworks({userId:g.userId,sortBy:g.sortBy,pagination:{page:T.value.page,perPage:T.value.perPage}});if(j)d();else return z.record_total<=T.value.perPage&&n(),z.record_total===0&&b(),T.value.page+=1,a(),[K,z]},a=()=>{_.value=!1,y.value=!1,x.value=!1},I=f(!0),n=()=>{I.value=!1},k=f({delay:!1}),O=async()=>{k.value.delay=!0;const[K,z]=await P();for(let j=0;j<K.length;j++)i.value.push(K[j]);k.value.delay=!1,z.next_previous.next_page||n(),z.next_previous.next_page&&z.current_page===k.maxLoad&&(n(),k.showDiscoveryButton=!0)},y=f(!1),b=()=>{y.value=!0,n(),v("onEmpty")},x=f(!1),d=()=>{_.value=!1,x.value=!0,n()},U=f(null),$=(K,z=!1)=>{U.value.view(K,z),Q().openModal(p+"-modal")},C=K=>{v("feedSelectedItems",K)};return(K,z)=>(t(),r("div",Wo,[E(o("div",null,[E(w(Ae,{"section-class":"work-grid-6",works:e(i),view:$,"manage-mode":l.manageMode,onFeedManageList:C},null,8,["works","manage-mode"]),[[R,!e(y)]]),E(o("div",{class:A(["w-full primary-button",e(k).delay?"animate-pulse":""]),onClick:O},m(K.$t("loadMore")),3),[[R,e(I)]])],512),[[R,!e(_)]]),w(re,{loading:e(_),empty:e(y),error:e(x),fetch:P,"background-color":"theme-color-secondary",class:"mt-2"},null,8,["loading","empty","error"]),o("div",{id:p+"-modal",class:"modal work-view"},[E(w(_e,{ref_key:"profileModalViewRef",ref:U,section:p},null,512),[[R,!e(_)]])],8,zo)]))}},Do=te(No,[["__scopeId","data-v-969a827b"]]),Ho={class:"w-full modal-layer xl:w-1/4 lg:w-2/5"},qo={id:"crate-album-form"},Yo={class:"title"},Go=["name"],Jo=["placeholder"],Qo=["name"],Xo=["placeholder"],Zo=["for"],et=o("span",{class:"block w-10 h-6 bg-gray-300 rounded-full shadow-inner"},null,-1),ot={key:0,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 bg-white rounded-full shadow transition-transform duration-300 ease-in-out focus-within:shadow-outline"},tt=o("input",{id:"unchecked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),st=[tt],lt={key:1,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 rounded-full shadow transition-transform duration-300 ease-in-out transform translate-x-full focus-within:shadow-outline button-color"},at=o("input",{id:"checked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),nt=[at],it={class:"flex flex-row gap-x-2"},rt={class:"buttons"},dt={type:"submit",class:"submit"},ct=Re({__name:"AlbumFormModal",props:{category:{type:String,default:G.ARTWORK},modalId:{type:String,default:"create-album-form-modal"}},emits:["created"],setup(l,{emit:v}){const g=l,s=oe(),{oApiConfiguration:M,fetchOptions:c}=Z(),p=ke(M,c()),{t:_}=Ce(),h="create-album-form",i=f({title:"",description:"",isPublic:!0}),T=f({isError:!1,message:""}),P=async()=>{a(),Le().validate(h,_);const[I,n,k]=await p.createAlbum(g.category,i.value);k?T.value={isError:!0,message:k}:(Q().closeModal(g.modalId),v("created",n))},a=()=>{T.value={isError:!1,message:""}};return(I,n)=>(t(),r("div",null,[o("div",Ho,[o("section",qo,[o("h2",Yo,m(I.$t("albums.create.form.title")),1),o("form",{id:h,onSubmit:n[4]||(n[4]=ee(k=>P(),["prevent"]))},[w(Se,{"is-error":e(T).isError,"error-message":e(T).message},null,8,["is-error","error-message"]),o("n-validate",{for:"title",name:I.$t("title")},[E(o("input",{"onUpdate:modelValue":n[0]||(n[0]=k=>e(i).title=k),type:"text",rules:"required",class:"input-color-secondary",placeholder:I.$t("title")},null,8,Jo),[[ce,e(i).title]])],8,Go),o("n-validate",{for:"description",name:I.$t("description")},[E(o("textarea",{"onUpdate:modelValue":n[1]||(n[1]=k=>e(i).description=k),rules:"","data-gramm":"false",class:"input-color-secondary",placeholder:I.$t("description")},null,8,Xo),[[ce,e(i).description]])],8,Qo),o("label",{for:e(i).isPublic?"checked":"unchecked",class:"inline-flex items-center"},[o("span",{class:"relative cursor-pointer",onClick:n[2]||(n[2]=k=>e(s).i502p00r0?e(i).isPublic=!e(i).isPublic:e(i).isPublic=!0)},[et,e(i).isPublic?(t(),r("span",ot,st)):u("",!0),e(i).isPublic?u("",!0):(t(),r("span",lt,nt))]),o("div",it,[o("span",{class:A(["ml-2 inline-block",{"leading-6":!e(s).i502p00r0}])},m(I.$t("private")),3),e(s).i502p00r0?u("",!0):(t(),W(ne,{key:0}))])],8,Zo),o("div",rt,[o("button",{class:"cancel",onClick:n[3]||(n[3]=ee(k=>I.closeModal(l.modalId),["prevent"]))},m(I.$t("cancel")),1),o("button",dt,m(I.$t("create")),1)])],32)])])]))}});const ut={id:"lists"},mt={class:"p-4 mb-2 w-full rounded-md theme-color-secondary"},ft={class:"mb-2 text-base font-bold"},pt={class:"mb-2"},wt={class:"italic"},vt=["id"],gt={__name:"List",props:{id:{type:Number,default:0},manageMode:{type:Boolean,default:!1}},emits:["onAlbumEmpty","feedManageList"],setup(l,{expose:v,emit:g}){const s=l,{oApiConfiguration:M,fetchOptions:c}=Z(),p=ke(M,c()),_=f(s.id);xe(()=>s.id,($,C)=>{_.value=$}),ie(async()=>{await T()});const h=f(!0),i=f({id:0,info:{},loadMore:!0,pagination:{page:0,perPage:12,firstLoad:24},list:[],empty:!1}),T=async()=>{h.value=!0,await P(),await a(),h.value=!1},P=async()=>{const[$,C]=await p.getInfo(_.value);i.value.info=$.data},a=async()=>{const[$,C,K]=await p.listAlbumItems({albumId:_.value,pagination:{page:i.value.pagination.page,perPage:i.value.pagination.page===0?i.value.pagination.firstLoad:i.value.pagination.perPage}});C?i.value.pagination.page===0?i.value.pagination.page=i.value.pagination.firstLoad/i.value.pagination.perPage:i.value.pagination.page+=i.value.pagination.page!==0?1:2:i.value.loadMore=!1,$!==null&&$.length?($.forEach(z=>{i.value.list.push(z.artworks)}),g("onAlbumEmpty",!1)):(i.value.empty=!0,g("onAlbumEmpty",!0))},I=()=>{i.value.loadMore=!0,i.value.pagination.page=0,i.value.list=[]},n=f([]),k=$=>{n.value=$,g("feedManageList",$)},O=f(!1);let y;const b=async()=>{const[$,C]=await p.removeItems(s.id,n.value);$&&(be().splash(y,O,"item-removed-alert"),I(),await T())},x=f("album"),d=f(null),U=($,C=!1)=>{d.value.view($,C),Q().openModal(x.value+"-modal")};return v({fetchInfo:P,removeItems:b}),($,C)=>(t(),r("div",ut,[o("div",mt,[o("div",ft,m(e(i).info.name),1),o("div",pt,m(e(i).info.description),1),o("div",null,[o("b",null,m($.$t("private"))+":",1),D(),o("span",wt,m(e(i).info.is_public?$.$t("no"):$.$t("yes")),1)]),o("div",null,[o("b",null,m($.$t("createdAt")),1),D(" "+m($.formatDate(e(i).info.created_at)),1)])]),E(o("div",null,[E(w(Ae,{"section-class":"work-grid-6",works:e(i).list,view:U,"manage-mode":l.manageMode,onFeedManageList:k},null,8,["works","manage-mode"]),[[R,!e(i).empty]]),E(o("div",{class:"primary-button w-full",onClick:C[0]||(C[0]=K=>a())},m($.$t("loadMore")),513),[[R,e(i).loadMore]])],512),[[R,!e(h)]]),w(re,{loading:e(h),empty:e(i).empty,error:!1,fetch:T,"background-color":"theme-color-secondary"},null,8,["loading","empty"]),e(h)?u("",!0):(t(),r("div",{key:0,id:e(x)+"-modal",class:"modal work-view"},[w(_e,{ref_key:"albumModalViewRef",ref:d,section:e(x)},null,8,["section"])],8,vt)),E(w(he,{id:"item-removed-alert",text:$.$t("albums.itemRemoved")},null,8,["text"]),[[R,e(O)]])]))}},ht=te(gt,[["__scopeId","data-v-f0710978"]]),bt={class:"w-full modal-layer xl:w-1/4 lg:w-2/5"},_t={id:"update-album-form"},kt={class:"title"},yt=["name"],$t=["placeholder"],xt=["name"],Mt=["placeholder"],It=["for"],Ct=o("span",{class:"block w-10 h-6 bg-gray-300 rounded-full shadow-inner"},null,-1),Et={key:0,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 bg-white rounded-full shadow transition-transform duration-300 ease-in-out focus-within:shadow-outline"},Lt=o("input",{id:"unchecked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),At=[Lt],Ft={key:1,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 rounded-full shadow transition-transform duration-300 ease-in-out transform translate-x-full focus-within:shadow-outline button-color"},Pt=o("input",{id:"checked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),Rt=[Pt],Tt={class:"flex flex-row gap-x-2"},St={class:"buttons"},Ot={type:"submit",class:"submit"},Bt=Re({__name:"EditForm",props:{albumId:{type:Number,default:0},modalId:{type:String,default:""}},emits:["updated"],setup(l,{expose:v,emit:g}){const s=l,M=oe(),{oApiConfiguration:c,fetchOptions:p}=Z(),_=ke(c,p()),{t:h}=Ce(),i=f(!0),T=async y=>{if(y){O(),i.value=!0;const[b,x]=await _.getInfo(y),d=b.data;a.value.id=y,a.value.name=d.name,a.value.description=d.description,a.value.isPublic=!!d.is_public,i.value=!1}},P="update-album-form",a=f({id:0,name:"",description:"",isPublic:!0}),I=async()=>{k(),Le().validate(P,h);const[y,b]=await _.update({id:a.value.id,name:a.value.name,description:a.value.description,isPublic:a.value.isPublic});b?n.value={isError:!0,message:b}:(Q().closeModal(s.modalId),g("updated",a.value),O())},n=f({isError:!1,message:""}),k=()=>{n.value={isError:!1,message:""}},O=()=>{a.value={id:0,name:"",description:"",isPublic:!0}};return v({fetch:T}),(y,b)=>(t(),r("div",null,[o("div",bt,[o("section",_t,[o("h2",kt,m(y.$t("albums.edit.form.title")),1),e(i)?u("",!0):(t(),r("form",{key:0,id:P,onSubmit:b[4]||(b[4]=ee(x=>I(),["prevent"]))},[w(Se,{"is-error":e(n).isError,"error-message":e(n).message},null,8,["is-error","error-message"]),o("n-validate",{for:"title",name:y.$t("title")},[E(o("input",{"onUpdate:modelValue":b[0]||(b[0]=x=>e(a).name=x),type:"text",rules:"required",class:"input-color-secondary",placeholder:y.$t("title")},null,8,$t),[[ce,e(a).name]])],8,yt),o("n-validate",{for:"description",name:y.$t("description")},[E(o("textarea",{"onUpdate:modelValue":b[1]||(b[1]=x=>e(a).description=x),rules:"","data-gramm":"false",class:"input-color-secondary",placeholder:y.$t("description")},null,8,Mt),[[ce,e(a).description]])],8,xt),o("label",{for:e(a).isPublic?"checked":"unchecked",class:"inline-flex items-center"},[o("span",{class:"relative cursor-pointer",onClick:b[2]||(b[2]=x=>e(M).i502p00r0?e(a).isPublic=!e(a).isPublic:e(a).isPublic=!0)},[Ct,e(a).isPublic?(t(),r("span",Et,At)):u("",!0),e(a).isPublic?u("",!0):(t(),r("span",Ft,Rt))]),o("div",Tt,[o("span",{class:A(["ml-2",{"leading-6":!e(M).i502p00r0}])},m(y.$t("private")),3),e(M).i502p00r0?u("",!0):(t(),W(ne,{key:0}))])],8,It),o("div",St,[o("button",{class:"cancel",onClick:b[3]||(b[3]=ee(x=>y.closeModal(l.modalId),["prevent"]))},m(y.$t("cancel")),1),o("button",Ot,m(y.$t("save")),1)])],32))])])]))}});const qe=l=>(Me("data-v-903929df"),l=l(),Ie(),l),jt={class:"mb-2"},Kt={key:0},Vt=["src"],Ut={key:1},Wt={class:"relative text-center"},zt={key:0,class:"absolute top-1/2 left-1/2 z-10 text-xl font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},Nt={class:"overflow-hidden rounded-md"},Dt=["src"],Ht={key:2,class:"imgrid"},qt={class:"relative text-center"},Yt={key:0,class:"absolute top-1/2 left-1/2 z-10 text-base font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},Gt={class:"overflow-hidden rounded-md"},Jt=["src"],Qt=qe(()=>o("img",{class:"bg-gray-300 border-none"},null,-1)),Xt=qe(()=>o("img",{class:"bg-gray-300 border-none"},null,-1)),Zt={key:3,class:"imgrid"},es={class:"relative text-center"},os={key:0,class:"absolute top-1/2 left-1/2 z-10 text-base font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},ts={class:"overflow-hidden rounded-md"},ss=["src"],ls={key:4,class:"imgrid"},as={class:"relative text-center"},ns={key:0,class:"absolute top-1/2 left-1/2 z-10 font-semibold text-white transform -translate-x-1/2 -translate-y-1/2 text-tiny"},is={class:"overflow-hidden rounded-md"},rs=["src"],ds={key:5,class:"imgrid"},cs={key:0,class:"relative text-center"},us={key:0,class:"absolute top-1/2 left-1/2 z-10 font-semibold text-white transform -translate-x-1/2 -translate-y-1/2 text-tiny"},ms={class:"overflow-hidden rounded-md"},fs=["src"],ps={key:1,class:"relative text-center"},ws={class:"absolute top-1/2 left-1/2 z-10 text-lg font-semibold text-white transform -translate-x-1/2 -translate-y-1/2 md:text-xl lg:text-3xl"},vs={class:"overflow-hidden rounded-md"},gs=["src"],hs={__name:"ArtworkThumbnail",props:{album:{type:Object,default:()=>{}}},setup(l){const v=oe(),g={1:"col-start-1 row-start-1 col-span-4 row-span-4",2:["col-start-1 row-start-1 col-span-1 row-span-2","col-start-2 row-start-1 col-span-1 row-span-2"],3:["col-start-1 row-start-1 col-span-1 row-span-2","col-start-2 row-start-1 col-span-1 row-span-2"]};return(s,M)=>(t(),r("div",jt,[!l.album.album_has_artworks||l.album._count.album_has_artworks===0?(t(),r("div",Kt,[o("img",{src:s.folderIcon(),class:"rounded"},null,8,Vt)])):u("",!0),l.album.album_has_artworks&&l.album._count.album_has_artworks===1?(t(),r("div",Ut,[o("div",Wt,[s.applyExplicitFilter(e(v),l.album.album_has_artworks[0].artworks.is_explicit,l.album.album_has_artworks[0].artworks.is_gore)?(t(),r("span",zt,m(s.$t("explicitContent")),1)):u("",!0),o("div",Nt,[l.album.album_has_artworks&&l.album._count.album_has_artworks===1?(t(),r("img",{key:0,src:s.artworkThumb(l.album.album_has_artworks[0].artworks.artwork_assets[0].bucket,l.album.album_has_artworks[0].artworks.artwork_assets[0].filename,"thumbnail"),class:A(["object-cover object-top rounded",{"blur-sm brightness-50":s.applyExplicitFilter(e(v),l.album.album_has_artworks[0].artworks.is_explicit,l.album.album_has_artworks[0].artworks.is_gore)}]),style:{"aspect-ratio":"1/1"},onError:M[0]||(M[0]=(...c)=>s.imageLoadError&&s.imageLoadError(...c))},null,42,Dt)):u("",!0)])])])):u("",!0),l.album.album_has_artworks&&l.album._count.album_has_artworks===2?(t(),r("div",Ht,[(t(!0),r(le,null,ae(l.album.album_has_artworks,(c,p)=>(t(),r("div",{key:p,class:A(g[2][p])},[o("div",qt,[s.applyExplicitFilter(e(v),c.artworks.is_explicit,c.artworks.is_gore)?(t(),r("span",Yt,m(s.$t("explicitContent")),1)):u("",!0),o("div",Gt,[o("img",{class:A(["theme-color",{"blur-sm brightness-50":s.applyExplicitFilter(e(v),c.artworks.is_explicit,c.artworks.is_gore)}]),src:s.artworkThumb(c.artworks.artwork_assets[0].bucket,c.artworks.artwork_assets[0].filename,"thumbnail"),onError:M[1]||(M[1]=(..._)=>s.imageLoadError&&s.imageLoadError(..._))},null,42,Jt)])])],2))),128)),Qt,Xt])):u("",!0),l.album.album_has_artworks&&l.album._count.album_has_artworks===3?(t(),r("div",Zt,[(t(!0),r(le,null,ae(l.album.album_has_artworks,(c,p)=>(t(),r("div",{key:p,class:A(g[3][p])},[o("div",es,[s.applyExplicitFilter(e(v),c.artworks.is_explicit,c.artworks.is_gore)?(t(),r("span",os,m(s.$t("explicitContent")),1)):u("",!0),o("div",ts,[o("img",{class:A(["theme-color",{"blur-sm brightness-50":s.applyExplicitFilter(e(v),c.artworks.is_explicit,c.artworks.is_gore)}]),src:s.artworkThumb(c.artworks.artwork_assets[0].bucket,c.artworks.artwork_assets[0].filename,"thumbnail"),onError:M[2]||(M[2]=(..._)=>s.imageLoadError&&s.imageLoadError(..._))},null,42,ss)])])],2))),128))])):u("",!0),l.album.album_has_artworks&&l.album._count.album_has_artworks===4?(t(),r("div",ls,[(t(!0),r(le,null,ae(l.album.album_has_artworks,(c,p)=>(t(),r("div",{key:p},[o("div",as,[s.applyExplicitFilter(e(v),c.artworks.is_explicit,c.artworks.is_gore)?(t(),r("span",ns,m(s.$t("explicitContent")),1)):u("",!0),o("div",is,[o("img",{class:A(["theme-color",{"blur-sm brightness-50":s.applyExplicitFilter(e(v),c.artworks.is_explicit,c.artworks.is_gore)}]),src:s.artworkThumb(c.artworks.artwork_assets[0].bucket,c.artworks.artwork_assets[0].filename,"thumbnail"),onError:M[3]||(M[3]=(..._)=>s.imageLoadError&&s.imageLoadError(..._))},null,42,rs)])])]))),128))])):u("",!0),l.album.album_has_artworks&&l.album._count.album_has_artworks>4?(t(),r("div",ds,[(t(!0),r(le,null,ae(l.album.album_has_artworks,(c,p)=>(t(),r("div",{key:p},[p<3?(t(),r("div",cs,[s.applyExplicitFilter(e(v),c.artworks.is_explicit,c.artworks.is_gore)?(t(),r("span",us,m(s.$t("explicitContent")),1)):u("",!0),o("div",ms,[o("img",{class:A(["theme-color",{"blur-sm brightness-50":s.applyExplicitFilter(e(v),c.artworks.is_explicit,c.artworks.is_gore)}]),src:s.artworkThumb(c.artworks.artwork_assets[0].bucket,c.artworks.artwork_assets[0].filename,"thumbnail"),onError:M[4]||(M[4]=(..._)=>s.imageLoadError&&s.imageLoadError(..._))},null,42,fs)])])):(t(),r("div",ps,[o("span",ws,"+"+m(l.album._count.album_has_artworks-4),1),o("div",vs,[o("img",{src:s.artworkThumb(c.artworks.artwork_assets[0].bucket,c.artworks.artwork_assets[0].filename,"thumbnail"),class:A(["z-0 brightness-50",{"blur-sm brightness-50":s.applyExplicitFilter(e(v),c.artworks.is_explicit,c.artworks.is_gore)}]),onError:M[5]||(M[5]=(..._)=>s.imageLoadError&&s.imageLoadError(..._))},null,42,gs)])]))]))),128))])):u("",!0)]))}},bs=te(hs,[["__scopeId","data-v-903929df"]]);const _s={class:"mb-2 w-full"},ks={key:0,class:"flex flex-row justify-between"},ys={class:"flex flex-row"},$s={key:0},xs={key:1,class:"flex flex-row justify-between"},Ms={class:"flex flex-row"},Is={class:"flex flex-row gap-2"},Cs={class:"flex flex-row gap-2"},Es={key:0,class:"grid grid-cols-2 gap-4 sm:grid-cols-4"},Ls=["onClick"],As={class:"flex flex-row pb-1 mt-4 font-bold"},Fs={class:"text-xs font-normal"},Ps={__name:"Album",props:{userId:{type:Number,default:0}},setup(l){const v=l,g=oe(),{oApiConfiguration:s,fetchOptions:M}=Z(),c=ke(s,M());Te(()=>{T()}),ie(()=>{n()});const p=f(!0),_=f(G.ARTWORK),h=f(0),i=f(!1),T=async()=>{if(g.i502p00r0)i.value=!0;else{const[F,B]=await c.proCanCreateAlbum({type:_.value});B?i.value=!1:i.value=F}},P=f([]),a=f({pagination:{page:0,perPage:4,firstLoad:8},showLoadMore:!1,manageMode:!1,showManageButton:!0}),I=f({artwork:0}),n=async()=>{p.value=!0;const[F,B,N]=await c.fetchAlbums(v.userId,_.value,a.value.pagination.page===0?a.value.pagination.firstLoad:a.value.pagination.perPage,a.value.pagination.page);if(N)x();else{F.length||(a.value.manageMode=!1,y()),F.forEach(se=>{P.value.push(se)}),a.value.pagination.page+=1,a.value.showLoadMore=B;const[ue]=await c.countArtworkAlbums(v.userId);I.value.artwork=ue}p.value=!1},k=async()=>await n(),O=f(!1),y=()=>{O.value=!0,a.value.showLoadMore=!1},b=f(!1),x=()=>{p.value=!1,b.value=!0,a.value.showLoadMore=!1},d=async()=>{p.value=!1,O.value=!1,b.value=!1,a.value.pagination.page=0,P.value=[],await n()},U=f(!1);let $;const C=async()=>{await T(),be().splash($,U,"created-alert"),await d()},K=f(null),z=()=>{K.value.fetch(h.value),Q().openModal("album-edit-form-modal")},j=f(null),Y=F=>{j.value.fetchInfo(),P.value.forEach(B=>{B.id===F.id&&(B.name=F.name,B.description=F.description,B.is_public=F.isPublic)})},H=()=>{j.value.removeItems()},q=f([]),X=F=>{q.value=F},ge=async()=>{if(h.value!==0){const[F,B]=await c.deleteAlbum(h.value);F&&(await T(),h.value=0,d())}},fe=F=>{a.value.showManageButton=!F,a.value.manageMode=!1},pe=()=>{h.value=0,a.value.showManageButton=!1,a.value.manageMode=!1};return(F,B)=>(t(),r("div",null,[o("div",_s,[e(h)?u("",!0):(t(),r("div",ks,[o("div",ys,[o("div",{class:A(["ml-0 primary-button theme-color-secondary",{"button-color text-white":e(_)===e(G).ARTWORK}]),onClick:B[0]||(B[0]=N=>_.value=e(G).ARTWORK)},[D(m(F.$t("artworks.artwork"))+" ",1),o("span",{class:A(["px-1 ml-2 font-normal rounded",e(_)===e(G).ARTWORK?"theme-color":"button-color text-white"])},m(F.thousand(e(I).artwork)),3)],2)]),e(g).loggedIn&&e(g).user.id===l.userId?(t(),r("div",$s,[o("div",{class:"flex flex-row icon-button",onClick:B[1]||(B[1]=N=>e(i)?F.openModal("album-form-modal"):null)},[w(S,{name:"i-ion-add-outline"}),e(i)?u("",!0):(t(),W(ne,{key:0,class:"ml-1"}))])])):u("",!0)])),e(h)?(t(),r("div",xs,[o("div",null,[o("div",{class:"ml-0 icon-button",onClick:B[2]||(B[2]=N=>pe())},[w(S,{name:"i-ic-baseline-keyboard-arrow-left"})])]),o("div",Ms,[E(o("div",Is,[o("button",{class:A(["action-button",e(a).manageMode?"danger-button":"secondary-button"]),onClick:B[3]||(B[3]=N=>e(a).manageMode=!e(a).manageMode)},[w(S,{name:e(a).manageMode?"i-ion-close-outline":"i-material-symbols-library-add-check-outline-rounded"},null,8,["name"]),D(" "+m(e(a).manageMode?F.$t("quit"):F.$t("manage")),1)],2),E(o("button",{class:A(["flex flex-row",e(q).length>0?"danger-button":"disabled-button cursor-not-allowed"]),onClick:B[4]||(B[4]=N=>e(q).length>0?F.openModal("item-deletion-confirm-modal"):null)},[w(S,{name:"i-akar-icons-trash-bin"}),D(" "+m(F.$t("albums.removeSelected")),1)],2),[[R,e(a).manageMode]])],512),[[R,e(g).loggedIn&&e(g).user.id===l.userId&&e(a).showManageButton]]),E(o("div",Cs,[o("button",{class:"icon-button",onClick:B[5]||(B[5]=N=>z())},[w(S,{name:"i-ph-gear-six"})]),o("button",{class:"danger-button-color b-button",onClick:B[6]||(B[6]=N=>F.openModal("album-deletion-confirm-modal"))},[w(S,{name:"i-akar-icons-trash-bin"})])],512),[[R,e(g).loggedIn&&e(g).user.id===l.userId&&!e(a).manageMode]])])])):u("",!0),E(o("div",{class:"p-2 mt-4 text-black bg-yellow-200 rounded-md"},m(F.$t("albums.manageModeActiveMessage")),513),[[R,e(a).manageMode]])]),e(h)?u("",!0):(t(),r("div",Es,[(t(!0),r(le,null,ae(e(P),N=>(t(),r("div",{key:N.id,class:A(["p-3 rounded-md cursor-pointer",N.is_public?"theme-color-secondary":"theme-color-secondary border-red-300 border-2"]),onClick:ue=>h.value=N.id},[N.type===e(G).ARTWORK?(t(),W(bs,{key:0,album:N},null,8,["album"])):u("",!0),o("div",As,[N.is_public?u("",!0):(t(),W(S,{key:0,name:"i-radix-icons-lock-closed",class:"mr-2 cursor-default"})),o("span",Fs,m(N.name),1)])],10,Ls))),128))])),e(a).showLoadMore&&!e(h)?(t(),r("div",{key:1,class:"mt-4 w-full primary-button",onClick:k},m(F.$t("loadMore")),1)):u("",!0),w(re,{loading:e(p),empty:e(O),error:e(b),fetch:n,"background-color":"theme-color-secondary"},null,8,["loading","empty","error"]),!e(p)&&!e(h)?(t(),W(ct,{key:2,id:"album-form-modal","modal-id":"album-form-modal",category:e(_),class:"modal",onCreated:C},null,8,["category"])):u("",!0),E(w(he,{id:"created-alert",text:F.$t("albums.created")},null,8,["text"]),[[R,e(U)]]),!e(p)&&e(h)?(t(),W(Bt,{key:3,id:"album-edit-form-modal",ref_key:"albumEditFormModalRef",ref:K,"modal-id":"album-edit-form-modal","album-id":e(h),class:"modal",onUpdated:Y},null,8,["album-id"])):u("",!0),w(ve,{id:"album-deletion-confirm-modal","modal-id":"album-deletion-confirm-modal",message:"All saved items in this album will be deleted. Do you still want to delete this album?",class:"modal",onOnAccept:ge},null,8,["message"]),w(ve,{id:"item-deletion-confirm-modal","modal-id":"item-deletion-confirm-modal",message:"Selected item(s) will be removed from this album. Do you still want to remove them?",class:"modal",onOnAccept:H},null,8,["message"]),e(h)&&!e(p)?(t(),W(ht,{key:4,id:e(h),ref_key:"albumDetailRef",ref:j,"manage-mode":e(a).manageMode,onOnAlbumEmpty:fe,onFeedManageList:X},null,8,["id","manage-mode"])):u("",!0)]))}},Rs=te(Ps,[["__scopeId","data-v-a496ec87"]]),Ts={class:"w-full modal-layer xl:w-1/4 lg:w-2/5"},Ss={id:"create-collection-form"},Os={class:"title"},Bs=["name"],js=["placeholder"],Ks=["name"],Vs=["placeholder"],Us=["for"],Ws=o("span",{class:"block w-10 h-6 bg-gray-300 rounded-full shadow-inner"},null,-1),zs={key:0,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 bg-white rounded-full shadow transition-transform duration-300 ease-in-out focus-within:shadow-outline"},Ns=o("input",{id:"unchecked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),Ds=[Ns],Hs={key:1,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 rounded-full shadow transition-transform duration-300 ease-in-out transform translate-x-full focus-within:shadow-outline button-color"},qs=o("input",{id:"checked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),Ys=[qs],Gs={class:"flex flex-row gap-x-2"},Js={class:"buttons"},Qs={type:"submit",class:"submit"},Xs=Re({__name:"CollectionFormModal",props:{category:{type:String,default:G.ARTWORK},modalId:{type:String,default:""}},emits:["created"],setup(l,{emit:v}){const g=l,s=oe(),{oApiConfiguration:M,fetchOptions:c}=Z(),p=ye(M,c()),{t:_}=Ce(),h="create-collection-form",i=f({title:"",description:"",isPublic:!0,category:G.ARTWORK}),T=async()=>{a(),Le().validate(h,_);const[I,n,k]=await p.createCollection(g.category,i.value);k?P.value={isError:!0,message:k}:(Q().closeModal(g.modalId),v("created",n))},P=f({isError:!1,message:""}),a=()=>{P.value={isError:!1,message:""}};return(I,n)=>{const k=ze("ErrorMessage");return t(),r("div",null,[o("div",Ts,[o("section",Ss,[o("h2",Os,m(I.$t("collections.create.form.title")),1),o("form",{id:h,onSubmit:n[4]||(n[4]=ee(O=>T(),["prevent"]))},[w(k,{"is-error":e(P).isError,"error-message":e(P).message},null,8,["is-error","error-message"]),o("n-validate",{for:"title",name:I.$t("title")},[E(o("input",{"onUpdate:modelValue":n[0]||(n[0]=O=>e(i).title=O),type:"text",rules:"required",class:"input-color-secondary",placeholder:I.$t("title")},null,8,js),[[ce,e(i).title]])],8,Bs),o("n-validate",{for:"description",name:I.$t("description")},[E(o("textarea",{"onUpdate:modelValue":n[1]||(n[1]=O=>e(i).description=O),rules:"","data-gramm":"false",class:"input-color-secondary",placeholder:I.$t("description")},null,8,Vs),[[ce,e(i).description]])],8,Ks),o("label",{for:e(i).isPublic?"checked":"unchecked",class:"inline-flex items-center"},[o("span",{class:"relative cursor-pointer",onClick:n[2]||(n[2]=O=>e(s).i502p00r0?e(i).isPublic=!e(i).isPublic:e(i).isPublic=!0)},[Ws,e(i).isPublic?(t(),r("span",zs,Ds)):u("",!0),e(i).isPublic?u("",!0):(t(),r("span",Hs,Ys))]),o("div",Gs,[o("span",{class:A(["ml-2 inline-block",{"leading-6":!e(s).i502p00r0}])},m(I.$t("private")),3),e(s).i502p00r0?u("",!0):(t(),W(ne,{key:0}))])],8,Us),o("div",Js,[o("button",{class:"cancel",onClick:n[3]||(n[3]=ee(O=>I.closeModal(l.modalId),["prevent"]))},m(I.$t("cancel")),1),o("button",Qs,m(I.$t("create")),1)])],32)])])])}}});const Zs={id:"lists"},el={class:"p-4 mb-4 w-full rounded-md theme-color-secondary"},ol={class:"mb-2 text-base font-bold"},tl={class:"mb-2"},sl={class:"italic"},ll=["id"],al={__name:"List",props:{id:{type:Number,default:0},manageMode:{type:Boolean,default:!1},type:{type:String,default:""}},emits:["onCollectionEmpty","feedManageList"],setup(l,{expose:v,emit:g}){const s=l,{oApiConfiguration:M,fetchOptions:c}=Z(),p=ye(M,c()),_=f(s.id);xe(()=>s.id,($,C)=>{_.value=$}),ie(async()=>{await T()});const h=f(!0),i=f({id:0,info:{},loadMore:!0,pagination:{page:0,perPage:12,firstLoad:24},list:[],empty:!1}),T=async()=>{h.value=!0,await P(),await a(),h.value=!1},P=async()=>{const[$,C]=await p.getInfo(_.value);i.value.info=$.data},a=async()=>{const[$,C,K]=await p.listCollectionItems({collectionId:_.value,pagination:{page:i.value.pagination.page,perPage:i.value.pagination.page===0?i.value.pagination.firstLoad:i.value.pagination.perPage}});C?i.value.pagination.page===0?i.value.pagination.page=i.value.pagination.firstLoad/i.value.pagination.perPage:i.value.pagination.page+=i.value.pagination.page!==0?1:2:i.value.loadMore=!1,$!==null&&$.length?($.forEach(z=>{i.value.list.push(z.artworks)}),g("onCollectionEmpty",!1)):(i.value.empty=!0,g("onCollectionEmpty",!0))},I=()=>{i.value.loadMore=!0,i.value.pagination.page=0,i.value.list=[]},n=f([]),k=$=>{n.value=$,g("feedManageList",$)},O=f(!1);let y;const b=async()=>{const[$,C]=await p.removeItem({collectionId:s.id,type:s.type,workId:n.value});C||(be().splash(y,O,"item-removed-alert"),I(),await T(),g("feedManageList",[]))},x=f("collection"),d=f(null),U=($,C=!1)=>{d.value.view($,C),Q().openModal(x.value+"-modal")};return v({fetchInfo:P,removeItem:b}),($,C)=>(t(),r("div",Zs,[o("div",el,[o("div",ol,m(e(i).info.name),1),o("div",tl,m(e(i).info.description),1),o("div",null,[o("b",null,m($.$t("private"))+":",1),D(),o("span",sl,m(e(i).info.is_public?$.$t("no"):$.$t("yes")),1)]),o("div",null,[o("b",null,m($.$t("createdAt")),1),D(" "+m($.formatDate(e(i).info.created_at)),1)])]),E(o("div",null,[E(w(Ae,{"section-class":"work-grid-6",works:e(i).list,view:U,"manage-mode":l.manageMode,onFeedManageList:k},null,8,["works","manage-mode"]),[[R,!e(i).empty]]),E(o("div",{class:"w-full primary-button",onClick:C[0]||(C[0]=K=>a())},m($.$t("loadMore")),513),[[R,e(i).loadMore]])],512),[[R,!e(h)]]),w(re,{loading:e(h),empty:e(i).empty,error:!1,fetch:T,"background-color":"theme-color-secondary"},null,8,["loading","empty"]),e(h)?u("",!0):(t(),r("div",{key:0,id:e(x)+"-modal",class:"modal work-view"},[w(_e,{ref_key:"collectionModalViewRef",ref:d,section:e(x)},null,8,["section"])],8,ll)),E(w(he,{id:"item-removed-alert",text:$.$t("collections.itemRemoved")},null,8,["text"]),[[R,e(O)]])]))}},nl=te(al,[["__scopeId","data-v-5cfcfca8"]]),il={class:"w-full modal-layer xl:w-1/4 lg:w-2/5"},rl={id:"update-collection-form"},dl={class:"title"},cl=["name"],ul=["placeholder"],ml=["name"],fl=["placeholder"],pl=["for"],wl=o("span",{class:"block w-10 h-6 bg-gray-300 rounded-full shadow-inner"},null,-1),vl={key:0,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 bg-white rounded-full shadow transition-transform duration-300 ease-in-out focus-within:shadow-outline"},gl=o("input",{id:"unchecked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),hl=[gl],bl={key:1,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 rounded-full shadow transition-transform duration-300 ease-in-out transform translate-x-full focus-within:shadow-outline button-color"},_l=o("input",{id:"checked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),kl=[_l],yl={class:"flex flex-row gap-x-2"},$l={class:"buttons"},xl={type:"submit",class:"submit"},Ml={__name:"EditForm",props:{collectionId:{type:Number,default:0},modalId:{type:String,default:""}},emits:["updated"],setup(l,{expose:v,emit:g}){const s=l,M=oe(),{oApiConfiguration:c,fetchOptions:p}=Z(),_=ye(c,p()),{t:h}=Ce(),i=f(!0),T=async y=>{if(y){O(),i.value=!0;const[b,x]=await _.getInfo(y);if(!x){const d=b.data;a.value.id=y,a.value.name=d.name,a.value.description=d.description,a.value.isPublic=!!d.is_public,i.value=!1}}},P="edit-collection-form",a=f({id:0,name:"",description:"",isPublic:!0}),I=async()=>{k(),Le().validate(P,h);const[y,b]=await _.update({id:a.value.id,name:a.value.name,description:a.value.description,isPublic:a.value.isPublic?1:0});b?n.value={isError:!0,message:b}:(Q().closeModal(s.modalId),g("updated",a.value),O())},n=f({isError:!1,message:""}),k=()=>{n.value={isError:!1,message:""}},O=()=>{a.value={id:0,name:"",description:"",isPublic:!0}};return v({fetch:T}),(y,b)=>(t(),r("div",null,[o("div",{class:"hidden",onClick:b[0]||(b[0]=x=>T(0))}),o("div",il,[o("section",rl,[o("span",dl,m(y.$t("collections.edit.form.title")),1),e(i)?u("",!0):(t(),r("form",{key:0,id:P,onSubmit:b[5]||(b[5]=ee(x=>I(),["prevent"]))},[w(Se,{"is-error":e(n).isError,"error-message":e(n).message},null,8,["is-error","error-message"]),o("n-validate",{for:"title",name:y.$t("title")},[E(o("input",{"onUpdate:modelValue":b[1]||(b[1]=x=>e(a).name=x),type:"text",rules:"required",class:"input-color-secondary",placeholder:y.$t("title")},null,8,ul),[[ce,e(a).name]])],8,cl),o("n-validate",{for:"description",name:y.$t("description")},[E(o("textarea",{"onUpdate:modelValue":b[2]||(b[2]=x=>e(a).description=x),rules:"","data-gramm":"false",class:"input-color-secondary",placeholder:y.$t("description")},null,8,fl),[[ce,e(a).description]])],8,ml),o("label",{for:e(a).isPublic?"checked":"unchecked",class:"inline-flex items-center"},[o("span",{class:"relative cursor-pointer",onClick:b[3]||(b[3]=x=>e(M).i502p00r0?e(a).isPublic=!e(a).isPublic:e(a).isPublic=!0)},[wl,e(a).isPublic?(t(),r("span",vl,hl)):u("",!0),e(a).isPublic?u("",!0):(t(),r("span",bl,kl))]),o("div",yl,[o("span",{class:A(["ml-2",{"leading-6":!e(M).i502p00r0}])},m(y.$t("private")),3),e(M).i502p00r0?u("",!0):(t(),W(ne,{key:0}))])],8,pl),o("div",$l,[o("button",{class:"cancel",onClick:b[4]||(b[4]=ee(x=>y.closeModal(l.modalId),["prevent"]))},m(y.$t("cancel")),1),o("button",xl,m(y.$t("save")),1)])],32))])])]))}};const Ye=l=>(Me("data-v-2a1973c4"),l=l(),Ie(),l),Il={class:"mb-2"},Cl={key:0},El=["src"],Ll={key:1},Al={class:"relative text-center"},Fl={key:0,class:"absolute top-1/2 left-1/2 z-10 text-xl font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},Pl={class:"overflow-hidden rounded-md"},Rl=["src"],Tl={key:2,class:"imgrid"},Sl={class:"relative text-center"},Ol={key:0,class:"absolute top-1/2 left-1/2 z-10 text-base font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},Bl={class:"overflow-hidden rounded-md"},jl=["src"],Kl=Ye(()=>o("img",{class:"bg-gray-300 border-none"},null,-1)),Vl=Ye(()=>o("img",{class:"bg-gray-300 border-none"},null,-1)),Ul={key:3,class:"imgrid"},Wl={class:"relative text-center"},zl={key:0,class:"absolute top-1/2 left-1/2 z-10 text-base font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},Nl={class:"overflow-hidden rounded-md"},Dl=["src"],Hl={key:4,class:"imgrid"},ql={class:"relative text-center"},Yl={key:0,class:"absolute top-1/2 left-1/2 z-10 font-semibold text-white transform -translate-x-1/2 -translate-y-1/2 text-tiny"},Gl={class:"overflow-hidden rounded-md"},Jl=["src"],Ql={key:5,class:"imgrid"},Xl={key:0,class:"relative text-center"},Zl={key:0,class:"absolute top-1/2 left-1/2 z-10 font-semibold text-white transform -translate-x-1/2 -translate-y-1/2 text-tiny"},ea={class:"overflow-hidden rounded-md"},oa=["src"],ta={key:1,class:"relative text-center"},sa={class:"absolute top-1/2 left-1/2 z-10 text-lg font-semibold text-white transform -translate-x-1/2 -translate-y-1/2 md:text-xl lg:text-3xl"},la={class:"overflow-hidden rounded-md"},aa=["src"],na={__name:"ArtworkThumbnail",props:{collection:{type:Object,default:()=>{}}},setup(l){const v=oe(),g={1:"col-start-1 row-start-1 col-span-4 row-span-4",2:["col-start-1 row-start-1 col-span-1 row-span-2","col-start-2 row-start-1 col-span-1 row-span-2"],3:["col-start-1 row-start-1 col-span-1 row-span-2","col-start-2 row-start-1 col-span-1 row-span-2"]};return(s,M)=>(t(),r("div",Il,[!l.collection.collection_has_artworks||l.collection._count.collection_has_artworks===0?(t(),r("div",Cl,[o("img",{src:s.folderIcon(),class:"rounded"},null,8,El)])):u("",!0),l.collection.collection_has_artworks&&l.collection._count.collection_has_artworks===1?(t(),r("div",Ll,[o("div",Al,[s.applyExplicitFilter(e(v),l.collection.collection_has_artworks[0].artworks.is_explicit,l.collection.collection_has_artworks[0].artworks.is_gore)?(t(),r("span",Fl,m(s.$t("explicitContent")),1)):u("",!0),o("div",Pl,[l.collection.collection_has_artworks&&l.collection._count.collection_has_artworks===1?(t(),r("img",{key:0,src:s.artworkThumb(l.collection.collection_has_artworks[0].artworks.artwork_assets[0].bucket,l.collection.collection_has_artworks[0].artworks.artwork_assets[0].filename,"thumbnail"),class:A(["object-cover object-top rounded",{"blur-sm brightness-50":s.applyExplicitFilter(e(v),l.collection.collection_has_artworks[0].artworks.is_explicit,l.collection.collection_has_artworks[0].artworks.is_gore)}]),style:{"aspect-ratio":"1/1"},onError:M[0]||(M[0]=(...c)=>s.imageLoadError&&s.imageLoadError(...c))},null,42,Rl)):u("",!0)])])])):u("",!0),l.collection.collection_has_artworks&&l.collection._count.collection_has_artworks===2?(t(),r("div",Tl,[(t(!0),r(le,null,ae(l.collection.collection_has_artworks,(c,p)=>(t(),r("div",{key:p,class:A(g[2][p])},[o("div",Sl,[s.applyExplicitFilter(e(v),c.artworks.is_explicit,c.artworks.is_gore)?(t(),r("span",Ol,m(s.$t("explicitContent")),1)):u("",!0),o("div",Bl,[o("img",{class:A(["theme-color",{"blur-sm brightness-50":s.applyExplicitFilter(e(v),c.artworks.is_explicit,c.artworks.is_gore)}]),src:s.artworkThumb(c.artworks.artwork_assets[0].bucket,c.artworks.artwork_assets[0].filename,"thumbnail"),onError:M[1]||(M[1]=(..._)=>s.imageLoadError&&s.imageLoadError(..._))},null,42,jl)])])],2))),128)),Kl,Vl])):u("",!0),l.collection.collection_has_artworks&&l.collection._count.collection_has_artworks===3?(t(),r("div",Ul,[(t(!0),r(le,null,ae(l.collection.collection_has_artworks,(c,p)=>(t(),r("div",{key:p,class:A(g[3][p])},[o("div",Wl,[s.applyExplicitFilter(e(v),c.artworks.is_explicit,c.artworks.is_gore)?(t(),r("span",zl,m(s.$t("explicitContent")),1)):u("",!0),o("div",Nl,[o("img",{class:A(["theme-color",{"blur-sm brightness-50":s.applyExplicitFilter(e(v),c.artworks.is_explicit,c.artworks.is_gore)}]),src:s.artworkThumb(c.artworks.artwork_assets[0].bucket,c.artworks.artwork_assets[0].filename,"thumbnail"),onError:M[2]||(M[2]=(..._)=>s.imageLoadError&&s.imageLoadError(..._))},null,42,Dl)])])],2))),128))])):u("",!0),l.collection.collection_has_artworks&&l.collection._count.collection_has_artworks===4?(t(),r("div",Hl,[(t(!0),r(le,null,ae(l.collection.collection_has_artworks,(c,p)=>(t(),r("div",{key:p},[o("div",ql,[s.applyExplicitFilter(e(v),c.artworks.is_explicit,c.artworks.is_gore)?(t(),r("span",Yl,m(s.$t("explicitContent")),1)):u("",!0),o("div",Gl,[o("img",{class:A(["theme-color",{"blur-sm brightness-50":s.applyExplicitFilter(e(v),c.artworks.is_explicit,c.artworks.is_gore)}]),src:s.artworkThumb(c.artworks.artwork_assets[0].bucket,c.artworks.artwork_assets[0].filename,"thumbnail"),onError:M[3]||(M[3]=(..._)=>s.imageLoadError&&s.imageLoadError(..._))},null,42,Jl)])])]))),128))])):u("",!0),l.collection.collection_has_artworks&&l.collection._count.collection_has_artworks>4?(t(),r("div",Ql,[(t(!0),r(le,null,ae(l.collection.collection_has_artworks,(c,p)=>(t(),r("div",{key:p},[p<3?(t(),r("div",Xl,[s.applyExplicitFilter(e(v),c.artworks.is_explicit,c.artworks.is_gore)?(t(),r("span",Zl,m(s.$t("explicitContent")),1)):u("",!0),o("div",ea,[o("img",{class:A(["theme-color",{"blur-sm brightness-50":s.applyExplicitFilter(e(v),c.artworks.is_explicit,c.artworks.is_gore)}]),src:s.artworkThumb(c.artworks.artwork_assets[0].bucket,c.artworks.artwork_assets[0].filename,"thumbnail"),onError:M[4]||(M[4]=(..._)=>s.imageLoadError&&s.imageLoadError(..._))},null,42,oa)])])):(t(),r("div",ta,[o("span",sa,"+"+m(l.collection._count.collection_has_artworks-4),1),o("div",la,[o("img",{src:s.artworkThumb(c.artworks.artwork_assets[0].bucket,c.artworks.artwork_assets[0].filename,"thumbnail"),class:A(["z-0 brightness-50",{"blur-sm brightness-50":s.applyExplicitFilter(e(v),c.artworks.is_explicit,c.artworks.is_gore)}]),onError:M[5]||(M[5]=(..._)=>s.imageLoadError&&s.imageLoadError(..._))},null,42,aa)])]))]))),128))])):u("",!0)]))}},ia=te(na,[["__scopeId","data-v-2a1973c4"]]);const ra={class:"mb-2 w-full"},da={key:0,class:"flex flex-row justify-between"},ca={class:"flex flex-row"},ua={key:0},ma={key:1,class:"flex flex-row justify-between"},fa={class:"flex flex-row"},pa={class:"flex flex-row gap-2"},wa={class:"flex flex-row gap-2"},va={key:0,class:"grid grid-cols-2 gap-4 sm:grid-cols-4"},ga=["onClick"],ha={class:"flex flex-row pb-1 mt-4 font-bold"},ba={class:"text-xs font-normal"},_a={__name:"Collection",props:{userId:{type:Number,default:0}},setup(l){const v=l,g=oe();ie(()=>{n()});const{oApiConfiguration:s,fetchOptions:M}=Z(),c=ye(s,M());Te(()=>{T()});const p=f(!0),_=f(G.ARTWORK),h=f(0),i=f(!1),T=async()=>{if(g.i502p00r0)i.value=!0;else{const[F,B]=await c.proCanCreateCollection({type:_.value});B?i.value=!1:i.value=F}},P=f([]),a=f({pagination:{page:0,perPage:4,firstLoad:8},showLoadMore:!1,manageMode:!1,showManageButton:!0}),I=f({artwork:0}),n=async()=>{p.value=!0;const[F,B,N]=await c.fetchCollections({userId:v.userId,type:_.value,pagination:{page:a.value.pagination.page,perPage:a.value.pagination.page===0?a.value.pagination.firstLoad:a.value.pagination.perPage}});if(N)x();else{F.length||(a.value.manageMode=!1,y()),F.forEach(se=>{P.value.push(se)}),a.value.pagination.page+=1,a.value.showLoadMore=B;const[ue]=await c.countArtworkCollections(v.userId);I.value.artwork=ue}p.value=!1},k=async()=>await n(),O=f(!1),y=()=>{O.value=!0,a.value.showLoadMore=!1},b=f(!1),x=()=>{p.value=!1,b.value=!0,a.value.showLoadMore=!1},d=async()=>{p.value=!1,O.value=!1,b.value=!1,a.value.pagination.page=0,P.value=[],await n()},U=F=>{a.value.showManageButton=!0,F&&(a.value.showManageButton=!1)},$=f(!1);let C;const K=async()=>{await T(),be().splash(C,$,"created-alert"),await d()},z=f(null),j=()=>{z.value.fetch(h.value),Q().openModal("collection-edit-form-modal")},Y=f(null),H=F=>{Y.value.fetchInfo(),P.value.forEach(B=>{B.id===F.id&&(B.name=F.name,B.description=F.description,B.is_public=F.isPublic)})},q=f([]),X=F=>{q.value=F},ge=()=>{Y.value.removeItem()},fe=async()=>{if(h.value!==0){const[F,B]=await c.deleteCollection(h.value);F&&(await T(),h.value=0,d())}},pe=()=>{h.value=0,a.value.showManageButton=!1,a.value.manageMode=!1};return(F,B)=>(t(),r("div",null,[o("div",ra,[e(h)?u("",!0):(t(),r("div",da,[o("div",ca,[o("div",{class:A(["ml-0 primary-button theme-color-secondary",{"button-color text-white":e(_)===e(G).ARTWORK}]),onClick:B[0]||(B[0]=N=>_.value=e(G).ARTWORK)},[D(m(F.$t("artworks.artwork"))+" ",1),o("span",{class:A(["px-1 ml-2 font-normal rounded",e(_)===e(G).ARTWORK?"theme-color":"button-color text-white"])},m(F.thousand(e(I).artwork)),3)],2)]),e(g).loggedIn&&e(g).user.id===l.userId?(t(),r("div",ua,[o("div",{class:"flex flex-row icon-button",onClick:B[1]||(B[1]=N=>e(i)?F.openModal("collection-form-modal"):null)},[w(S,{name:"i-ion-add-outline"}),e(i)?u("",!0):(t(),W(ne,{key:0,class:"ml-1"}))])])):u("",!0)])),e(h)?(t(),r("div",ma,[o("div",null,[o("div",{class:"ml-0 icon-button",onClick:B[2]||(B[2]=N=>pe())},[w(S,{name:"i-ic-baseline-keyboard-arrow-left"})])]),o("div",fa,[E(o("div",pa,[o("button",{class:A(["action-button",e(a).manageMode?"danger-button":"secondary-button"]),onClick:B[3]||(B[3]=N=>e(a).manageMode=!e(a).manageMode)},[w(S,{name:e(a).manageMode?"i-ion-close-outline":"i-material-symbols-library-add-check-outline-rounded"},null,8,["name"]),D(" "+m(e(a).manageMode?F.$t("quit"):F.$t("manage")),1)],2),E(o("button",{class:A(["flex flex-row",e(q).length>0?"danger-button":"disabled-button cursor-not-allowed"]),onClick:B[4]||(B[4]=N=>e(q).length>0?F.openModal("item-deletion-confirm-modal"):null)},[w(S,{name:"i-akar-icons-trash-bin"}),D(" "+m(F.$t("collections.removeSelected")),1)],2),[[R,e(a).manageMode]])],512),[[R,e(g).loggedIn&&e(g).user.id===l.userId&&e(a).showManageButton]]),E(o("div",wa,[o("button",{class:"icon-button",onClick:B[5]||(B[5]=N=>j())},[w(S,{name:"i-ph-gear-six"})]),o("button",{class:"danger-button-color b-button",onClick:B[6]||(B[6]=N=>F.openModal("collection-deletion-confirm-modal"))},[w(S,{name:"i-akar-icons-trash-bin"})])],512),[[R,e(g).loggedIn&&e(g).user.id===l.userId&&!e(a).manageMode]])])])):u("",!0),E(o("div",{class:"p-2 mt-4 text-black bg-yellow-200 rounded-md"},m(F.$t("collections.manageModeActiveMessage")),513),[[R,e(a).manageMode]])]),e(h)?u("",!0):(t(),r("div",va,[(t(!0),r(le,null,ae(e(P),N=>(t(),r("div",{key:N.id,class:A(["p-3 rounded-md cursor-pointer",N.is_public?"theme-color-secondary":"theme-color-secondary border-red-300 border-2"]),onClick:ue=>h.value=N.id},[N.type===e(G).ARTWORK?(t(),W(ia,{key:0,collection:N},null,8,["collection"])):u("",!0),o("div",ha,[N.is_public?u("",!0):(t(),W(S,{key:0,name:"i-radix-icons-lock-closed",class:"mr-2 cursor-default"})),o("span",ba,m(N.name),1)])],10,ga))),128))])),e(a).showLoadMore&&!e(h)?(t(),r("div",{key:1,class:"mt-4 w-full primary-button",onClick:k},m(F.$t("loadMore")),1)):u("",!0),w(re,{loading:e(p),empty:e(O),error:e(b),fetch:n,"background-color":"theme-color-secondary"},null,8,["loading","empty","error"]),!e(p)&&!e(h)?(t(),W(Xs,{key:2,id:"collection-form-modal","modal-id":"collection-form-modal",category:e(_),class:"modal",onCreated:K},null,8,["category"])):u("",!0),E(w(he,{id:"created-alert",text:F.$t("collections.created")},null,8,["text"]),[[R,e($)]]),!e(p)&&e(h)?(t(),W(Ml,{key:3,id:"collection-edit-form-modal",ref_key:"collectionEditFormModalRef",ref:z,"modal-id":"collection-edit-form-modal","collection-id":e(h),class:"modal",onUpdated:H},null,8,["collection-id"])):u("",!0),w(ve,{id:"collection-deletion-confirm-modal","modal-id":"collection-deletion-confirm-modal",message:"All saved items in this collection will be deleted. Do you still want to delete this collection?",class:"modal",onOnAccept:fe},null,8,["message"]),w(ve,{id:"item-deletion-confirm-modal","modal-id":"item-deletion-confirm-modal",message:"Selected item(s) will be removed from this collection. Do you still want to remove them?",class:"modal",onOnAccept:ge},null,8,["message"]),e(h)&&!e(p)?(t(),W(nl,{key:4,id:e(h),ref_key:"collectionDetailRef",ref:Y,"manage-mode":e(a).manageMode,type:e(_),onOnCollectionEmpty:U,onFeedManageList:X},null,8,["id","manage-mode","type"])):u("",!0)]))}},ka=te(_a,[["__scopeId","data-v-73b7f994"]]);const ya={id:"lists"},$a=["id"],xa={__name:"Liked",props:{userId:{type:Number,default:0}},emits:["onEmpty"],setup(l,{emit:v}){const g=l,s=oe(),{oApiConfiguration:M,fetchOptions:c}=Z(),p=Pe(M,c()),_=co(M,c()),h="profile-liked",i=f(!0),T=f(0),P=$e(()=>s.i502p00r0?!0:k.value.page*k.value.perPage<T.value);Te(()=>{s.i502p00r0||a(),I()});const a=async()=>{const[H,q]=await _.getSetting("max_free_liked_artworks");T.value=Number(H)},I=async()=>{const[H,q]=await O();for(let X=0;X<H.length;X++)n.value.push(H[X].artworks);q.record_total<=k.value.perPage&&x(),q.record_total===0&&C()},n=f([]),k=f({perPage:24,page:0}),O=async()=>{k.value.page===0&&(i.value=!0);const[H,q,X]=await p.getUserLikedArtworks({userId:g.userId,pagination:{page:k.value.page,perPage:k.value.perPage}});if(X)z();else return q.record_total<=k.value.perPage&&x(),q.record_total===0&&C(),k.value.page+=1,y(),[H,q]},y=()=>{i.value=!1,$.value=!1,K.value=!1},b=f(!0),x=()=>{b.value=!1},d=f({delay:!1}),U=async()=>{d.value.delay=!0;const[H,q]=await O();for(let X=0;X<H.length;X++)n.value.push(H[X].artworks);d.value.delay=!1,q.next_previous.next_page||x(),q.next_previous.next_page&&q.current_page===d.maxLoad&&(x(),d.showDiscoveryButton=!0)},$=f(!1),C=()=>{$.value=!0,i.value=!1,x(),v("onEmpty")},K=f(!1),z=()=>{i.value=!1,K.value=!0,x()},j=f(null),Y=(H,q=!1)=>{j.value.view(H,q),Q().openModal(h+"-modal")};return(H,q)=>(t(),r("div",ya,[E(o("div",null,[E(w(Ae,{"section-class":"work-grid-6",works:e(n),view:Y},null,8,["works"]),[[R,!e($)]]),E(o("div",{class:A(["w-full",e(P)?"primary-button":"disabled-button",{"animate-pulse":e(d).delay},{"inline-block flex-row w-full text-center":!e(P)}]),onClick:q[0]||(q[0]=X=>e(P)?U():null)},[D(m(H.$t("loadMore")),1),e(P)?u("",!0):(t(),W(ne,{key:0,class:"ml-2"}))],2),[[R,e(b)]])],512),[[R,!e(i)]]),w(re,{loading:e(i),empty:e($),error:e(K),fetch:O,"background-color":"theme-color-secondary"},null,8,["loading","empty","error"]),o("div",{id:h+"-modal",class:"modal work-view"},[E(w(_e,{ref_key:"artworkModalViewRef",ref:j,section:h},null,512),[[R,!e(i)]])],8,$a)]))}},Ma=te(xa,[["__scopeId","data-v-6a10a618"]]);const Ia={class:"flex flex-row justify-between"},Ca={class:"title"},Ea=["checked","disabled"],La={class:"ml-2"},Aa={key:0},Fa={__name:"FollowerList",props:{userId:{type:Number,default:0},hide:{type:Boolean,default:!0},userHideFollowerListStatus:{type:Boolean,default:!1}},setup(l){const v=l,g=oe(),{oApiConfiguration:s,fetchOptions:M}=Z(),c=Ee(s,M()),p=f(!1);ie(()=>{p.value=v.userHideFollowerListStatus,v.hide?(h.value=!1,a.value=!0):n(!0)});const _=f([]),h=f(!0),i=f(!1),T=f({page:0,perPage:12}),P=f(!1),a=f(!1);f("");const I=f(!1),n=async(y=!1)=>{k(),y?h.value=!0:i.value=!0;const[b,x]=await c.getFollowerList({userId:v.userId,pagination:{page:T.value.page,perPage:T.value.perPage}});x?P.value=!0:(b.followers.length||(a.value=!0),b.followers.forEach(d=>{_.value.push(d)}),T.value.page+=1,b.pagination.next_previous.next_page?I.value=!0:I.value=!1),h.value=!1,i.value=!1},k=()=>{a.value=!1,P.value=!1},O=async()=>{if(!g.i502p00r0)return null;const[y,b]=await c.toggleFollowerPrivacy();y?p.value=!p.value:console.error("ERROR: can't toggle follower visibility setting.")};return(y,b)=>(t(),r("div",null,[o("div",Ia,[o("div",Ca,m(y.$t("followers.followers")),1),o("div",null,[e(g).loggedIn&&e(g).i502p00r0&&e(g).user.id===l.userId?(t(),r("label",{key:0,for:"hide-follower-toggle",class:"inline-flex relative flex-row justify-center items-center cursor-pointer",onClick:b[0]||(b[0]=ee(x=>O(),["prevent"]))},[o("input",{id:"hide-follower-toggle",type:"checkbox",class:"sr-only peer",checked:e(p),disabled:!e(g).i502p00r0},null,8,Ea),o("div",{class:A(["w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600",{unclickable:!e(g).i502p00r0},e(g).i502p00r0?" after:top-[2px]":" after:top-[4px]"])},null,2),o("span",La,m(y.$t("followers.hideMyFollowers")),1),e(g).i502p00r0?u("",!0):(t(),W(ne,{key:0,class:"ml-1"}))])):u("",!0)])]),!l.hide&&!e(h)&&!e(a)&&!e(P)?(t(),r("div",Aa,[w(De,{class:"mt-4",users:e(_),"column-type":3},null,8,["users"]),E(o("div",{class:A(["mt-2 w-full primary-button",e(i)?"animate-pulse":""]),onClick:b[1]||(b[1]=x=>n())},m(y.$t("loadMore")),3),[[R,e(I)]])])):u("",!0),w(re,{class:"mt-2",loading:e(h),empty:e(a),"empty-message":l.hide?y.$t("followers.followersHidden"):"","empty-icon":l.hide?"i-ri-eye-close-fill":"",error:e(P),fetch:n,"background-color":"theme-color-secondary"},null,8,["loading","empty","empty-message","empty-icon","error"])]))}},Pa=te(Fa,[["__scopeId","data-v-1a79e4a9"]]);const Ra={class:"flex flex-col gap-4 md:justify-between md:flex-row md:gap-0"},Ta={class:"title"},Sa={class:"inline-flex flex-row gap-4 justify-between"},Oa={class:"flex flex-col justify-center align-middle"},Ba={class:"mr-1"},ja=["checked","disabled"],Ka={class:"ml-2"},Va={key:0},Ua={__name:"FollowingList",props:{userId:{type:Number,default:0},hide:{type:Boolean,default:!0},userHideFollowingListStatus:{type:Boolean,default:!1}},setup(l){const v=l,g=oe(),{oApiConfiguration:s,fetchOptions:M}=Z(),c=Ee(s,M()),p=f(!1);ie(()=>{p.value=v.userHideFollowingListStatus,v.hide?(T.value=!1,n.value=!0):O(!1,!0)});const _=f(!1),h=async x=>{i.value=[],a.value.page=0,_.value=x,await O(x,!0)},i=f([]),T=f(!0),P=f(!1),a=f({page:0,perPage:12}),I=f(!1),n=f(!1),k=f(!1),O=async(x=!1,d=!1)=>{y(),d?T.value=!0:P.value=!0;const[U,$]=await c.getFollowingList({userId:v.userId,isPrivateOnly:x?1:0,pagination:{page:a.value.page,perPage:a.value.perPage}});$?I.value=!0:(U.followings.length||(n.value=!0),U.followings.forEach(C=>{i.value.push(C)}),a.value.page+=1,U.pagination.next_previous.next_page?k.value=!0:k.value=!1),T.value=!1,P.value=!1},y=()=>{n.value=!1,I.value=!1},b=async()=>{if(!g.i502p00r0)return null;const[x,d]=await c.toggleFollowingPrivacy();x?p.value=!p.value:console.error("ERROR: can't toggle following visibility setting.")};return(x,d)=>{const U=ze("ProBadge");return t(),r("div",null,[o("div",Ra,[o("div",Ta,m(x.$t("followings.followings")),1),o("div",Sa,[o("div",Oa,[e(g).loggedIn&&e(g).i502p00r0&&e(g).user.id==l.userId?(t(),r("div",{key:0,class:A(["flex flex-row cursor-pointer href",{"font-bold":e(_)}]),onClick:d[0]||(d[0]=$=>h(!e(_)))},[E(w(S,{name:"i-mdi-eye-check"},null,512),[[R,e(_)]]),o("div",Ba,[E(w(S,{name:"i-fluent-inprivate-account-16-regular"},null,512),[[R,!e(_)]]),E(w(S,{name:"i-fluent-inprivate-account-16-filled"},null,512),[[R,e(_)]])]),o("span",null,m(x.$t("privateFollow")),1)],2)):u("",!0)]),e(g).loggedIn&&e(g).i502p00r0&&e(g).user.id===l.userId?(t(),r("label",{key:0,for:"hide-following-toggle",class:"inline-flex relative flex-row justify-center items-center cursor-pointer",onClick:d[1]||(d[1]=ee($=>b(),["prevent"]))},[o("input",{id:"hide-following-toggle",type:"checkbox",class:"inline-block align-middle sr-only peer",checked:e(p),disabled:!e(g).i502p00r0},null,8,ja),o("div",{class:A(["w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600",{unclickable:!e(g).i502p00r0},e(g).i502p00r0?" after:top-[4px]":" after:top-[6px]"])},null,2),o("span",Ka,m(x.$t("followings.hideMyFollowings")),1),e(g).i502p00r0?u("",!0):(t(),W(U,{key:0,class:"ml-1"}))])):u("",!0)])]),!l.hide&&!e(T)&&!e(n)&&!e(I)?(t(),r("div",Va,[w(De,{class:"mt-4",users:e(i),"column-type":3},null,8,["users"]),E(o("div",{class:A(["w-full primary-button",e(P)?"animate-pulse":""]),onClick:d[2]||(d[2]=$=>O())},m(x.$t("loadMore")),3),[[R,e(k)]])])):u("",!0),w(re,{class:"mt-2",loading:e(T),empty:e(n),"empty-message":l.hide?x.$t("followings.followingsHidden"):"","empty-icon":l.hide?"i-ri-eye-close-fill":"",error:e(I),fetch:h,"background-color":"theme-color-secondary"},null,8,["loading","empty","empty-message","empty-icon","error"])])}}},Wa=te(Ua,[["__scopeId","data-v-cd1a64bb"]]);const Ge=l=>(Me("data-v-a1bbb6e2"),l=l(),Ie(),l),za={class:"px-2 pb-4 w-full rounded md:px-6 md:pb-6 theme-color"},Na={class:"flex-row justify-between hidden-md-flex"},Da={class:"mr-6 w-1/5"},Ha={class:"hidden flex-row justify-between w-full md:flex md:mt-6"},qa={class:"flex flex-col w-full"},Ya={class:"flex flex-row w-full"},Ga={class:"w-9/12"},Ja={class:"text-base font-semibold"},Qa={class:"mr-2 italic"},Xa={class:"flex flex-row mt-2"},Za={key:0,class:"mr-1"},en={class:"flex flex-row rounded-md border-2 border-color-button-color button-color"},on={class:"flex flex-row gap-1 p-1 pr-2 button-color"},tn={class:"py-1 px-2 rounded-md theme-color"},sn={class:"float-right w-3/12 text-right"},ln={class:"shadow-md light-button"},an={class:"leading-4"},nn=["id","innerHTML"],rn=["id"],dn={class:"flex-col text-center flex-md-hidden"},cn={key:0,class:"flex flex-row justify-center mt-2"},un={class:"mt-4 text-base font-semibold"},mn={class:"flex flex-row justify-center mt-4"},fn={key:0,class:"flex flex-row mr-1"},pn={class:"flex flex-row rounded-md border-2 border-color-secondary"},wn={class:"flex flex-row gap-1 p-1 pr-2 theme-color-secondary"},vn={class:"py-1 px-2 rounded-md"},gn={key:1,class:"mx-2 mt-4 text-center"},hn=["id","innerHTML"],bn=["id"],_n={class:"mt-2"},kn={class:"flex flex-row gap-x-2 justify-center mt-6 md:hidden"},yn={class:"flex flex-row justify-between mt-2 md:mt-4"},$n={class:"hidden flex-col lg:w-1/5 md:flex"},xn={class:"profile-navigation_wrapper"},Mn={class:"hidden-lg-flex"},In=Ge(()=>o("span",{class:"hidden-lg-flex"},null,-1)),Cn={class:"profile-navigation_wrapper"},En={class:"hidden-lg-flex"},Ln={key:0,class:"hidden-lg-flex"},An={class:"profile-navigation_wrapper"},Fn={class:"hidden-lg-flex"},Pn={class:"hidden-lg-flex"},Rn={key:1,class:"custom-divider"},Tn={class:"profile-navigation_wrapper"},Sn={class:"hidden-lg-flex"},On={class:"hidden-lg-flex"},Bn={class:"mt-2 w-full md:mt-0 md:ml-6"},jn={key:0},Kn={class:"flex flex-row w-full"},Vn={class:"flex flex-row gap-2 justify-between mt-2 w-full"},Un={class:"w-full md:w-auto"},Wn={class:"inline-block w-full group md:w-52"},zn={class:"flex-1 pr-1"},Nn=Ge(()=>o("span",null,[o("svg",{class:"w-4 h-4 transition duration-150 ease-in-out transform fill-current group-hover:-rotate-180",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[o("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1)),Dn={id:"profile-artwork-order",class:"absolute z-50 mt-1 w-6/12 text-center rounded-md transition duration-150 ease-in-out transform origin-top scale-0 md:w-52 theme-color group-hover:scale-100"},Hn={class:"flex flex-row gap-x-2 w-full md:w-auto"},qn={class:"mt-2"},Yn={key:1},Gn={key:2},Jn={key:3},Qn={key:4},Xn={key:5},Zn={__name:"Profile",props:{id:{type:Number,default:0},userLogon:{type:Boolean,default:!1}},emits:["setMeta"],setup(l,{emit:v}){const g=l,s=oe(),{oApiConfiguration:M,fetchOptions:c}=Z(),p=Ee(M,c()),_=ke(M,c()),h=ye(M,c()),i=Pe(M,c()),T=Ue(),P=to(),{o:a}=T.query,I=f(!0),n=a!=null?f(a):f("dashboard"),k=f(G.ARTWORK),O=f(0),y=$e(()=>g.userLogon&&s.loggedIn?s.user.id:g.id),b=f({manageMode:!1,showManageMode:!0});ie(async()=>{await z()});const x=L=>{n.value=L,b.value.manageMode=!1,a!=null&&P.push("/profile")},d=f({}),U=f({feed:0,artwork:0,comic:0,tutorial:0,album:0,collection:0,liked:0,followers:0,followings:0}),$=f({isFollowing:!1,isPrivate:!1,followingSince:""}),C=$e(()=>{const L=d.value.is_pro&&d.value.user_settings.hide_follower_list;return!s.loggedIn&&L||s.loggedIn&&s.user.id!==d.value.id&&L}),K=$e(()=>{const L=d.value.is_pro&&d.value.user_settings.hide_following_list;return!s.loggedIn&&L||s.loggedIn&&s.user.id!==d.value.id&&L}),z=async()=>{I.value=!0;const[L]=await p.getInfo(y.value);d.value=L,await j(),v("setMeta",{title:`(${d.value.username}) ${d.value.name}`}),I.value=!1,Y()},j=async()=>{if(s.loggedIn&&s.user.id!==y.value){const[L]=await p.isFollowing(y.value);$.value={isFollowing:L.is_following,isPrivate:L.is_private,followingSince:L.following_since}}},Y=async()=>{const[L]=await p.countFollowers(y.value);U.value.followers=L;const[V]=await p.countFollowings(y.value);U.value.followings=V},H=async()=>{const[L]=await p.countArtworks(y.value);if(U.value.artwork=L,s.loggedIn){const[V]=await p.countFeeds(y.value);U.value.feed=V;const[me]=await _.countAlbums(y.value);U.value.album=me;const[we]=await h.countCollections(y.value);if(U.value.collection=we,s.user.id===d.value.id){const[J]=await i.countUserLikedArtworks({userId:y.value});U.value.liked=J}}},q=f(null),X=f([]),ge=L=>{X.value=L},fe=()=>{b.value.showManageMode=!1},pe=f(null),F=()=>{Q().openModal("album-selection-modal"),pe.value.fetchTop()},B=f(!1);let N;const ue=()=>{be().splash(N,B,"item-added-to-album-alert")},se=f("latest"),Oe=f(""),Fe=async(L,V)=>{se.value=L,Oe.value=V,Je()},Je=()=>{document.getElementById("profile-artwork-order").classList.add("scale-0")},Qe=f(!0),Be=(L,V,me,we)=>{Qe.value=!1,Ne().readMore(L,V,me,we)},Xe=()=>{d.value.user_socials&&d.value.user_socials.personal_website&&window.open(d.value.user_socials.personal_website,"_blank")};return(L,V)=>{const me=eo,we=We;return t(),W(lo,{"hide-side":!0,"with-footer":!0,"no-right-side":!0},{default:de(()=>[o("div",null,[w(me,{preload:"",loading:"lazy",src:L.avatarCoverUrl(e(d).cover_bucket,e(d).cover_filename),class:"object-cover object-top w-full h-32 rounded-t md:h-52 lg:h-72 xl:h-96 unselectable",onError:L.defaultCoverImage},null,8,["src","onError"]),e(s).loggedIn&&e(s).user.id===e(d).id?(t(),W(we,{key:0,to:"/profile/setting",class:"float-right absolute right-4 mt-2 shadow-md icon-button-primary-color flex-md-hidden"},{default:de(()=>[w(S,{name:"i-ph-gear-six"})]),_:1})):u("",!0)]),o("div",za,[o("div",Na,[o("div",Da,[w(me,{preload:"",loading:"lazy",class:"hidden -mt-2 w-full md:-mt-16 avatar md:flex",src:L.avatarCoverUrl(e(d).avatar_bucket,e(d).avatar_filename),onError:L.defaultCoverImage},null,8,["src","onError"]),e(I)?u("",!0):(t(),W(Ve,{key:0,class:"mt-2 hidden-md-flex","user-info":e(d),"followers-count":e(U).followers,"followings-count":e(U).followings,"is-following":e($).isFollowing,"is-private":e($).isPrivate,"following-since":e($).followingSince,onChangeCurrentState:x},null,8,["user-info","followers-count","followings-count","is-following","is-private","following-since"]))]),o("div",Ha,[o("div",qa,[o("div",Ya,[o("div",Ga,[o("div",null,[o("span",Ja,m(e(d).name),1),D("  "),o("span",Qa,"@"+m(e(d).username),1),e(d).is_pro?(t(),W(ne,{key:0})):u("",!0)]),o("div",Xa,[e(d).pen_name&&e(d).pen_name!==""?(t(),r("div",Za,[o("span",en,[o("div",on,[w(S,{name:"i-mdi-fountain-pen-tip"}),D(" "+m(L.$t("profile.penName")),1)]),o("div",tn,m(e(d).pen_name),1)])])):u("",!0)])]),o("div",sn,[e(s).loggedIn&&e(s).user.id===e(d).id?(t(),W(we,{key:0,to:"/profile/setting",class:"float-right -mt-20 shadow-md"},{default:de(()=>[o("button",ln,[w(S,{name:"i-ph-gear-six"}),o("span",an,m(L.$t("profile.setting")),1)])]),_:1})):u("",!0)])]),o("div",null,[e(d).bio?(t(),r("p",{key:0,id:"user-bio-"+e(d).id,class:"mt-4",innerHTML:e(d).bio&&e(d).bio.length>300?`${e(d).bio.slice(0,300)}..`:e(d).bio},null,8,nn)):u("",!0),e(d).bio&&e(d).bio.length>300?(t(),r("a",{key:1,id:"user-bio-read-more-"+e(d).id,class:"href",onClick:V[0]||(V[0]=ee(J=>Be(e(d).bio,e(d).id,"user-bio-read-more-","user-bio-"),["prevent"]))},m(L.$t("readMore")),9,rn)):u("",!0)]),e(d).user_socials?(t(),W(Ke,{key:0,socials:e(d).user_socials,class:"mt-4"},null,8,["socials"])):u("",!0)])])]),o("div",dn,[w(me,{preload:"",loading:"lazy",class:"flex mx-auto -mt-14 w-2/6 sm:-mt-16 sm:w-1/5 avatar flex-md-hidden",src:L.avatarCoverUrl(e(d).avatar_bucket,e(d).avatar_filename),onError:L.defaultCoverImage},null,8,["src","onError"]),e(d).is_pro?(t(),r("div",cn,[w(ne)])):u("",!0),o("div",un,m(e(d).name),1),o("div",null," @"+m(e(d).username),1),o("div",mn,[e(d).pen_name?(t(),r("span",fn,[o("span",pn,[o("div",wn,[w(S,{name:"i-mdi-fountain-pen-tip"}),D(" "+m(L.$t("profile.penName")),1)]),o("div",vn,m(e(d).pen_name),1)])])):u("",!0)]),e(d).bio?(t(),r("div",gn,[o("p",{id:"mobile__user-bio-"+e(d).id,innerHTML:e(d).bio&&e(d).bio.length>150?`${e(d).bio.slice(0,300)}..`:e(d).bio},null,8,hn),e(d).bio&&e(d).bio.length>150?(t(),r("a",{key:0,id:"mobile__user-bio-read-more-"+e(d).id,class:"href",onClick:V[1]||(V[1]=ee(J=>Be(e(d).bio,e(d).id,"mobile__user-bio-read-more-","mobile__user-bio-"),["prevent"]))},m(L.$t("readMore")),9,bn)):u("",!0)])):u("",!0),e(I)?u("",!0):(t(),W(Ve,{key:2,class:"mt-4 mb-2 flex-md-hidden","user-info":e(d),"followers-count":e(U).followers,"followings-count":e(U).followings,"is-following":e($).isFollowing,"is-private":e($).isPrivate,"following-since":e($).followingSince,onChangeCurrentState:x},null,8,["user-info","followers-count","followings-count","is-following","is-private","following-since"]))]),e(d).user_socials?(t(),W(Ke,{key:0,class:"mt-4 mb-0 md:mt-0 mb:mb-6 md:hidden",socials:e(d).user_socials},null,8,["socials"])):u("",!0),o("div",_n,[o("div",kn,[o("div",{class:A(["profile-navigation__mobile theme-color-secondary",{"button-color text-white":e(n)=="dashboard"}]),onClick:V[2]||(V[2]=J=>x("dashboard"))},[o("div",null,[E(w(S,{name:"i-ion-home-outline",class:"text-white"},null,512),[[R,e(n)=="dashboard"]]),E(w(S,{name:"i-ion-home-outline",class:"hover:text-white"},null,512),[[R,e(n)!="dashboard"]])]),o("span",null,m(L.$t("dashboard")),1)],2),o("div",{class:A(["profile-navigation__mobile theme-color-secondary",{"button-color text-white":e(n)=="albums"}]),onClick:V[3]||(V[3]=J=>x("albums"))},[o("div",null,[E(w(S,{name:"i-ion-folder-outline",class:"text-white"},null,512),[[R,e(n)=="albums"]]),E(w(S,{name:"i-ion-folder-outline",class:"hover:text-white"},null,512),[[R,e(n)!="albums"]])]),o("span",null,m(L.$t("albums.albums")),1)],2),e(s).loggedIn?(t(),r("div",{key:0,class:A(["profile-navigation__mobile theme-color-secondary",{"button-color text-white":e(n)=="collections"}]),onClick:V[4]||(V[4]=J=>x("collections"))},[o("div",null,[E(w(S,{name:"i-majesticons-bookmark-line",class:"text-white"},null,512),[[R,e(n)=="collections"]]),E(w(S,{name:"i-majesticons-bookmark-line",class:"hover:text-white"},null,512),[[R,e(n)!="collections"]])]),o("span",null,m(L.$t("collections.collections")),1)],2)):u("",!0),e(s).loggedIn&&e(s).user.id===e(d).id?(t(),r("div",{key:1,class:A(["profile-navigation__mobile theme-color-secondary",{"button-color text-white":e(n)=="liked"}]),onClick:V[5]||(V[5]=J=>x("liked"))},[o("div",null,[E(w(S,{name:"i-ri-heart-3-line",class:"text-white"},null,512),[[R,e(n)=="liked"]]),E(w(S,{name:"i-ri-heart-3-line",class:"hover:text-white"},null,512),[[R,e(n)!="liked"]])]),o("span",null,m(L.$t("artworks.liked")),1)],2)):u("",!0)]),o("div",yn,[o("div",$n,[o("div",{class:A(["profile-navigation left-menu-link theme-color-secondary",{"button-color text-white":e(n)==="dashboard"}]),onClick:V[6]||(V[6]=J=>x("dashboard"))},[o("div",xn,[E(w(S,{name:"i-humbleicons-dashboard",class:"text-white"},null,512),[[R,e(n)==="dashboard"]]),E(w(S,{name:"i-humbleicons-dashboard"},null,512),[[R,e(n)!=="dashboard"]]),o("label",Mn,m(L.$t("dashboard")),1)]),In],2),o("div",{class:A(["profile-navigation left-menu-link theme-color-secondary",{"button-color text-white":e(n)==="albums"}]),onClick:V[7]||(V[7]=J=>x("albums"))},[o("div",Cn,[E(w(S,{name:"i-bx-photo-album",class:"text-white"},null,512),[[R,e(n)==="albums"]]),E(w(S,{name:"i-bx-photo-album"},null,512),[[R,e(n)!=="albums"]]),o("label",En,m(L.$t("albums.albums")),1)]),e(s).loggedIn?(t(),r("span",Ln,m(L.thousand(e(U).album)),1)):u("",!0)],2),e(s).loggedIn?(t(),r("div",{key:0,class:A(["profile-navigation left-menu-link theme-color-secondary",{"button-color text-white":e(n)==="collections"}]),onClick:V[8]||(V[8]=J=>x("collections"))},[o("div",An,[E(w(S,{name:"i-majesticons-bookmark-line",class:"text-white"},null,512),[[R,e(n)==="collections"]]),E(w(S,{name:"i-majesticons-bookmark-line"},null,512),[[R,e(n)!=="collections"]]),o("label",Fn,m(L.$t("collections.collections")),1)]),o("span",Pn,m(L.thousand(e(U).collection)),1)],2)):u("",!0),e(s).loggedIn&&e(s).user.id===e(d).id?(t(),r("div",Rn)):u("",!0),e(s).loggedIn&&e(s).user.id===e(d).id?(t(),r("div",{key:2,class:A(["profile-navigation left-menu-link theme-color-secondary",{"button-color text-white":e(n)==="liked"}]),onClick:V[9]||(V[9]=J=>x("liked"))},[o("div",Tn,[E(w(S,{name:"i-ri-heart-3-line",class:"text-white"},null,512),[[R,e(n)==="liked"]]),E(w(S,{name:"i-ri-heart-3-line"},null,512),[[R,e(n)!=="liked"]]),o("label",Sn,m(L.$t("artworks.liked")),1)]),o("span",On,m(L.thousand(e(U).liked)),1)],2)):u("",!0)]),o("div",Bn,[e(n)==="dashboard"?(t(),r("div",jn,[o("div",Kn,[e(s).loggedIn?(t(),r("div",{key:0,class:A(["flex flex-row justify-between w-full md:justify-center profile-category-button left-menu-link theme-color-secondary md:w-auto",{"button-color text-white":e(k)==="feed"}]),onClick:V[10]||(V[10]=J=>k.value="feed")},[D(m(L.$t("feed"))+" ",1),o("span",{class:A(["px-1 ml-2 rounded",e(k)==="feed"?"theme-color":"button-color text-white"])},m(L.thousand(e(U).feed)),3)],2)):u("",!0),o("div",{class:A(["flex flex-row justify-between mr-0 w-full md:justify-center profile-category-button left-menu-link theme-color-secondary md:w-auto",{"button-color text-white":e(k)===e(G).ARTWORK}]),onClick:V[11]||(V[11]=J=>k.value=e(G).ARTWORK)},[D(m(L.$t("artworks.artwork"))+" ",1),o("span",{class:A(["px-1 ml-2 rounded",e(k)===e(G).ARTWORK?"theme-color":"button-color text-white"])},m(L.thousand(e(U).artwork)),3)],2)]),E(o("div",Vn,[o("div",Un,[o("div",Wn,[o("button",{class:"flex items-center py-2 w-full rounded-md border-2 border-transparent outline-none md:w-52 theme-color-secondary hover:button",onClick:V[12]||(V[12]=J=>L.togglePopularOrderStatus())},[o("span",zn,m(e(se)==="latest"?L.$t("profile.artworks.sorter.latest"):e(Oe)),1),Nn]),o("ul",Dn,[o("li",{class:A([{button:e(se)==="latest"},{"rounded-b-md":!e(s).loggedIn}]),onClick:V[13]||(V[13]=J=>Fe("latest",L.$t("profile.artworks.sorter.latest")))},[w(S,{name:"i-material-symbols-fiber-new",class:A({"text-white":e(se)==="latest"})},null,8,["class"]),D(" Latest ")],2),o("li",{class:A([{button:e(se)==="popular"},{"rounded-b-md":!e(s).loggedIn}]),onClick:V[14]||(V[14]=J=>Fe("popular",L.$t("profile.artworks.sorter.popular")))},[w(S,{name:"i-ic-twotone-star",class:A({"text-white":e(se)==="popular"})},null,8,["class"]),D(" Popular ")],2),o("li",{class:A([{button:e(se)==="oldest"},{"rounded-b-md":!e(s).loggedIn}]),onClick:V[15]||(V[15]=J=>Fe("oldest",L.$t("profile.artworks.sorter.oldest")))},[w(S,{name:"i-ic-baseline-update",class:A({"text-white":e(se)==="oldest"})},null,8,["class"]),D(" Oldest ")],2)])])]),o("div",Hn,[o("button",{class:A(["w-full action-button md:w-auto md:mt-0",e(b).manageMode?"danger-button":"secondary-button"]),onClick:V[16]||(V[16]=J=>e(b).manageMode=!e(b).manageMode)},[w(S,{name:e(b).manageMode?"i-ion-close-outline":"i-material-symbols-library-add-check-outline-rounded"},null,8,["name"]),D(" "+m(e(b).manageMode?L.$t("quit"):L.$t("manage")),1)],2),E(o("button",{class:"w-full primary-button md:w-auto",onClick:V[17]||(V[17]=J=>F())},[w(S,{name:"i-ion-add-outline"}),D(" "+m(L.$t("albums.addToAlbum")),1)],512),[[R,e(b).manageMode]])])],512),[[R,!e(I)&&e(s).loggedIn&&e(s).user.id===e(d).id&&e(k)===e(G).ARTWORK&&e(b).showManageMode]]),w(re,{class:"mt-2",loading:e(I),"background-color":"theme-color-secondary"},null,8,["loading"]),E(o("div",{class:"p-2 mt-2 text-black bg-yellow-200 rounded-md"},m(L.$t("profile.manageModeActiveMessage")),513),[[R,e(b).manageMode]]),o("div",qn,[e(s).loggedIn&&e(k)==="feed"?(t(),W(Uo,{key:0,ref:"feedListRef","user-id":e(d).id},null,8,["user-id"])):u("",!0),!e(I)&&e(k)===e(G).ARTWORK?(t(),W(Do,{ref_key:"artworkListRef",ref:q,key:e(O),"user-id":e(d).id,"manage-mode":e(b).manageMode,"sort-by":e(se),onFireCounter:H,onFeedSelectedItems:ge,onOnEmpty:fe},null,8,["user-id","manage-mode","sort-by"])):u("",!0)])])):u("",!0),e(n)==="albums"?(t(),r("div",Yn,[e(I)?u("",!0):(t(),W(Rs,{key:0,"user-id":e(d).id},null,8,["user-id"]))])):u("",!0),e(s).loggedIn&&e(n)==="collections"?(t(),r("div",Gn,[e(I)?u("",!0):(t(),W(ka,{key:0,"user-id":e(d).id},null,8,["user-id"]))])):u("",!0),e(s).loggedIn&&e(s).user.id===e(d).id&&e(n)==="liked"?(t(),r("div",Jn,[e(I)?u("",!0):(t(),W(Ma,{key:0,"user-id":e(d).id,onOnEmpty:fe},null,8,["user-id"]))])):u("",!0),e(n)==="followerList"?(t(),r("div",Qn,[e(I)?u("",!0):(t(),W(Pa,{key:0,"user-id":e(d).id,hide:e(C),"user-hide-follower-list-status":!!e(d).user_settings.hide_follower_list,class:"mt-2 md:mt-0"},null,8,["user-id","hide","user-hide-follower-list-status"]))])):u("",!0),e(n)==="followingList"?(t(),r("div",Xn,[e(I)?u("",!0):(t(),W(Wa,{key:0,"user-id":e(d).id,hide:e(K),"user-hide-following-list-status":!!e(d).user_settings.hide_following_list,class:"mt-2 md:mt-0"},null,8,["user-id","hide","user-hide-following-list-status"]))])):u("",!0)])])])]),e(d).user_socials&&e(d).user_socials.personal_website?(t(),W(ve,{key:0,id:"external-website-visit-confirmation-modal",class:"modal","modal-id":"external-website-visit-confirmation-modal",message:"<div>You are going to visit this website, are you sure?</div><div class='text-center w-full italic href mt-4 rounded-md p-2 rounded-md theme-color-secondary'>"+e(d).user_socials.personal_website+"</div>",onOnAccept:Xe},null,8,["message"])):u("",!0),e(I)?u("",!0):(t(),W(so,{key:1,id:"album-selection-modal",ref_key:"albumSelectionModalRef",ref:pe,class:"modal","work-ids":e(X),onAddedToAlbum:ue},null,8,["work-ids"])),E(w(he,{id:"item-added-to-album-alert",text:L.$t("albums.itemAdded")},null,8,["text"]),[[R,e(B)]])]),_:1})}}},fi=te(Zn,[["__scopeId","data-v-a1bbb6e2"]]);export{fi as P};
