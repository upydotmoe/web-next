import{f as F,d as B}from"./ProBadge.57bd012b.js";import{l as $,N as I,m as W,r as h,o as i,s as r,X as T,Y as S,K as o,u as s,P as k,b as g,x as m,y as l,f,U as p,c as d,w as j,z as N}from"./entry.cf646e34.js";import{_ as P}from"./_plugin-vue_export-helper.c27b6911.js";const R=["href","onClick"],A={class:"overflow-hidden relative text-center rounded-md"},O={class:"mini-icon"},V={key:0,class:"regular"},q={key:1,class:"z-10 regular !bg-blue-500"},G={key:2,class:"original-character"},H={key:3,class:"redraw"},U={key:4,class:"gore"},D={key:0,class:"absolute top-1/2 left-1/2 z-10 text-base font-semibold text-white transform -translate-x-1/2 -translate-y-1/2 md:text-lg"},K={class:"overflow-hidden relative text-center rounded-md"},Q={class:"mini-icon"},X={key:0,class:"regular"},Y={key:1,class:"z-10 regular !bg-blue-500"},J={key:2,class:"original-character"},Z={key:3,class:"redraw"},w={key:4,class:"gore"},ee={key:0,class:"absolute top-1/2 left-1/2 z-10 text-base font-semibold text-white transform -translate-x-1/2 -translate-y-1/2 md:text-lg"},se=["onClick"],te={__name:"WorkList",props:{works:{type:Array,default:()=>[]},view:{type:Function,default:()=>{}},sectionClass:{type:String,default:""},isHref:{type:Boolean,default:!1},isPickerMode:{type:Boolean,default:!1},manageMode:{type:Boolean,default:!1},isMiniList:{type:Boolean,default:!1},currentWorkId:{type:Number,default:0},hideRedrawIcon:{type:Boolean,default:!1},directOpen:{type:Boolean,default:!1}},emits:["feedManageList","pickerModeChangeSelected"],setup(n,{emit:x}){const b=n,a=$();I(()=>b.currentWorkId,t=>{y.value=t}),W();const c=h(!1),y=h(b.currentWorkId);F("(min-width: 1024px)");const u=h([]),v=t=>{if(u.value.includes(t)){const C=u.value.indexOf(t);u.value.splice(C,1)}else u.value.push(t);x("feedManageList",u.value)};I(()=>b.manageMode,t=>{t===!1&&(u.value=[])});const E=h(0),M=t=>{E.value=t,x("pickerModeChangeSelected",t)};return(t,C)=>{const _=B,z=N;return i(),r("section",{class:o(n.sectionClass)},[(i(!0),r(T,null,S(n.works,e=>(i(),r("span",{key:e.id,class:o(["work-thumbnail theme-color-bg rounded-lg",e._count.artwork_assets>1&&s(y)!=e.id?"work-multiple":"",{"border-4 border-yellow-400":s(u).includes(e.id)||s(y)==e.id||s(E)==e.id}])},[!n.isHref&&!n.isMiniList?(i(),r("a",{key:0,href:"/a/"+e.id,class:"w-full h-full theme-color-bg",onClick:k(L=>n.manageMode?v(e.id):n.isPickerMode?M(e.id):n.view(e.id),["prevent"])},[g("div",A,[g("div",O,[!e.is_before_after&&e._count.artwork_assets>1&&!t.applyExplicitFilter(s(a),e.is_explicit,e.is_gore)?(i(),r("p",V,m(e._count.artwork_assets),1)):l("",!0),e.is_before_after?(i(),r("p",q,[f(p,{name:"i-tabler-square-half",class:"text-white"})])):l("",!0),e.is_original_character?(i(),r("p",G,[f(p,{name:"i-clarity-cursor-hand-click-line",class:"text-white"})])):l("",!0),e.redraw_of&&!n.hideRedrawIcon?(i(),r("p",H,[f(p,{name:"i-fluent-draw-image-20-regular",class:"text-white"})])):l("",!0),e.is_gore?(i(),r("p",U," G ")):l("",!0)]),t.applyExplicitFilter(s(a),e.is_explicit,e.is_gore)?(i(),r("span",D,m(e.is_gore?t.$t("goreContent"):t.$t("explicitContent")),1)):l("",!0),g("div",{class:o([{"animate-wigglefast":n.manageMode},{"before-after":e.is_before_after}])},[e.is_before_after?l("",!0):(i(),d(_,{key:0,preload:"",loading:"lazy",src:(!s(a).loggedIn||s(a).loggedIn&&s(a).user.user_settings&&!s(a).user.user_settings.show_explicit)&&e.is_explicit||(!s(a).loggedIn||s(a).loggedIn&&s(a).user.user_settings&&!s(a).user.user_settings.show_gore)&&e.is_gore?"https://via.placeholder.com/150":t.artworkThumb(e.artwork_assets[0].bucket,e.artwork_assets[0].filename,"thumbnail",s(c)),class:o(["w-full h-full unselectable",{"object-cover":!s(c)},s(c)?"object-contain object-center h-44":"object-cover",{"blur-3xl brightness-50 unclickable":t.applyExplicitFilter(s(a),e.is_explicit,e.is_gore)}]),onError:t.imageLoadError},null,8,["src","class","onError"])),e.is_before_after?(i(),d(_,{key:1,preload:"",loading:"lazy",src:t.artworkThumb(e.artwork_assets[0].bucket,e.artwork_assets[0].filename.split("_")[0]+"_1."+e.artwork_assets[0].filename.split(".")[1],"thumbnail",s(c)),class:o([{"blur-3xl brightness-50 unclickable":t.applyExplicitFilter(s(a),e.is_explicit,e.is_gore)}]),onError:t.imageLoadError},null,8,["src","class","onError"])):l("",!0),e.is_before_after?(i(),d(_,{key:2,preload:"",loading:"lazy",src:t.artworkThumb(e.artwork_assets[0].bucket,e.artwork_assets[0].filename.split("_")[0]+"_2."+e.artwork_assets[0].filename.split(".")[1],"thumbnail",s(c)),class:o([{"blur-3xl brightness-50 unclickable":t.applyExplicitFilter(s(a),e.is_explicit,e.is_gore)}]),onError:t.imageLoadError},null,8,["src","class","onError"])):l("",!0)],2)])],8,R)):(i(),d(z,{key:1,onClick:L=>n.manageMode?v(e.id):n.isPickerMode?M(e.id):n.view(e.id)},{default:j(()=>[g("div",K,[g("div",Q,[!e.is_before_after&&e._count.artwork_assets>1&&!t.applyExplicitFilter(s(a),e.is_explicit,e.is_gore)?(i(),r("p",X,m(e._count.artwork_assets),1)):l("",!0),e.is_before_after?(i(),r("p",Y,[f(p,{name:"i-tabler-square-half",class:"text-white"})])):l("",!0),e.is_original_character?(i(),r("p",J,[f(p,{name:"i-clarity-cursor-hand-click-line",class:"text-white"})])):l("",!0),e.redraw_of&&!n.hideRedrawIcon?(i(),r("p",Z,[f(p,{name:"i-fluent-draw-image-20-regular",class:"text-white"})])):l("",!0),e.is_gore?(i(),r("p",w," G ")):l("",!0)]),t.applyExplicitFilter(s(a),e.is_explicit,e.is_gore)?(i(),r("span",ee,m(e.is_gore?t.$t("goreContent"):t.$t("explicitContent")),1)):l("",!0),g("div",{class:o([{"animate-wigglefast":n.manageMode},{"before-after":e.is_before_after}]),onClick:k(L=>null,["prevent"])},[e.is_before_after?l("",!0):(i(),d(_,{key:0,preload:"",loading:"lazy",src:(!s(a).loggedIn||s(a).loggedIn&&s(a).user.user_settings&&!s(a).user.user_settings.show_explicit)&&e.is_explicit||(!s(a).loggedIn||s(a).loggedIn&&s(a).user.user_settings&&!s(a).user.user_settings.show_gore)&&e.is_gore?"https://via.placeholder.com/150":t.artworkThumb(e.artwork_assets[0].bucket,e.artwork_assets[0].filename,"thumbnail",s(c)),class:o(["object-cover w-full h-full unselectable",{"blur-3xl brightness-50 unclickable":t.applyExplicitFilter(s(a),e.is_explicit,e.is_gore)}]),alt:"before image",onError:t.imageLoadError},null,8,["src","class","onError"])),e.is_before_after?(i(),d(_,{key:1,preload:"",loading:"lazy",src:t.artworkThumb(e.artwork_assets[0].bucket,e.artwork_assets[0].filename.split("_")[0]+"_1."+e.artwork_assets[0].filename.split(".")[1],"thumbnail",s(c)),class:o([{"blur-3xl brightness-50 unclickable":t.applyExplicitFilter(s(a),e.is_explicit,e.is_gore)}]),onError:t.imageLoadError},null,8,["src","class","onError"])):l("",!0),e.is_before_after?(i(),d(_,{key:2,preload:"",loading:"lazy",src:t.artworkThumb(e.artwork_assets[0].bucket,e.artwork_assets[0].filename.split("_")[0]+"_2."+e.artwork_assets[0].filename.split(".")[1],"thumbnail",s(c)),class:o([{"blur-3xl brightness-50 unclickable":t.applyExplicitFilter(s(a),e.is_explicit,e.is_gore)}]),onError:t.imageLoadError},null,8,["src","class","onError"])):l("",!0)],10,se)])]),_:2},1032,["onClick"]))],2))),128))],2)}}},re=P(te,[["__scopeId","data-v-fb7c68ee"]]);export{re as W};
