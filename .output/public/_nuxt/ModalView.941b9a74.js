import{B as Ze,i as Z,j as ee,R as G,a as et,o as g,s as k,b as i,f as _,w as J,t as W,x as v,c as ae,y as R,e as S,v as O,P as be,K as Y,X as pe,Y as ye,z as xe,k as E,l as Re,p as tt,r as x,U as V,u as a,Z as Oe,O as Pe,Q as re,J as De,V as He,W as Ne,C as st,E as Ue,a3 as at,a4 as We,a5 as ut,S as Ge,a6 as mt,m as pt,N as ht,a7 as Je,a8 as wt,a9 as ft}from"./entry.72e29a02.js";import{e as Ve,a as ze,c as Qe,S as Me,b as ot,u as Ae,J as rt,d as Ee,_ as nt}from"./ProBadge.2656324d.js";import{u as lt}from"./useReport.2eeb79b9.js";import{P as fe}from"./index.7225a9bd.js";import{_ as Ce}from"./_plugin-vue_export-helper.c27b6911.js";import{_ as vt,A as Ke}from"./MiniArtworkPreview.a55e273f.js";import{_ as qe}from"./LoadingEmptyErrorMessage.5882bbb2.js";import{U as Te}from"./user-counters-api.4e7c75d1.js";import{u as gt}from"./useSetting.5740e4e7.js";import{u as yt}from"./useFeed.f58402cb.js";import{W as it}from"./WorkList.65c6b973.js";const he=function(l){return{addWorkToAlbum:async(s,e={})=>{const o="/albums/add-work",r=new URL(o,"https://example.com");let t;l&&(t=l.baseOptions);const n={method:"POST",...t,...e},m={},h={};m["Content-Type"]="application/json";const u=new URLSearchParams(r.search);for(const p in h)u.set(p,h[p]);for(const p in e.params)u.set(p,e.params[p]);r.search=new URLSearchParams(u).toString();let f=t&&t.headers?t.headers:{};n.headers={...m,...f,...e.headers};const w=typeof s!="string"||n.headers["Content-Type"]==="application/json";return n.data=w?JSON.stringify(s!==void 0?s:{}):s||"",{url:r.pathname+r.search+r.hash,options:n}},countUserAlbumsByType:async(s,e={})=>{const o="/albums/count",r=new URL(o,"https://example.com");let t;l&&(t=l.baseOptions);const n={method:"POST",...t,...e},m={},h={};m["Content-Type"]="application/json";const u=new URLSearchParams(r.search);for(const p in h)u.set(p,h[p]);for(const p in e.params)u.set(p,e.params[p]);r.search=new URLSearchParams(u).toString();let f=t&&t.headers?t.headers:{};n.headers={...m,...f,...e.headers};const w=typeof s!="string"||n.headers["Content-Type"]==="application/json";return n.data=w?JSON.stringify(s!==void 0?s:{}):s||"",{url:r.pathname+r.search+r.hash,options:n}},createAlbum:async(s,e={})=>{const o="/albums/create",r=new URL(o,"https://example.com");let t;l&&(t=l.baseOptions);const n={method:"POST",...t,...e},m={},h={};m["Content-Type"]="application/json";const u=new URLSearchParams(r.search);for(const p in h)u.set(p,h[p]);for(const p in e.params)u.set(p,e.params[p]);r.search=new URLSearchParams(u).toString();let f=t&&t.headers?t.headers:{};n.headers={...m,...f,...e.headers};const w=typeof s!="string"||n.headers["Content-Type"]==="application/json";return n.data=w?JSON.stringify(s!==void 0?s:{}):s||"",{url:r.pathname+r.search+r.hash,options:n}},deleteAlbum:async(s,e={})=>{if(s==null)throw new G("id","Required parameter id was null or undefined when calling deleteAlbum.");const o="/albums/{id}".replace("{id}",encodeURIComponent(String(s))),r=new URL(o,"https://example.com");let t;l&&(t=l.baseOptions);const n={method:"DELETE",...t,...e},m={},h={},u=new URLSearchParams(r.search);for(const w in h)u.set(w,h[w]);for(const w in e.params)u.set(w,e.params[w]);r.search=new URLSearchParams(u).toString();let f=t&&t.headers?t.headers:{};return n.headers={...m,...f,...e.headers},{url:r.pathname+r.search+r.hash,options:n}},getAlbumById:async(s,e={})=>{if(s==null)throw new G("id","Required parameter id was null or undefined when calling getAlbumById.");const o="/albums/{id}".replace("{id}",encodeURIComponent(String(s))),r=new URL(o,"https://example.com");let t;l&&(t=l.baseOptions);const n={method:"GET",...t,...e},m={},h={},u=new URLSearchParams(r.search);for(const w in h)u.set(w,h[w]);for(const w in e.params)u.set(w,e.params[w]);r.search=new URLSearchParams(u).toString();let f=t&&t.headers?t.headers:{};return n.headers={...m,...f,...e.headers},{url:r.pathname+r.search+r.hash,options:n}},getAlbumItems:async(s,e,o,r={})=>{if(s==null)throw new G("id","Required parameter id was null or undefined when calling getAlbumItems.");if(e==null)throw new G("perPage","Required parameter perPage was null or undefined when calling getAlbumItems.");if(o==null)throw new G("page","Required parameter page was null or undefined when calling getAlbumItems.");const t="/albums/list/{id}".replace("{id}",encodeURIComponent(String(s))),n=new URL(t,"https://example.com");let m;l&&(m=l.baseOptions);const h={method:"GET",...m,...r},u={},f={};e!==void 0&&(f.per_page=e),o!==void 0&&(f.page=o);const w=new URLSearchParams(n.search);for(const y in f)w.set(y,f[y]);for(const y in r.params)w.set(y,r.params[y]);n.search=new URLSearchParams(w).toString();let p=m&&m.headers?m.headers:{};return h.headers={...u,...p,...r.headers},{url:n.pathname+n.search+n.hash,options:h}},getCurrentAlbumSaveInfo:async(s,e,o={})=>{if(s==null)throw new G("type","Required parameter type was null or undefined when calling getCurrentAlbumSaveInfo.");if(e==null)throw new G("workId","Required parameter workId was null or undefined when calling getCurrentAlbumSaveInfo.");const r="/albums/current/{type}/{work_id}".replace("{type}",encodeURIComponent(String(s))).replace("{work_id}",encodeURIComponent(String(e))),t=new URL(r,"https://example.com");let n;l&&(n=l.baseOptions);const m={method:"GET",...n,...o},h={},u={},f=new URLSearchParams(t.search);for(const p in u)f.set(p,u[p]);for(const p in o.params)f.set(p,o.params[p]);t.search=new URLSearchParams(f).toString();let w=n&&n.headers?n.headers:{};return m.headers={...h,...w,...o.headers},{url:t.pathname+t.search+t.hash,options:m}},listUserAlbums:async(s,e,o,r,t={})=>{if(s==null)throw new G("userId","Required parameter userId was null or undefined when calling listUserAlbums.");if(e==null)throw new G("perPage","Required parameter perPage was null or undefined when calling listUserAlbums.");if(o==null)throw new G("page","Required parameter page was null or undefined when calling listUserAlbums.");if(r==null)throw new G("type","Required parameter type was null or undefined when calling listUserAlbums.");const n="/albums/user/{userId}".replace("{userId}",encodeURIComponent(String(s))),m=new URL(n,"https://example.com");let h;l&&(h=l.baseOptions);const u={method:"GET",...h,...t},f={},w={};e!==void 0&&(w.per_page=e),o!==void 0&&(w.page=o),r!==void 0&&(w.type=r);const p=new URLSearchParams(m.search);for(const d in w)p.set(d,w[d]);for(const d in t.params)p.set(d,t.params[d]);m.search=new URLSearchParams(p).toString();let y=h&&h.headers?h.headers:{};return u.headers={...f,...y,...t.headers},{url:m.pathname+m.search+m.hash,options:u}},proLimitIsCanCreateAlbum:async(s,e={})=>{const o="/albums/create/permission",r=new URL(o,"https://example.com");let t;l&&(t=l.baseOptions);const n={method:"POST",...t,...e},m={},h={};m["Content-Type"]="application/json";const u=new URLSearchParams(r.search);for(const p in h)u.set(p,h[p]);for(const p in e.params)u.set(p,e.params[p]);r.search=new URLSearchParams(u).toString();let f=t&&t.headers?t.headers:{};n.headers={...m,...f,...e.headers};const w=typeof s!="string"||n.headers["Content-Type"]==="application/json";return n.data=w?JSON.stringify(s!==void 0?s:{}):s||"",{url:r.pathname+r.search+r.hash,options:n}},removeWorkFromAlbum:async(s,e={})=>{const o="/albums/work/remove",r=new URL(o,"https://example.com");let t;l&&(t=l.baseOptions);const n={method:"DELETE",...t,...e},m={},h={};m["Content-Type"]="application/json";const u=new URLSearchParams(r.search);for(const p in h)u.set(p,h[p]);for(const p in e.params)u.set(p,e.params[p]);r.search=new URLSearchParams(u).toString();let f=t&&t.headers?t.headers:{};n.headers={...m,...f,...e.headers};const w=typeof s!="string"||n.headers["Content-Type"]==="application/json";return n.data=w?JSON.stringify(s!==void 0?s:{}):s||"",{url:r.pathname+r.search+r.hash,options:n}},updateAlbum:async(s,e={})=>{const o="/albums",r=new URL(o,"https://example.com");let t;l&&(t=l.baseOptions);const n={method:"PATCH",...t,...e},m={},h={};m["Content-Type"]="application/json";const u=new URLSearchParams(r.search);for(const p in h)u.set(p,h[p]);for(const p in e.params)u.set(p,e.params[p]);r.search=new URLSearchParams(u).toString();let f=t&&t.headers?t.headers:{};n.headers={...m,...f,...e.headers};const w=typeof s!="string"||n.headers["Content-Type"]==="application/json";return n.data=w?JSON.stringify(s!==void 0?s:{}):s||"",{url:r.pathname+r.search+r.hash,options:n}}}},we=function(l){return{async addWorkToAlbum(s,e){const o=await he(l).addWorkToAlbum(s,e);return(r=Z,t=ee)=>{const n={...o.options,url:t+o.url};return r.request(n)}},async countUserAlbumsByType(s,e){const o=await he(l).countUserAlbumsByType(s,e);return(r=Z,t=ee)=>{const n={...o.options,url:t+o.url};return r.request(n)}},async createAlbum(s,e){const o=await he(l).createAlbum(s,e);return(r=Z,t=ee)=>{const n={...o.options,url:t+o.url};return r.request(n)}},async deleteAlbum(s,e){const o=await he(l).deleteAlbum(s,e);return(r=Z,t=ee)=>{const n={...o.options,url:t+o.url};return r.request(n)}},async getAlbumById(s,e){const o=await he(l).getAlbumById(s,e);return(r=Z,t=ee)=>{const n={...o.options,url:t+o.url};return r.request(n)}},async getAlbumItems(s,e,o,r){const t=await he(l).getAlbumItems(s,e,o,r);return(n=Z,m=ee)=>{const h={...t.options,url:m+t.url};return n.request(h)}},async getCurrentAlbumSaveInfo(s,e,o){const r=await he(l).getCurrentAlbumSaveInfo(s,e,o);return(t=Z,n=ee)=>{const m={...r.options,url:n+r.url};return t.request(m)}},async listUserAlbums(s,e,o,r,t){const n=await he(l).listUserAlbums(s,e,o,r,t);return(m=Z,h=ee)=>{const u={...n.options,url:h+n.url};return m.request(u)}},async proLimitIsCanCreateAlbum(s,e){const o=await he(l).proLimitIsCanCreateAlbum(s,e);return(r=Z,t=ee)=>{const n={...o.options,url:t+o.url};return r.request(n)}},async removeWorkFromAlbum(s,e){const o=await he(l).removeWorkFromAlbum(s,e);return(r=Z,t=ee)=>{const n={...o.options,url:t+o.url};return r.request(n)}},async updateAlbum(s,e){const o=await he(l).updateAlbum(s,e);return(r=Z,t=ee)=>{const n={...o.options,url:t+o.url};return r.request(n)}}}};class ve extends Ze{async addWorkToAlbum(s,e){return we(this.configuration).addWorkToAlbum(s,e).then(o=>o(this.axios,this.basePath))}async countUserAlbumsByType(s,e){return we(this.configuration).countUserAlbumsByType(s,e).then(o=>o(this.axios,this.basePath))}async createAlbum(s,e){return we(this.configuration).createAlbum(s,e).then(o=>o(this.axios,this.basePath))}async deleteAlbum(s,e){return we(this.configuration).deleteAlbum(s,e).then(o=>o(this.axios,this.basePath))}async getAlbumById(s,e){return we(this.configuration).getAlbumById(s,e).then(o=>o(this.axios,this.basePath))}async getAlbumItems(s,e,o,r){return we(this.configuration).getAlbumItems(s,e,o,r).then(t=>t(this.axios,this.basePath))}async getCurrentAlbumSaveInfo(s,e,o){return we(this.configuration).getCurrentAlbumSaveInfo(s,e,o).then(r=>r(this.axios,this.basePath))}async listUserAlbums(s,e,o,r,t){return we(this.configuration).listUserAlbums(s,e,o,r,t).then(n=>n(this.axios,this.basePath))}async proLimitIsCanCreateAlbum(s,e){return we(this.configuration).proLimitIsCanCreateAlbum(s,e).then(o=>o(this.axios,this.basePath))}async removeWorkFromAlbum(s,e){return we(this.configuration).removeWorkFromAlbum(s,e).then(o=>o(this.axios,this.basePath))}async updateAlbum(s,e){return we(this.configuration).updateAlbum(s,e).then(o=>o(this.axios,this.basePath))}}const ue=function(l){return{addItemForLater:async(s,e,o={})=>{if(s==null)throw new G("type","Required parameter type was null or undefined when calling addItemForLater.");const r="/collections/later",t=new URL(r,"https://example.com");let n;l&&(n=l.baseOptions);const m={method:"POST",...n,...o},h={},u={};s!==void 0&&(u.type=s),h["Content-Type"]="application/json";const f=new URLSearchParams(t.search);for(const y in u)f.set(y,u[y]);for(const y in o.params)f.set(y,o.params[y]);t.search=new URLSearchParams(f).toString();let w=n&&n.headers?n.headers:{};m.headers={...h,...w,...o.headers};const p=typeof e!="string"||m.headers["Content-Type"]==="application/json";return m.data=p?JSON.stringify(e!==void 0?e:{}):e||"",{url:t.pathname+t.search+t.hash,options:m}},addItemToCollection:async(s,e,o,r={})=>{if(s==null)throw new G("type","Required parameter type was null or undefined when calling addItemToCollection.");if(e==null)throw new G("collectionId","Required parameter collectionId was null or undefined when calling addItemToCollection.");const t="/collections/{collectionId}/items".replace("{collectionId}",encodeURIComponent(String(e))),n=new URL(t,"https://example.com");let m;l&&(m=l.baseOptions);const h={method:"POST",...m,...r},u={},f={};s!==void 0&&(f.type=s),u["Content-Type"]="application/json";const w=new URLSearchParams(n.search);for(const d in f)w.set(d,f[d]);for(const d in r.params)w.set(d,r.params[d]);n.search=new URLSearchParams(w).toString();let p=m&&m.headers?m.headers:{};h.headers={...u,...p,...r.headers};const y=typeof o!="string"||h.headers["Content-Type"]==="application/json";return h.data=y?JSON.stringify(o!==void 0?o:{}):o||"",{url:n.pathname+n.search+n.hash,options:h}},countUserCollectionsByType:async(s,e={})=>{const o="/collections/count",r=new URL(o,"https://example.com");let t;l&&(t=l.baseOptions);const n={method:"POST",...t,...e},m={},h={};m["Content-Type"]="application/json";const u=new URLSearchParams(r.search);for(const p in h)u.set(p,h[p]);for(const p in e.params)u.set(p,e.params[p]);r.search=new URLSearchParams(u).toString();let f=t&&t.headers?t.headers:{};n.headers={...m,...f,...e.headers};const w=typeof s!="string"||n.headers["Content-Type"]==="application/json";return n.data=w?JSON.stringify(s!==void 0?s:{}):s||"",{url:r.pathname+r.search+r.hash,options:n}},create:async(s,e={})=>{const o="/collections/create",r=new URL(o,"https://example.com");let t;l&&(t=l.baseOptions);const n={method:"POST",...t,...e},m={},h={};m["Content-Type"]="application/json";const u=new URLSearchParams(r.search);for(const p in h)u.set(p,h[p]);for(const p in e.params)u.set(p,e.params[p]);r.search=new URLSearchParams(u).toString();let f=t&&t.headers?t.headers:{};n.headers={...m,...f,...e.headers};const w=typeof s!="string"||n.headers["Content-Type"]==="application/json";return n.data=w?JSON.stringify(s!==void 0?s:{}):s||"",{url:r.pathname+r.search+r.hash,options:n}},deleteCollection:async(s,e={})=>{if(s==null)throw new G("id","Required parameter id was null or undefined when calling deleteCollection.");const o="/collections/{id}".replace("{id}",encodeURIComponent(String(s))),r=new URL(o,"https://example.com");let t;l&&(t=l.baseOptions);const n={method:"DELETE",...t,...e},m={},h={},u=new URLSearchParams(r.search);for(const w in h)u.set(w,h[w]);for(const w in e.params)u.set(w,e.params[w]);r.search=new URLSearchParams(u).toString();let f=t&&t.headers?t.headers:{};return n.headers={...m,...f,...e.headers},{url:r.pathname+r.search+r.hash,options:n}},detail:async(s,e={})=>{if(s==null)throw new G("id","Required parameter id was null or undefined when calling detail.");const o="/collections/{id}".replace("{id}",encodeURIComponent(String(s))),r=new URL(o,"https://example.com");let t;l&&(t=l.baseOptions);const n={method:"GET",...t,...e},m={},h={},u=new URLSearchParams(r.search);for(const w in h)u.set(w,h[w]);for(const w in e.params)u.set(w,e.params[w]);r.search=new URLSearchParams(u).toString();let f=t&&t.headers?t.headers:{};return n.headers={...m,...f,...e.headers},{url:r.pathname+r.search+r.hash,options:n}},getCurrentSaveInfo:async(s,e,o={})=>{if(s==null)throw new G("type","Required parameter type was null or undefined when calling getCurrentSaveInfo.");if(e==null)throw new G("workId","Required parameter workId was null or undefined when calling getCurrentSaveInfo.");const r="/collections/current/{type}/{work_id}".replace("{type}",encodeURIComponent(String(s))).replace("{work_id}",encodeURIComponent(String(e))),t=new URL(r,"https://example.com");let n;l&&(n=l.baseOptions);const m={method:"GET",...n,...o},h={},u={},f=new URLSearchParams(t.search);for(const p in u)f.set(p,u[p]);for(const p in o.params)f.set(p,o.params[p]);t.search=new URLSearchParams(f).toString();let w=n&&n.headers?n.headers:{};return m.headers={...h,...w,...o.headers},{url:t.pathname+t.search+t.hash,options:m}},listCollectionItems:async(s,e,o,r={})=>{if(s==null)throw new G("id","Required parameter id was null or undefined when calling listCollectionItems.");if(e==null)throw new G("perPage","Required parameter perPage was null or undefined when calling listCollectionItems.");if(o==null)throw new G("page","Required parameter page was null or undefined when calling listCollectionItems.");const t="/collections/{id}/items".replace("{id}",encodeURIComponent(String(s))),n=new URL(t,"https://example.com");let m;l&&(m=l.baseOptions);const h={method:"GET",...m,...r},u={},f={};e!==void 0&&(f.per_page=e),o!==void 0&&(f.page=o);const w=new URLSearchParams(n.search);for(const y in f)w.set(y,f[y]);for(const y in r.params)w.set(y,r.params[y]);n.search=new URLSearchParams(w).toString();let p=m&&m.headers?m.headers:{};return h.headers={...u,...p,...r.headers},{url:n.pathname+n.search+n.hash,options:h}},listUserCollections:async(s,e,o,r,t,n={})=>{if(s==null)throw new G("userId","Required parameter userId was null or undefined when calling listUserCollections.");if(e==null)throw new G("type","Required parameter type was null or undefined when calling listUserCollections.");if(o==null)throw new G("page","Required parameter page was null or undefined when calling listUserCollections.");if(r==null)throw new G("perPage","Required parameter perPage was null or undefined when calling listUserCollections.");const m="/collections/user/{userId}".replace("{userId}",encodeURIComponent(String(s))),h=new URL(m,"https://example.com");let u;l&&(u=l.baseOptions);const f={method:"GET",...u,...n},w={},p={};e!==void 0&&(p.type=e),t!==void 0&&(p.name=t),o!==void 0&&(p.page=o),r!==void 0&&(p.per_page=r);const y=new URLSearchParams(h.search);for(const c in p)y.set(c,p[c]);for(const c in n.params)y.set(c,n.params[c]);h.search=new URLSearchParams(y).toString();let d=u&&u.headers?u.headers:{};return f.headers={...w,...d,...n.headers},{url:h.pathname+h.search+h.hash,options:f}},proLimitIsCanCreateCollection:async(s,e={})=>{const o="/collections/create/permission",r=new URL(o,"https://example.com");let t;l&&(t=l.baseOptions);const n={method:"POST",...t,...e},m={},h={};m["Content-Type"]="application/json";const u=new URLSearchParams(r.search);for(const p in h)u.set(p,h[p]);for(const p in e.params)u.set(p,e.params[p]);r.search=new URLSearchParams(u).toString();let f=t&&t.headers?t.headers:{};n.headers={...m,...f,...e.headers};const w=typeof s!="string"||n.headers["Content-Type"]==="application/json";return n.data=w?JSON.stringify(s!==void 0?s:{}):s||"",{url:r.pathname+r.search+r.hash,options:n}},removeItemFromCollection:async(s,e,o,r={})=>{if(s==null)throw new G("type","Required parameter type was null or undefined when calling removeItemFromCollection.");if(e==null)throw new G("collectionId","Required parameter collectionId was null or undefined when calling removeItemFromCollection.");const t="/collections/{collectionId}/items".replace("{collectionId}",encodeURIComponent(String(e))),n=new URL(t,"https://example.com");let m;l&&(m=l.baseOptions);const h={method:"DELETE",...m,...r},u={},f={};s!==void 0&&(f.type=s),u["Content-Type"]="application/json";const w=new URLSearchParams(n.search);for(const d in f)w.set(d,f[d]);for(const d in r.params)w.set(d,r.params[d]);n.search=new URLSearchParams(w).toString();let p=m&&m.headers?m.headers:{};h.headers={...u,...p,...r.headers};const y=typeof o!="string"||h.headers["Content-Type"]==="application/json";return h.data=y?JSON.stringify(o!==void 0?o:{}):o||"",{url:n.pathname+n.search+n.hash,options:h}},updateCollection:async(s,e={})=>{const o="/collections",r=new URL(o,"https://example.com");let t;l&&(t=l.baseOptions);const n={method:"PATCH",...t,...e},m={},h={};m["Content-Type"]="application/json";const u=new URLSearchParams(r.search);for(const p in h)u.set(p,h[p]);for(const p in e.params)u.set(p,e.params[p]);r.search=new URLSearchParams(u).toString();let f=t&&t.headers?t.headers:{};n.headers={...m,...f,...e.headers};const w=typeof s!="string"||n.headers["Content-Type"]==="application/json";return n.data=w?JSON.stringify(s!==void 0?s:{}):s||"",{url:r.pathname+r.search+r.hash,options:n}}}},me=function(l){return{async addItemForLater(s,e,o){const r=await ue(l).addItemForLater(s,e,o);return(t=Z,n=ee)=>{const m={...r.options,url:n+r.url};return t.request(m)}},async addItemToCollection(s,e,o,r){const t=await ue(l).addItemToCollection(s,e,o,r);return(n=Z,m=ee)=>{const h={...t.options,url:m+t.url};return n.request(h)}},async countUserCollectionsByType(s,e){const o=await ue(l).countUserCollectionsByType(s,e);return(r=Z,t=ee)=>{const n={...o.options,url:t+o.url};return r.request(n)}},async create(s,e){const o=await ue(l).create(s,e);return(r=Z,t=ee)=>{const n={...o.options,url:t+o.url};return r.request(n)}},async deleteCollection(s,e){const o=await ue(l).deleteCollection(s,e);return(r=Z,t=ee)=>{const n={...o.options,url:t+o.url};return r.request(n)}},async detail(s,e){const o=await ue(l).detail(s,e);return(r=Z,t=ee)=>{const n={...o.options,url:t+o.url};return r.request(n)}},async getCurrentSaveInfo(s,e,o){const r=await ue(l).getCurrentSaveInfo(s,e,o);return(t=Z,n=ee)=>{const m={...r.options,url:n+r.url};return t.request(m)}},async listCollectionItems(s,e,o,r){const t=await ue(l).listCollectionItems(s,e,o,r);return(n=Z,m=ee)=>{const h={...t.options,url:m+t.url};return n.request(h)}},async listUserCollections(s,e,o,r,t,n){const m=await ue(l).listUserCollections(s,e,o,r,t,n);return(h=Z,u=ee)=>{const f={...m.options,url:u+m.url};return h.request(f)}},async proLimitIsCanCreateCollection(s,e){const o=await ue(l).proLimitIsCanCreateCollection(s,e);return(r=Z,t=ee)=>{const n={...o.options,url:t+o.url};return r.request(n)}},async removeItemFromCollection(s,e,o,r){const t=await ue(l).removeItemFromCollection(s,e,o,r);return(n=Z,m=ee)=>{const h={...t.options,url:m+t.url};return n.request(h)}},async updateCollection(s,e){const o=await ue(l).updateCollection(s,e);return(r=Z,t=ee)=>{const n={...o.options,url:t+o.url};return r.request(n)}}}};class ge extends Ze{async addItemForLater(s,e,o){return me(this.configuration).addItemForLater(s,e,o).then(r=>r(this.axios,this.basePath))}async addItemToCollection(s,e,o,r){return me(this.configuration).addItemToCollection(s,e,o,r).then(t=>t(this.axios,this.basePath))}async countUserCollectionsByType(s,e){return me(this.configuration).countUserCollectionsByType(s,e).then(o=>o(this.axios,this.basePath))}async create(s,e){return me(this.configuration).create(s,e).then(o=>o(this.axios,this.basePath))}async deleteCollection(s,e){return me(this.configuration).deleteCollection(s,e).then(o=>o(this.axios,this.basePath))}async detail(s,e){return me(this.configuration).detail(s,e).then(o=>o(this.axios,this.basePath))}async getCurrentSaveInfo(s,e,o){return me(this.configuration).getCurrentSaveInfo(s,e,o).then(r=>r(this.axios,this.basePath))}async listCollectionItems(s,e,o,r){return me(this.configuration).listCollectionItems(s,e,o,r).then(t=>t(this.axios,this.basePath))}async listUserCollections(s,e,o,r,t,n){return me(this.configuration).listUserCollections(s,e,o,r,t,n).then(m=>m(this.axios,this.basePath))}async proLimitIsCanCreateCollection(s,e){return me(this.configuration).proLimitIsCanCreateCollection(s,e).then(o=>o(this.axios,this.basePath))}async removeItemFromCollection(s,e,o,r){return me(this.configuration).removeItemFromCollection(s,e,o,r).then(t=>t(this.axios,this.basePath))}async updateCollection(s,e){return me(this.configuration).updateCollection(s,e).then(o=>o(this.axios,this.basePath))}}function Ye(){return{animate:e=>{const o=document.getElementById(e);o==null||o.classList.add("animate-bounce"),setInterval(()=>{o==null||o.classList.remove("animate-bounce")},2500)}}}function _t(){return{readMore:(s,e,o,r)=>{const t=document.getElementById(`${r}${e}`);t&&(t.innerHTML=s);const n=document.getElementById(`${o}${e}`);n&&n.classList.add("hidden")}}}const kt={class:"flex-col info"},bt={key:0,class:"user-info"},$t={class:"flex flex-row gap-2 w-full"},Ct=["src"],xt={class:"w-full name"},Rt={class:"flex flex-row justify-between"},At={class:"flex flex-col"},It={class:"title"},St={key:1,class:"mb-4"},Pt=["id","innerHTML"],Ut=["id"],Lt={class:"mb-4"},Ot={key:2,class:"tags"},Vt={__name:"ModalViewInfo",props:{section:{type:String,default:""},isModal:{type:Boolean,default:!1},artworkDetail:{type:Object,default:()=>{}},previewMode:{type:Boolean,default:!1},isDesktop:{type:Boolean,default:!1}},setup(l){et();const s=(e,o,r,t)=>{_t().readMore(e,o,r,t)};return(e,o)=>{const r=xe;return g(),k("section",kt,[l.artworkDetail.users?(g(),k("div",bt,[i("div",$t,[_(r,{to:"/u/"+l.artworkDetail.users.username},{default:J(()=>[i("img",{class:"avatar",src:e.avatarCoverUrl(l.artworkDetail.users.avatar_bucket,l.artworkDetail.users.avatar_filename),onError:o[0]||(o[0]=(...t)=>e.defaultCoverImage&&e.defaultCoverImage(...t))},null,40,Ct)]),_:1},8,["to"]),i("div",xt,[i("div",Rt,[i("div",At,[_(r,{to:"/u/"+l.artworkDetail.users.username,class:"flex flex-row gap-2 fullname"},{default:J(()=>[W(v(l.artworkDetail.users.name)+" ",1),l.artworkDetail.users.is_pro?(g(),ae(Ve,{key:0})):R("",!0)]),_:1},8,["to"]),_(r,{to:"/u/"+l.artworkDetail.users.username,class:"username"},{default:J(()=>[W(" @"+v(l.artworkDetail.users.username),1)]),_:1},8,["to"])]),S(i("div",{class:"p-1 h-7 font-bold text-white bg-red-500 rounded-md border-2 border-red-500 cursor-pointer hover:bg-red-600 hover:border-red-600",style:{"font-size":"10px"},onClick:o[1]||(o[1]=t=>e.closeModal(`${l.section}-modal`))}," ESC ",512),[[O,l.isModal]])])])])])):R("",!0),i("div",It,v(l.artworkDetail.title),1),l.artworkDetail.description?(g(),k("div",St,[i("span",{id:"mview-"+l.isDesktop+"-description-"+l.artworkDetail.id,innerHTML:l.artworkDetail.description.length>300?`${l.artworkDetail.description.slice(0,300)}...`:l.artworkDetail.description},null,8,Pt),l.artworkDetail.description.length>300?(g(),k("a",{key:0,id:"mview-"+l.isDesktop+"-read-more-"+l.artworkDetail.id,class:"href",onClick:o[2]||(o[2]=be(t=>s(l.artworkDetail.description,l.artworkDetail.id,"mview-"+l.isDesktop+"-read-more-","mview-"+l.isDesktop+"-description-"),["prevent"]))},v(e.$t("readMore")),9,Ut)):R("",!0)])):R("",!0),i("div",Lt,[i("span",{class:Y(["italic text-color-secondary",{"font-bold text-red-400":l.previewMode}])},v(l.previewMode?e.$t("willBePublishedIn",{publishDate:e.formatDate(l.artworkDetail.scheduled_post)}):e.$t("publishedIn",{publishDate:e.formatDate(l.artworkDetail.scheduled_post)})),3)]),l.artworkDetail.artwork_has_tags&&l.artworkDetail.artwork_has_tags.length?(g(),k("div",Ot,[(g(!0),k(pe,null,ye(l.artworkDetail.artwork_has_tags,t=>(g(),k("span",{key:t.artwork_tags.id,class:"tag"},[_(r,{to:`/artworks/browse?tags=${t.artwork_tags.tag.replaceAll(" ","+")}`,onClick:o[3]||(o[3]=n=>e.closeModal(`${l.section}-modal`))},{default:J(()=>[W(v(t.artwork_tags.tag),1)]),_:2},1032,["to"])]))),128))])):R("",!0)])}}},Xe=Ce(Vt,[["__scopeId","data-v-2df3b962"]]);function Mt(l,s){return{proCanCreateCollection:async d=>{try{const{data:c}=await new ge(l).proLimitIsCanCreateCollection({type:d.type},s);return[c.data.is_can_create,null]}catch(c){return[null,E().consumeReadableStreamError(c)]}},createCollection:async(d,c)=>{try{const{data:b}=await new ge(l).create({name:c.title,description:c.description,is_public:c.isPublic?1:0,type:d},s);return[b.success,b.data,null]}catch(b){return[null,null,E().consumeReadableStreamError(b)]}},getInfo:async d=>{try{return[(await new ge(l).detail(d,s)).data,null]}catch(c){return[null,E().consumeReadableStreamError(c)]}},countCollections:async d=>{try{const{data:c}=await new Te(l).countUserCollections(d,s);return[c.data.total,null]}catch(c){return[null,E().consumeReadableStreamError(c)]}},countArtworkCollections:async d=>{try{const{data:c}=await new Te(l).countUserArtworkCollections(d,s);return[c.data.total,null]}catch(c){return[null,E().consumeReadableStreamError(c)]}},fetchCollections:async d=>{try{const{data:c}=await new ge(l).listUserCollections(d.userId,d.type,d.pagination.page,d.pagination.perPage,d.name,s),b=c.data.collections,P=c.data.pagination;let H=!0;return P.current_page===P.total_page&&(H=!1),[b,H,null]}catch(c){return[null,!1,E().consumeReadableStreamError(c)]}},listCollectionItems:async d=>{try{const{data:c}=await new ge(l).listCollectionItems(d.collectionId,d.pagination.perPage,d.pagination.page,s),b=c.data.pagination;let P=!0;return b.current_page===b.total_page&&(P=!1),[c.data.items,P,null]}catch(c){return[null,!1,E().consumeReadableStreamError(c)]}},getCurrentSaveInfo:async(d,c)=>{try{const{data:b}=await new ge(l).getCurrentSaveInfo(d,c,s);return[b.data,null]}catch(b){return[null,E().consumeReadableStreamError(b)]}},addItem:async d=>{try{return await new ge(l).addItemToCollection(d.type,d.collectionId,{id:d.workId},s),[!0,null]}catch(c){return[null,E().consumeReadableStreamError(c)]}},removeItem:async d=>{try{const{data:c}=await new ge(l).removeItemFromCollection(d.type,d.collectionId,{id:d.workId},s);return[c.success,null]}catch(c){return[null,E().consumeReadableStreamError(c)]}},update:async d=>{try{const{data:c}=await new ge(l).updateCollection({id:d.id,name:d.name,description:d.description,is_public:d.isPublic},s);return[c.success,null]}catch(c){return[null,E().consumeReadableStreamError(c)]}},deleteCollection:async d=>{try{const{data:c}=await new ge(l).collectionsIdDelete(d,s);return[c.success,null]}catch(c){return[null,E().consumeReadableStreamError(c)]}}}}const Tt={class:"w-full modal-layer xl:w-3/12 lg:w-2/5"},Et={class:"flex flex-row justify-between w-full"},qt={class:"title"},jt={class:"flex float-right flex-row gap-2 mb-2 cursor-pointer"},Bt={class:"list"},Ft={class:"overflow-y-scroll pr-2 max-h-60"},Dt=["onClick"],Wt={class:"flex flex-row justify-between"},Ht={class:"flex flex-row"},Nt={key:0,class:"flex flex-row mt-2 w-full"},zt={class:"leading-6"},Qt={class:"flex float-right flex-row gap-2 mt-4 w-full md:w-auto"},Gt=["placeholder"],Jt={class:"flex flex-row justify-between mt-2"},Kt={__name:"ManageSave",props:{modalId:{type:String,default:"collection-selection-modal"},workId:{type:Number,default:0}},emits:["save"],setup(l,{expose:s,emit:e}){const o=l,r=Re(),{oApiConfiguration:t,fetchOptions:n}=E(),m=Mt(t,n());tt(()=>{u()});const h=x(!1),u=async()=>{if(r.i502p00r0)h.value=!0;else{const[B,T]=await m.proCanCreateCollection({type:fe.ARTWORK});T?h.value=!1:h.value=B}},f=x({pagination:{page:0,perPage:10},loading:!1}),w=x(!1),p=x(!1),y=x([]),d=async(B=!1)=>{await u(),B||(y.value=[],f.value.loading=!0);const[T,K,te]=await m.fetchCollections({userId:r.user.id,type:fe.ARTWORK,pagination:{page:f.value.pagination.page,perPage:f.value.pagination.perPage}});f.value.loading=!1,te&&(w.value=!0),te||(T&&T.length>0?(K?(f.value.pagination.page+=1,P.value=!0):P.value=!1,T.forEach(_e=>{y.value.push(_e)})):p.value=!0)},c=x([]),b=async()=>{w.value=!1,c.value=[],N.value=[],M.value=[],await setTimeout(async()=>{const[B,T]=await m.getCurrentSaveInfo(fe.ARTWORK,o.workId);if(T)w.value=!0;else for(const K of B)N.value.push(K.collection_id),c.value.push(K.collection_id)},300)},P=x(!0),H=async()=>{await d({isLoadMore:!0}),await b()},N=x([]),M=x([]),C=B=>{if(N.value.includes(B)){M.value.push(B);const T=N.value.indexOf(B);N.value.splice(T,1)}else if(N.value.push(B),M.value.includes(B)){const T=M.value.indexOf(B);M.value.splice(T,1)}},ne=async()=>{try{for(const T of N.value)await m.addItem({collectionId:T,type:fe.ARTWORK,workId:o.workId});if(M.value.length)for(const T of M.value)await m.removeItem({collectionId:T,type:fe.ARTWORK,workId:o.workId});let B=!1;N.value.length===0&&c.value.length===M.value.length&&(B=!0),await b(),re().closeModal(o.modalId),e("save",B)}catch{}},se=x(""),X=x(!1),le=async()=>{X.value=!1;const[B,T,K]=await m.createCollection(fe.ARTWORK,{title:se.value,isPublic:1,description:""});B?(y.value=[],j(),f.value.pagination.page=0,await d(),await b(),await u(),se.value="",z()):X.value=!0},ce=x(!1);let q;const z=()=>{ce.value=!0,Qe().splash(q,ce,"collection-created-alert")},j=()=>{N.value=[]},de=()=>{re().closeModal(o.modalId),j()};return s({fetchCollection:d,fetchCurrentSaved:b}),(B,T)=>(g(),k("div",null,[i("div",Tt,[i("div",null,[i("div",Et,[i("span",qt,v(B.$t("collections.addItem.form.title")),1),i("div",jt,[i("div",{class:"modal-close",onClick:T[0]||(T[0]=K=>de())},[_(V,{name:"i-majesticons-close",class:"text-2xl"})])])]),S(i("div",Bt,[i("div",Ft,[(g(!0),k(pe,null,ye(a(y),(K,te)=>(g(),k("div",{key:K.id,class:Y(["item",{"mt-2":te!==0},a(N).includes(K.id)?"button-color text-white":"theme-color-secondary",K.is_can_add_more?"cursor-pointer":"cursor-not-allowed"]),onClick:_e=>K.is_can_add_more?C(K.id):null},[i("div",Wt,[i("span",null,v(K.name),1),i("div",Ht,[i("span",{class:Y(["ml-2 font-bold",a(N).includes(K.id)?"text-white":"text-colored"])},v(K._count.collection_has_artworks),3)])]),K.is_can_add_more?R("",!0):(g(),k("div",Nt,[_(Ve,{class:"mr-1"}),i("p",zt,v(B.$t("collections.maxItemLimitReached")),1)]))],10,Dt))),128))]),S(i("div",{class:"mt-2 text-center href",onClick:T[1]||(T[1]=K=>H())},v(B.$t("loadMore").toLowerCase()),513),[[O,a(P)]]),i("div",Qt,[i("button",{class:"cancel-button w-full",onClick:T[2]||(T[2]=K=>de())},v(B.$t("cancel")),1),i("button",{class:"primary-button w-full",onClick:T[3]||(T[3]=K=>ne())},v(B.$t("save")),1)])],512),[[O,!a(f).loading&&!a(w)&&!a(p)]]),S(i("div",null,[S(i("input",{"onUpdate:modelValue":T[4]||(T[4]=K=>Oe(se)?se.value=K:null),type:"text",class:Y(["mt-4 mb-0 form-input theme-color-secondary",{"border border-red-400":a(X)}]),placeholder:B.$t("collections.createNewCollection")},null,10,Gt),[[Pe,a(se)]]),i("div",Jt,[i("div",null,[S(i("span",{class:"font-bold text-red-400 transition-all duration-200 ease-in-out"},v(B.$t("collections.failedToCreateCollection")),513),[[O,a(X)]])]),S(i("button",{class:"flex flex-row primary-button",onClick:T[5]||(T[5]=K=>a(h)?le():null)},[i("span",{class:Y({"leading-6":!a(h)})},v(B.$t("create")),3),a(h)?R("",!0):(g(),ae(Ve,{key:0,class:"ml-1"}))],512),[[O,a(se)&&a(se).length>0]])])],512),[[O,!a(f).loading&&!a(w)&&!a(p)]])]),_(qe,{loading:a(f).loading,empty:a(p),error:a(w),fetch:d},null,8,["loading","empty","error"])]),S(_(ze,{id:"collection-created-alert",text:B.$t("collections.collectionCreated"),icon:"i-bi-check-all"},null,8,["text"]),[[O,a(ce)]])]))}},Yt=Ce(Kt,[["__scopeId","data-v-4426a6f9"]]);function Xt(l,s){return{proCanCreateAlbum:async d=>{try{const{data:c}=await new ve(l).proLimitIsCanCreateAlbum({type:d.type},s);return[c.data.is_can_create,null]}catch(c){return[null,E().consumeReadableStreamError(c)]}},createAlbum:async(d,c)=>{try{const{data:b}=await new ve(l).createAlbum({name:c.title,description:c.description,is_public:c.isPublic?1:0,type:d},s);return[b.success,b.data,null]}catch(b){return[null,null,E().consumeReadableStreamError(b)]}},getInfo:async d=>{try{return[(await new ve(l).getAlbumById(d,s)).data,null]}catch(c){return[null,E().consumeReadableStreamError(c)]}},countAlbums:async d=>{try{const{data:c}=await new Te(l).countUserAlbums(d,s);return[c.data.total,null]}catch(c){return[null,E().consumeReadableStreamError(c)]}},countArtworkAlbums:async d=>{try{const{data:c}=await new Te(l).countUserArtworkAlbums(d,s);return[c.data.total,null]}catch(c){return[null,E().consumeReadableStreamError(c)]}},fetchAlbums:async(d,c,b,P)=>{try{const{data:H}=await new ve(l).listUserAlbums(d,b,P,c,s),N=H.data.pagination;let M=!0;return N.current_page===N.total_page&&(M=!1),[H.data.albums,M,null]}catch(H){return[null,!1,E().consumeReadableStreamError(H)]}},listAlbumItems:async d=>{try{const{data:c}=await new ve(l).getAlbumItems(d.albumId,d.pagination.perPage,d.pagination.page,s),b=c.data.pagination;let P=!0;return b.current_page===b.total_page&&(P=!1),[c.data.works,P,null]}catch(c){return[null,!1,E().consumeReadableStreamError(c)]}},getCurrentSaveInfo:async(d,c)=>{try{const{data:b}=await new ve(l).getCurrentAlbumSaveInfo(d,c,s);return[b.data,null]}catch(b){return[null,E().consumeReadableStreamError(b)]}},addItems:async d=>{try{for(const c of d.albumIds)await new ve(l).addWorkToAlbum({album_id:c,type:d.type,work_ids:d.workIds},s);return[!0,null]}catch(c){return[null,E().consumeReadableStreamError(c)]}},removeItems:async(d,c)=>{try{const{data:b}=await new ve(l).removeWorkFromAlbum({album_id:d,work_ids:c},s);return[b.success,null]}catch(b){return[null,E().consumeReadableStreamError(b)]}},update:async d=>{try{const{data:c}=await new ve(l).updateAlbum({id:d.id,name:d.name,description:d.description,is_public:d.isPublic?1:0},s);return[c.success,null]}catch(c){return[null,E().consumeReadableStreamError(c)]}},deleteAlbum:async d=>{try{const{data:c}=await new ve(l).deleteAlbum(d,s);return[c.success,null]}catch(c){return[null,E().consumeReadableStreamError(c)]}}}}const Zt={class:"w-full modal-layer xl:w-3/12 lg:w-2/5"},es={class:"flex flex-row justify-between w-full"},ts={class:"title"},ss={class:"flex float-right flex-row gap-2 mb-2 cursor-pointer"},as={class:"list"},os={class:"overflow-y-scroll pr-2 max-h-60"},rs=["onClick"],ns={class:"flex flex-row justify-between"},ls={key:0,class:"flex flex-row mt-2 w-full"},is={class:"leading-6"},cs={class:"flex float-right flex-row gap-2 mt-4"},ds={__name:"ManageAlbum",props:{modalId:{type:String,default:"album-selection-modal"},workId:{type:Number,default:0},workIds:{type:Array,default:()=>[]}},emits:["addedToAlbum"],setup(l,{expose:s,emit:e}){const o=l,r=Re(),{oApiConfiguration:t,fetchOptions:n}=E(),m=Xt(t,n());gt(t,n()),tt(async()=>{await u()});const h=x(999),u=async()=>{h.value=12},f=async()=>{w.value=[],p.value.pagination.page=0,P(),await b()},w=x([]),p=x({pagination:{perPage:10,page:0,firstLoad:10},showLoadMore:!0}),y=x(!0),d=x(!1),c=x(!1),b=async()=>{P(),y.value=!0;const[q,z,j]=await m.fetchAlbums(r.user.id,fe.ARTWORK,p.value.pagination.page===0?p.value.pagination.firstLoad:p.value.pagination.perPage,p.value.pagination.page);j&&(d.value=!0),q.length?(z?(p.value.pagination.page+=1,p.value.showLoadMore=!0):p.value.showLoadMore=!1,q.forEach(de=>{w.value.push(de)})):c.value=!0,y.value=!1},P=()=>{c.value=!1,d.value=!1},H=x([]),N=async()=>{H.value=[],C.value=[],ne.value=[];const[q,z]=await m.getCurrentSaveInfo(fe.ARTWORK,o.workId);for(const j of q)C.value.push(j.album_id),H.value.push(j.album_id)},M=async()=>{await b(),await N()},C=x([]),ne=x([]),se=q=>{if(C.value.includes(q)){ne.value.push(q);const z=C.value.indexOf(q);C.value.splice(z,1)}else if(C.value.push(q),ne.value.includes(q)){const z=ne.value.indexOf(q);ne.value.splice(z,1)}},X=async()=>{const[q,z]=await m.addItems({albumIds:C.value,type:fe.ARTWORK,workIds:o.workIds.length?o.workIds:[o.workId]});if(!o.workIds.length&&ne.value.length)for(const j of ne.value)await m.removeItems(j,[o.workId]);if(q){let j=!1;o.workIds.length||C.value.length===0&&H.value.length===ne.value.length&&(j=!0),le(),re().closeModal(o.modalId),e("addedToAlbum",o.workIds.length?!0:j)}},le=()=>{C.value=[]},ce=()=>{re().closeModal(o.modalId),le()};return s({fetchTop:f,fetchCurrentSaved:N}),(q,z)=>(g(),k("div",null,[i("div",Zt,[i("div",null,[i("div",es,[i("span",ts,v(q.$t("albums.selectAlbums")),1),i("div",ss,[i("div",{class:"modal-close",onClick:z[0]||(z[0]=j=>ce())},[_(V,{name:"i-ion-close-outline",class:"text-2xl"})])])]),i("div",as,[S(i("div",null,[i("div",os,[(g(!0),k(pe,null,ye(a(w),(j,de)=>(g(),k("div",{key:j.id,class:Y(["item",{"mt-2":de!==0},a(C).includes(j.id)?"button-color text-white":"theme-color-secondary",j.is_can_add_more?"cursor-pointer":"cursor-not-allowed"]),onClick:B=>j.is_can_add_more?se(j.id):null},[i("div",ns,[i("span",null,v(j.name),1),i("span",{class:Y(["ml-2 font-bold",a(C).includes(j.id)?"text-white":"text-colored"])},v(j._count.album_has_artworks),3)]),!a(r).i502p00r0&&!j.is_can_add_more||!a(r).i502p00r0&&j._count.album_has_artworks>a(h)?(g(),k("div",ls,[_(Ve,{class:"mr-1"}),i("p",is,v(q.$t("albums.maxItemLimitReached")),1)])):R("",!0)],10,rs))),128))]),S(i("div",{class:"mt-2 text-center href",onClick:z[1]||(z[1]=j=>M())},v(q.$t("loadMore").toLowerCase()),513),[[O,a(p).showLoadMore]]),i("div",cs,[i("button",{class:"cancel-button w-full",onClick:z[2]||(z[2]=j=>ce())},v(q.$t("cancel")),1),i("button",{class:"primary-button w-full",onClick:z[3]||(z[3]=j=>X())},v(q.$t("save")),1)])],512),[[O,!a(y)&&!a(c)&&!a(d)]])])]),_(qe,{loading:a(y),empty:a(c),"empty-message":q.$t("albums.empty"),error:a(d),fetch:f},null,8,["loading","empty","empty-message","error"])])]))}},us=Ce(ds,[["__scopeId","data-v-80f2d79f"]]);const ms={class:"w-full modal-layer xl:w-1/4 lg:w-2/5"},ps=["innerHTML"],hs={class:"flex flex-row justify-end gap-2"},ws={__name:"ConfirmationDialog",props:{modalId:{type:String,default:"confirmation-dialog-modal"},message:{type:String,default:"Are you sure?"},onAccept:{type:Function,default:()=>{}}},emits:"onAccept",setup(l,{emit:s}){const e=l,o=r=>{r&&s("onAccept",!0),re().closeModal(e.modalId)};return(r,t)=>(g(),k("div",null,[i("div",ms,[i("p",{class:"mb-4",innerHTML:l.message},null,8,ps),i("div",hs,[i("button",{class:"cancel-button",onClick:t[0]||(t[0]=n=>o(!1))},v(r.$t("no")),1),i("button",{class:"danger-button",onClick:t[1]||(t[1]=n=>o(!0))},v(r.$t("yes")),1)])])]))}};const ct=l=>(He("data-v-eb1275b1"),l=l(),Ne(),l),fs={class:"opt-modal modal-layer"},vs={class:"opt-modal__title"},gs={class:"flex float-right flex-row gap-2 mb-2 cursor-pointer"},ys={class:"opt-modal__content"},_s={class:"report"},ks={class:"report__reason_opt"},bs={class:"report__title"},$s=["onClick"],Cs={class:"report__title"},xs=["placeholder"],Rs={class:"report__buttons"},As={class:"text-justify"},Is={class:"mt-2"},Ss=ct(()=>i("i",null,"Your report ID:",-1)),Ps=ct(()=>i("i",null,"Report date:",-1)),Us={__name:"ReportModal",props:{type:{type:String,default:""},postId:{type:Number,default:0},reportStatus:{type:Object,default:()=>{}}},setup(l){const s=l,{oApiConfiguration:e,fetchOptions:o}=E(),r=lt(e,o()),t=x(["stolen","spam","hateSpeech","harassment","falseInfo","suicide","terrorism","aiGeneratedArt","somethingElse"]),n=x({selectedReasons:[],reasonDescription:"",enableSubmit:De(()=>n.value.selectedReasons.length>0&&n.value.reasonDescription!=="")}),m=y=>{if(!n.value.selectedReasons.includes(y))n.value.selectedReasons.push(y);else{const d=n.value.selectedReasons.indexOf(y);n.value.selectedReasons.splice(d,1)}},h=x(!1),u=x({}),f=async()=>{h.value=!1,u.value={};const[y,d,c]=await r.createNewReport({type:s.type,postId:s.postId,reasons:n.value.selectedReasons.join(","),description:n.value.reasonDescription});c&&!y||(h.value=!0,u.value=d)},w=()=>{re().closeModal("report-modal"),p()},p=()=>{n.value.selectedReasons=[],n.value.reasonDescription="",h.value=!1};return(y,d)=>{const c=xe;return g(),k("div",null,[i("div",fs,[i("div",vs,[i("h1",null,v(a(h)?y.$t("reports.reportSubmitted"):l.reportStatus.id?y.$t("reports.alreadyReported"):y.$t("reports.title")),1),i("div",gs,[i("div",{class:"modal-close",onClick:d[0]||(d[0]=b=>w())},[_(V,{name:"i-ion-close",class:"text-2xl"})])])]),i("div",ys,[S(i("div",_s,[i("div",ks,[i("div",bs,v(y.$t("reports.selectReasons")),1),(g(!0),k(pe,null,ye(a(t),b=>(g(),k("span",{key:b,class:Y([a(n).selectedReasons.includes(b)?"button-color":"theme-color-secondary"]),onClick:P=>m(b)},[i("div",null,[S(_(V,{name:"i-ion-square-outline",class:"text-color-secondary"},null,512),[[O,!a(n).selectedReasons.includes(b)]]),S(_(V,{name:"i-ion-checkbox-outline",class:"text-green-300"},null,512),[[O,a(n).selectedReasons.includes(b)]])]),i("div",{class:Y(["reason",[a(n).selectedReasons.includes(b)?"text-white":"text-color-secondary"]])},v(y.$t("reports.reasons."+b)),3)],10,$s))),128))]),i("div",null,[i("div",Cs,v(y.$t("reports.describeReason")),1),S(i("textarea",{"onUpdate:modelValue":d[1]||(d[1]=b=>a(n).reasonDescription=b),class:"report__reason_description",placeholder:y.$t("reports.describeText"),cols:"5",rows:"5"},null,8,xs),[[Pe,a(n).reasonDescription]])]),i("div",Rs,[i("button",{class:"cancel-button",onClick:d[2]||(d[2]=b=>w())},v(y.$t("cancel")),1),i("button",{class:Y(a(n).enableSubmit?"primary-button":"disabled-button"),onClick:d[3]||(d[3]=b=>a(n).enableSubmit?f():null)},v(y.$t("report")),3)])],512),[[O,!a(h)&&!l.reportStatus.id]]),S(i("div",null,[i("div",As,v(y.$t("reports.reportSubmittedMessage")),1),i("div",Is,[i("div",null,[Ss,W("  "),i("b",null,"#"+v(a(u).id),1)]),i("div",null,[Ps,W("  "),i("b",null,v(y.formatDate(a(u).created_at)),1)])])],512),[[O,a(h)]]),S(i("div",null,[W(v(y.$t("reports.alreadyReportedDescription"))+" ",1),_(c,{class:"underline href",to:"/reports"},{default:J(()=>[W(v(y.$t("reports.reportStatus")),1)]),_:1})],512),[[O,l.reportStatus.id]])])])])}}},Ls=Ce(Us,[["__scopeId","data-v-eb1275b1"]]);const Os={class:"w-full modal-layer xl:w-1/4 lg:w-2/5"},Vs={class:"title"},Ms={class:"mt-2"},Ts={class:"alert-success"},Es={class:"italic"},qs={class:"flex flex-row p-2 mb-2 text-white rounded-md button-color"},js=["placeholder"],Bs={class:"flex flex-row gap-2 justify-end"},Fs={class:"flex flex-row justify-between mt-6"},Ds=["value"],Ws={__name:"ShareArtworkToFeedModal",props:{postId:{type:Number,default:0}},setup(l){const s=l,{oApiConfiguration:e,fetchOptions:o}=E(),r=yt(e,o()),t=st(),n=()=>{h.value=""},m=()=>{u.value=!1,f.value=!1,w.value=!1,re().closeModal("share-to-feed-modal"),n()},h=x(""),u=x(!1),f=x(!1),w=x(!1),p=async()=>{u.value=!1,f.value=!0,w.value=!1;const[b,P,H]=await r.shareArtworkToFeed({text:h.value,workId:s.postId});b?(w.value=!0,setTimeout(()=>{m()},500)):u.value=!0,f.value=!1},y=x(!1);let d;const c=b=>{const P=x(b),{copy:H}=ot({source:P});H(),Qe().splash(d,y,"copy-alert")};return(b,P)=>(g(),k("div",null,[i("div",Os,[i("span",Vs,v(b.$t("feeds.share.artwork.title")),1),i("div",Ms,[S(i("div",Ts,[i("span",Es,v(b.$t("feeds.share.artwork.success")),1)],512),[[O,a(w)]]),S(i("div",qs,[_(Me,{class:"mr-2"}),W(" "+v(b.$t("feeds.form.postingYourUpdate")),1)],512),[[O,a(f)]]),S(i("div",{class:"alert-danger"},v(b.$t("feeds.form.postFailure")),513),[[O,a(u)]]),S(i("textarea",{"onUpdate:modelValue":P[0]||(P[0]=H=>Oe(h)?h.value=H:null),class:"input form-input textarea",placeholder:b.$t("typeSomething"),cols:"30",rows:"2","data-gramm":"false",maxlength:"2000"},null,8,js),[[Pe,a(h)]]),i("div",Bs,[i("button",{class:"cancel-button",onClick:P[1]||(P[1]=H=>m())},v(b.$t("cancel")),1),i("button",{class:Y(["primary-button"]),onClick:P[2]||(P[2]=H=>p())},v(b.$t("share")),1)]),i("div",Fs,[i("input",{readonly:"",value:a(t).public.appUrl+"/a/"+s.postId,class:"p-3 w-full rounded-md theme-color-secondary"},null,8,Ds),i("button",{class:"icon-button",onClick:P[3]||(P[3]=H=>c(a(t).public.appUrl+"/a/"+l.postId))},[_(V,{name:"i-icon-park-outline-copy"})])])])]),S(_(ze,{id:"copy-alert",text:b.$t("linkCopied"),icon:"i-bi-check-all"},null,8,["text"]),[[O,a(y)]])]))}},Hs=Ce(Ws,[["__scopeId","data-v-f7848028"]]),Ns={class:"w-full modal-layer xl:w-3/12 lg:w-2/5"},zs={class:"flex flex-row justify-between w-full"},Qs={class:"title"},Gs={class:"flex float-right flex-row gap-2 mb-2 cursor-pointer"},Js={class:"grid overflow-y-scroll gap-2 pr-2 max-h-96 grid-cols"},Ks=["to"],Ys={class:"mx-auto text-center"},Xs={class:"mx-auto text-center"},Zs={class:"mx-auto text-center"},ea={__name:"UserLiked",props:{modalId:{type:String,default:"user-liked-modal"},workId:{type:Number,default:0}},setup(l){const s=l,{oApiConfiguration:e,fetchOptions:o}=E(),r=Ae(e,o()),t=x({pagination:{page:0,perPage:10}}),n=x([]),m=async({loaded:u})=>{const[f,w]=await r.viewWhoLikedTheArtwork({workId:s.workId,pagination:{page:t.value.pagination.page,perPage:t.value.pagination.perPage}});if(!w){t.value.pagination.page+=1;for(let p=0;p<f.length;p++){const y=f[p];n.value.push(y)}}u(f.length,t.value.pagination.perPage)},h=()=>{re().closeModal(s.modalId)};return(u,f)=>{const w=Ee,p=xe,y=nt;return g(),k("div",null,[i("div",Ns,[i("div",zs,[i("div",Qs,v(u.$t("artworks.usersLiked")),1),i("div",Gs,[i("div",{class:"modal-close",onClick:f[0]||(f[0]=d=>h())},[_(V,{name:"i-majesticons-close",class:"text-2xl"})])])]),i("div",Js,[(g(!0),k(pe,null,ye(a(n),d=>(g(),ae(p,{key:d.id,to:"/u/"+d.users.username,class:"flex flex-row gap-2 p-2 rounded-md theme-color-secondary hover:button-color hover:text-white img-hover"},{default:J(()=>[_(w,{preload:"",loading:"lazy",class:"w-10 h-10 avatar",src:u.avatarCoverUrl(d.users.avatar_bucket,d.users.avatar_filename),onError:u.defaultCoverImage},null,8,["src","onError"]),i("span",{to:"/u/"+d.users.username,class:"font-bold leading-10"},v(d.users.name),9,Ks)]),_:2},1032,["to"]))),128)),_(y,null,{default:J(()=>[_(a(rt),{load:m},{loading:J(()=>[i("div",Ys,[_(V,{name:"i-line-md-loading-twotone-loop",class:"text-3xl"})])]),"no-results":J(()=>[i("div",Xs,v(u.$t("users.nothingToShow")),1)]),"no-more":J(()=>[i("div",Zs,v(u.$t("youHaveReachedTheEnd")),1)]),_:1})]),_:1})])])])}}},ta={class:"w-full modal-layer xl:w-3/12 lg:w-2/5"},sa={class:"flex flex-row justify-between w-full"},aa={class:"title"},oa={class:"flex float-right flex-row gap-2 mb-2 cursor-pointer"},ra={class:"grid overflow-y-scroll gap-2 pr-2 max-h-96 grid-cols"},na=["to"],la={class:"mx-auto text-center"},ia={class:"mx-auto text-center"},ca={class:"mx-auto text-center"},da={__name:"UserShared",props:{modalId:{type:String,default:"user-shared-modal"},workId:{type:Number,default:0}},setup(l){const s=l,{oApiConfiguration:e,fetchOptions:o}=E(),r=Ae(e,o()),t=x({pagination:{page:0,perPage:10}}),n=x([]),m=async({loaded:u})=>{const[f,w]=await r.viewWhoSharedTheArtwork({workId:s.workId,pagination:{page:t.value.pagination.page,perPage:t.value.pagination.perPage}});if(!w){t.value.pagination.page+=1;for(let p=0;p<f.length;p++){const y=f[p];n.value.push(y)}}u(f.length,t.value.pagination.perPage)},h=()=>{re().closeModal(s.modalId)};return(u,f)=>{const w=Ee,p=xe,y=nt;return g(),k("div",null,[i("div",ta,[i("div",sa,[i("div",aa,v(u.$t("artworks.usersShared")),1),i("div",oa,[i("div",{class:"modal-close",onClick:f[0]||(f[0]=d=>h())},[_(V,{name:"i-majesticons-close",class:"text-2xl"})])])]),i("div",ra,[(g(!0),k(pe,null,ye(a(n),d=>(g(),ae(p,{key:d.id,to:"/u/"+d.users.username,class:"flex flex-row gap-2 p-2 rounded-md theme-color-secondary hover:button-color hover:text-white img-hover"},{default:J(()=>[_(w,{preload:"",loading:"lazy",class:"w-10 h-10 avatar",src:u.avatarCoverUrl(d.users.avatar_bucket,d.users.avatar_filename),onError:u.defaultCoverImage},null,8,["src","onError"]),i("span",{to:"/u/"+d.users.username,class:"font-bold leading-10"},v(d.users.name),9,na)]),_:2},1032,["to"]))),128)),_(y,null,{default:J(()=>[_(a(rt),{load:m},{loading:J(()=>[i("div",la,[_(V,{name:"i-line-md-loading-twotone-loop",class:"text-3xl"})])]),"no-results":J(()=>[i("div",ia,v(u.$t("users.nothingToShow")),1)]),"no-more":J(()=>[i("div",ca,v(u.$t("youHaveReachedTheEnd")),1)]),_:1})]),_:1})])])])}}};const ua={id:"lists"},ma={key:0},pa={__name:"RelatedArtworks",props:{workId:{type:Number,default:0},view:{type:Function,default:()=>{}},isModal:{type:Boolean,default:!0}},setup(l){const s=l,{oApiConfiguration:e,fetchOptions:o}=E(),r=Ae(e,o());Ue(()=>{setTimeout(()=>{n()},2e3)});const t=x({loadings:{first:!0,loading:!0},data:[],options:{isEmpty:!1,isError:!1,paginations:{page:0,perPage:12,showLoadMore:!0}}}),n=async()=>{t.value.loadings.loading=!0,t.value.options.isError=!1,t.value.options.isEmpty=!1;const[h,u,f]=await r.getRelatedArtworks({workId:s.workId,pagination:{page:t.value.options.paginations.page,perPage:t.value.options.paginations.perPage}});if(f)t.value.options.isError=!0;else if(t.value.options.paginations.page==0&&!h.length)t.value.options.isEmpty=!0;else{for(let w=0;w<h.length;w++)t.value.data.push(h[w]);u.next_previous.next_page==null&&(t.value.options.paginations.showLoadMore=!1),t.value.options.paginations.page+=1}t.value.options.paginations.page==1&&(t.value.loadings.first=!1),t.value.loadings.loading=!1},m=()=>{n()};return(h,u)=>(g(),k("div",ua,[_(qe,{loading:a(t).loadings.loading,empty:a(t).options.isEmpty,error:a(t).options.isError,fetch:n,"background-color":l.isModal?"theme-color-secondary":"theme-color",class:"mt-2"},null,8,["loading","empty","error","background-color"]),a(t).loadings.first?R("",!0):(g(),k("div",ma,[a(t).options.isEmpty?R("",!0):(g(),ae(it,{key:0,"section-class":"work-grid-6",view:l.view,works:a(t).data,"is-href":!l.isModal,"direct-open":!0},null,8,["view","works","is-href"])),S(i("div",{class:Y(["w-full primary-button",a(t).loadings.loading?"animate-pulse":""]),onClick:m},v(h.$t("loadMore")),3),[[O,a(t).options.paginations.showLoadMore]])]))]))}},ha=Ce(pa,[["__scopeId","data-v-b9fd9bfc"]]),wa={key:0,id:"preview-scheduled-artwork-section",class:"p-4 w-full text-center text-black bg-yellow-200 rounded-md"},fa={class:"flex flex-row justify-center mb-2"},va={class:"font-bold cursor-pointer"},ga={class:"mt-2"},ya={class:"mr-2 font-normal"},_a={class:"italic"},ka={__name:"PreviewAlert",props:{isPreview:{type:Boolean,default:!1},artworkId:{type:Number,default:0}},emits:["deleteWork"],setup(l){const s=x(!1);return(e,o)=>{const r=at("Icon");return l.isPreview&&!e.deleteSuccess?(g(),k("section",wa,[i("div",fa,[_(r,{name:"i-ion-alert-outline"}),i("div",null,v(e.$t("artworks.previewModeMessage")),1)]),i("div",va,[i("span",{class:"text-red-500 hover:underline",onClick:o[0]||(o[0]=t=>s.value=!0)},v(e.$t("artworks.deleteArtwork")),1),S(i("div",ga,[i("span",ya,[W(v(e.$t("alert.areYouSure"))+" ",1),i("span",_a,"("+v(e.$t("alert.youCannotUndoThisAction"))+")",1)]),i("span",{class:"mr-2 text-red-500 hover:underline",onClick:o[1]||(o[1]=t=>e.$emit("deleteWork",l.artworkId))},v(e.$t("yes")),1),i("span",{class:"hover:underline",onClick:o[2]||(o[2]=t=>s.value=!1)},v(e.$t("no")),1)],512),[[O,a(s)]])])])):R("",!0)}}},ba={key:0,class:"mr-4"},$a={key:1,class:"mr-4"},Ca={__name:"MatureContentAlert",props:{show:{type:Boolean,default:!1},isExplicit:{type:Boolean,default:!1},isGore:{type:Boolean,default:!1}},emits:["removeFilter"],setup(l){const s=Re();return(e,o)=>l.show?(g(),k("section",{key:0,id:"explicit-and-gore-alert-section",class:Y(["flex flex-col md:flex-row justify-between p-3 align-middle rounded",l.isGore?"bg-red-500 text-white":"bg-yellow-300 text-black"])},[l.isExplicit&&!l.isGore?(g(),k("p",ba,v(a(s).loggedIn?e.$t("explicitContentAlert"):e.$t("explicitContentAlertForGuest")),1)):R("",!0),l.isGore?(g(),k("p",$a,v(a(s).loggedIn?e.$t("goreContentAlert"):e.$t("goreContentAlertForGuest")),1)):R("",!0),i("button",{class:"primary-button",onClick:o[0]||(o[0]=be(r=>e.$emit("removeFilter"),["prevent"]))},v(e.$t("show")),1)],2)):R("",!0)}},xa={id:"artwork-data-section",class:"image-list"},Ra={id:"artwork-image-section",class:"flex flex-row gap-2"},Aa={key:0,id:"mini-thumbnail-section",class:"sticky top-0 flex-col gap-2 w-1/6 hidden-md-flex"},Ia={class:"sticky top-0"},Sa=["href"],Pa=["src"],Ua={__name:"Images",props:{isModal:{type:Boolean,default:!0},artwork:{type:Object,default:()=>{}},showExplicitAlert:{type:Boolean,default:!1}},setup(l){const s=l,{generateSemiCompressedArtworkUrl:e}=We();Ue(()=>{r()});const o=x([]),r=()=>{o.value=[],s.artwork.artwork_assets&&s.artwork.artwork_assets.forEach(t=>{o.value.push({thumbnail:e(t.bucket,t.filename,!0),source:e(t.bucket,t.filename,!1)})})};return ut().isMobile(),(t,n)=>{const m=Ee,h=at("viewer");return g(),k("section",xa,[i("section",Ra,[!l.isModal&&!l.showExplicitAlert&&a(o).length?(g(),k("section",Aa,[i("div",Ia,[(g(!0),k(pe,null,ye(a(o),(u,f)=>(g(),k("a",{key:f,href:"#image_"+f,class:"cursor-pointer"},[i("img",{preload:"",loading:"lazy",src:u.thumbnail,class:"mb-2 rounded-md hover:shadow-md",onError:n[0]||(n[0]=(...w)=>t.imageLoadError&&t.imageLoadError(...w))},null,40,Pa)],8,Sa))),128))])])):R("",!0),a(o).length?(g(),ae(h,{key:1,options:{url:"data-source"},images:a(o),class:"overflow-hidden w-full rounded-md"},{default:J(()=>[(g(!0),k(pe,null,ye(a(o),(u,f)=>(g(),ae(m,{key:u.thumbnail,id:"image_"+f,preload:"",loading:"lazy",src:u.thumbnail,"data-source":u.source,class:Y(["overflow-hidden mb-2 rounded cursor-pointer image image-layer unselectable w-full",{"blur-lg unclickable":l.showExplicitAlert},l.showExplicitAlert?"brightness-50":"brightness-100"]),onError:t.imageLoadError},null,8,["id","src","data-source","class","onError"]))),128))]),_:1},8,["images"])):R("",!0)])])}}};const La=l=>(He("data-v-df84a5e1"),l=l(),Ne(),l),Oa={id:"comment-section",class:"comments"},Va={key:0,class:"comment-box"},Ma={class:"flex flex-col"},Ta={class:"flex relative flex-col"},Ea=["readonly","rows","placeholder"],qa={key:1,class:"p-4 mb-4 text-center rounded-md theme-color-secondary"},ja={id:"comment-section",class:"comments__items"},Ba={class:"flex flex-row justify-end mb-2"},Fa={key:0},Da=["src"],Wa={class:"comments__item__wrapper"},Ha={class:"comments__item__comment__user-info"},Na={class:"hover:underline"},za={class:"time"},Qa={class:"break-words"},Ga={class:"comments__item__comment__buttons"},Ja=["onClick"],Ka={key:0},Ya={key:0,class:"comments__item__comment__buttons__item"},Xa=["onClick"],Za=["onClick"],eo={class:"ellipsis-menus dropdown"},to={class:"ellipsis-menus__content dropdown-menu"},so={id:"ellipsis-menus",class:"ellipsis-menus__content__wrapper","aria-labelledby":"headlessui-menu-button-1",role:"menu"},ao={key:0},oo=["onClick"],ro={id:"replies-section",class:"replies"},no={key:0,id:"reply-input-section",class:"replies__reply-box"},lo=["id","readonly","rows","placeholder"],io=["onClick"],co=["id"],uo={key:0,class:"replies__items__hide"},mo={class:"italic text-color-secondary"},po=["onClick"],ho={class:"replies__items__item__user-info"},wo=["src"],fo={class:"transition-all duration-150 cursor-pointer hover:font-bold"},vo={class:"time"},go={class:"break-words"},yo={key:0,class:"comments__item__comment__buttons"},_o=La(()=>i("div",null,null,-1)),ko={class:"comments__item__comment__buttons__item"},bo=["onClick"],$o={class:"ellipsis-menus dropdown"},Co={type:"button","aria-haspopup":"true","aria-expanded":"true","aria-controls":"ellipsis-menus"},xo={class:"ellipsis-menus__content dropdown-menu"},Ro={id:"ellipsis-menus",class:"ellipsis-menus__content__wrapper","aria-labelledby":"headlessui-menu-button-1",role:"menu"},Ao={key:0},Io=["onClick"],So=["onClick"],Po={key:3,class:"comments__no-comment"},Uo={__name:"ArtworkComments",props:{artwork:{type:Object,default:()=>{}},isModal:{type:Boolean,default:!1}},setup(l){const s=l,e=Re(),{oApiConfiguration:o,fetchOptions:r}=E(),t=Ae(o,r());Ue(()=>{n(),w(s.artwork.id)});const n=()=>{d.value="",m.value=[],X.value=[]},m=x([]),h=Ge({perPage:3,page:0}),u=x([]),f=async $=>{const[A,D]=await t.getComments({workId:$,pagination:{page:h.page,perPage:h.perPage}});if(A)return A.pagination.current_page===A.pagination.first_last.last_page?p.value=!1:p.value=!0,A.comments.forEach(Q=>{Q.liked&&M.value.push(Q.id),u.value.push(Q.id)}),A.comments},w=async $=>{try{(await f($)).forEach(D=>m.value.push(D))}catch{}},p=x(!1),y=async $=>{try{h.page+=1,(await f($)).forEach(D=>m.value.push(D))}catch{}},d=x(),c=200,b=De(()=>d.value!=null&&d.value!==""?c-d.value.length:c),P=x(!1),H=async()=>{P.value=!0;try{const[$,A,D]=await t.addComment({workId:s.artwork.id,comment:d.value});$&&(d.value="",m.value.splice(0,0,A),m.value.join(),u.value.splice(0,0,A.id),u.value.join())}catch{}P.value=!1},N=async $=>{const[A,D]=await t.deleteComment({commentId:$});if(A){const Q=u.value.indexOf($);m.value.splice(Q,1),u.value.splice(Q,1)}},M=x([]),C=async $=>{const[A,D]=await t.likeComment({commentId:$});if(A){M.value.push($);const Q=document.getElementById(`comment-like-button-${$}`);Q.classList.add("animate-bounce"),setInterval(()=>{Q.classList.remove("animate-bounce")},2500)}},ne=async $=>{const[A,D]=await t.unlikeComment({commentId:$});if(A){const Q=M.value.indexOf($);M.value.splice(Q,1)}},se=Ge({perPage:2,page:0}),X=x([]),le=x([]),ce=x(!0),q=async $=>{const[A,D,Q]=await t.getCommentReplies({commentId:$,pagination:{page:se.page,perPage:se.perPage}});if(!Q)return D.current_page===D.first_last.last_page&&(ce.value=!1),A.map(U=>le.value.push(U.id)),A},z=x(0),j=async $=>{X.value=[],se.page=0,ce.value=!0,le.value=[];try{const A=await q($);X.value={[$]:A},A.forEach(Q=>{Q.liked&&ke.value.push(Q.id)}),z.value&&de(z.value);const D=document.getElementById(`comment-replies-${$}`);D.classList.add("flex"),D.classList.remove("hidden"),z.value=$}catch{}},de=$=>{const A=document.getElementById(`comment-replies-${$}`);A.classList.remove("flex"),A.classList.add("hidden"),z.value=0},B=async $=>{se.page+=1;try{(await q($)).forEach(D=>{X.value[$].push(D)})}catch{}},T=x(0),K=async $=>{await j($),T.value=$},te=x(),_e=200,Ie=De(()=>te.value!=null&&te.value!==""?_e-te.value.length:_e),$e=x(!1),je=async $=>{$e.value=!0;try{const[A,D,Q]=await t.addReply({commentId:$,reply:te.value});A&&(j($),te.value="",X.value[$].splice(0,0,D),X.value[$].join(),T.value=0,le.value.splice(0,0,D.id),le.value.join())}catch{}$e.value=!1},Se=async($,A)=>{const[D,Q]=await t.deleteReply({replyId:A});if(D){const U=le.value.indexOf(A);X.value[$].splice(U,1),le.value.splice(U,1)}},ke=x([]),Be=async $=>{const[A,D]=await t.likeReply({replyId:$});if(A){ke.value.push($);const Q=document.getElementById(`reply-like-button-${$}`);Q.classList.add("animate-bounce"),setInterval(()=>{Q.classList.remove("animate-bounce")},2500)}},Fe=async $=>{const[A,D]=await t.unlikeReply({replyId:$});if(A){const Q=ke.value.indexOf($);ke.value.splice(Q,1)}};return($,A)=>{const D=xe,Q=mt("auto-animate");return g(),k("section",Oa,[a(e).loggedIn?(g(),k("div",Va,[i("div",Ma,[i("div",Ta,[S(i("textarea",{"onUpdate:modelValue":A[0]||(A[0]=U=>Oe(d)?d.value=U:null),cols:"30","data-gramm":"false",class:Y(["input form-input",{"cursor-not-allowed":a(P)},{"theme-color-secondary textarea":l.isModal}]),readonly:a(P),rows:a(d)!=null&&a(d)!=""?"4":"0",placeholder:$.$t("comments.inputPlaceholder"),maxlength:c},null,10,Ea),[[Pe,a(d)]]),S(i("span",{class:"absolute left-4 bottom-6 py-1 px-2 text-white rounded-md button-color"},v(a(b)),513),[[O,a(d)!=null&&a(d)!=""]]),i("span",{class:"absolute right-2 bottom-5 py-1 px-2",onClick:A[1]||(A[1]=be(U=>H(),["prevent"]))},[S(_(V,{name:"i-carbon-send-filled",class:"text-xl transition-all duration-100 cursor-pointer text-colored"},null,512),[[O,a(d)!=null&&a(d)!=""&&!a(P)]]),S(_(Me,null,null,512),[[O,a(P)]])])])])])):R("",!0),a(e).loggedIn?R("",!0):(g(),k("div",qa,v($.$t("comments.loginOrRegisterToLeaveComment")),1)),i("section",ja,[i("div",Ba,[l.artwork._count&&l.artwork._count.artwork_comments?(g(),k("div",Fa,[i("b",null,v($.thousand(l.artwork._count.artwork_comments)),1),W(" "+v(l.artwork._count.artwork_comments>1?$.$t("count.comments"):$.$t("count.comment")),1)])):R("",!0)]),(g(!0),k(pe,null,ye(a(m),U=>S((g(),k("div",{key:U.id,class:"comments__item"},[_(D,{class:"comments__item__user-avatar",to:"/u/"+U.users.username},{default:J(()=>[i("img",{src:$.avatarCoverUrl(U.users.avatar_bucket,U.users.avatar_filename),onError:A[2]||(A[2]=(...F)=>$.defaultCoverImage&&$.defaultCoverImage(...F))},null,40,Da)]),_:2},1032,["to"]),i("div",Wa,[i("div",{class:Y(["comments__item__comment",l.isModal?"theme-color-secondary":"theme-color"])},[i("div",Ha,[_(D,{to:"/u/"+U.users.username},{default:J(()=>[i("b",null,v(U.users.name),1),W("  "),i("span",Na,"@"+v(U.users.username),1)]),_:2},1032,["to"]),i("div",za,v($.formatDate(U.created_at,!0)),1)]),i("p",Qa,v(U.comment),1),i("div",Ga,[i("div",{class:"cursor-pointer hover:underline",onClick:F=>a(z)==U.id?de(U.id):j(U.id)},[U._count.artwork_comment_has_replies>0?(g(),k("span",Ka,[i("b",null,v($.shortNumber(U._count.artwork_comment_has_replies)),1),W(" "+v(U._count.artwork_comment_has_replies>1?$.$t("comments.replies.replies").toLowerCase():$.$t("comments.replies.reply").toLowerCase()),1)])):R("",!0)],8,Ja),a(e).loggedIn?(g(),k("div",Ya,[i("button",{onClick:F=>a(M).includes(U.id)?ne(U.id):C(U.id)},[S(_(V,{name:"i-ri-heart-3-line",class:"text-gray-500 hover:text-red-500"},null,512),[[O,!a(M).includes(U.id)]]),S(_(V,{id:"comment-like-button-"+U.id,name:"i-ion-heart",class:"text-red-500 hover:text-red-500"},null,8,["id"]),[[O,a(M).includes(U.id)]]),W(" "+v($.shortNumber(U._count.artwork_comment_has_likes)),1)],8,Xa),i("button",{onClick:F=>K(U.id)},[_(V,{name:"i-quill-reply",class:"text-gray-500 hover:text-blue-500"})],8,Za),i("div",eo,[i("button",{type:"button","aria-haspopup":"true","aria-expanded":"true","aria-controls":"ellipsis-menus",onClick:A[3]||(A[3]=F=>T.value=0)},[i("span",null,[_(V,{name:"i-uit-ellipsis-v"})])]),i("div",to,[i("div",so,[_(D,{to:"/u/"+U.users.username},{default:J(()=>[_(V,{name:"i-fluent-person-32-regular"}),W(" "+v($.$t("viewProfile")),1)]),_:2},1032,["to"]),a(e).loggedIn&&a(e).user.id===U.users.id?(g(),k("div",ao,[i("a",{onClick:F=>N(U.id)},[_(V,{name:"i-akar-icons-trash-bin"}),W(" "+v($.$t("delete")),1)],8,oo)])):R("",!0)])])])])):R("",!0)])],2),i("section",ro,[a(e).loggedIn?S((g(),k("section",no,[S(i("textarea",{id:"reply-"+U.id,"onUpdate:modelValue":A[4]||(A[4]=F=>Oe(te)?te.value=F:null),cols:"30","data-gramm":"false",class:Y([{"!cursor-not-allowed":a($e)},{"theme-color-secondary textarea":l.isModal}]),readonly:a($e),rows:a(te)!=null&&a(te)!=""?"4":"0",placeholder:$.$t("comments.replies.write"),maxlength:_e},null,10,lo),[[Pe,a(te)]]),S(i("div",{class:"replies__reply-box__str-left-counter"},v(a(Ie)),513),[[O,a(te)!=null&&a(te)!=""]]),i("button",{onClick:be(F=>je(U.id),["prevent"])},[S(_(V,{name:"i-carbon-send-filled"},null,512),[[O,a(te)!=null&&a(te)!=""&&!a($e)]]),S(_(Me,null,null,512),[[O,a($e)]])],8,io)],512)),[[O,a(T)===U.id]]):R("",!0),i("section",{id:"comment-replies-"+U.id,class:"hidden replies__items"},[a(X)[U.id]&&a(X)[U.id].length?(g(),k("div",uo,[i("span",mo,v($.$t("comments.replies.replies")),1),i("span",{class:"cursor-pointer hover:font-semibold",onClick:F=>de(U.id)},v($.$t("hide")),9,po)])):R("",!0),(g(!0),k(pe,null,ye(a(X)[U.id],F=>(g(),k("div",{key:F.id,class:Y(["replies__items__item",l.isModal?"theme-color-secondary":"theme-color"])},[i("div",ho,[_(D,{to:"/u/"+F.users.username,class:"replies__items__item__avatar"},{default:J(()=>[i("img",{class:"!w-6 !h-6",src:$.avatarCoverUrl(F.users.avatar_bucket,F.users.avatar_filename),onError:A[5]||(A[5]=(...I)=>$.defaultCoverImage&&$.defaultCoverImage(...I))},null,40,wo),i("span",fo,v(F.users.name),1)]),_:2},1032,["to"]),i("span",vo,v($.formatDate(F.created_at,!0)),1)]),i("p",go,v(F.content),1),a(e).loggedIn?(g(),k("div",yo,[_o,i("div",ko,[i("button",{onClick:I=>a(ke).includes(F.id)?Fe(F.id):Be(F.id)},[S(_(V,{id:"reply-like-button-"+F.id,name:"i-ion-heart",class:"text-red-500 hover:text-red-500"},null,8,["id"]),[[O,a(ke).includes(F.id)]]),S(_(V,{name:"i-ri-heart-3-line",class:"text-gray-500 hover:text-red-500"},null,512),[[O,!a(ke).includes(F.id)]]),W(" "+v($.shortNumber(F._count.artwork_comment_reply_has_likes)),1)],8,bo),i("div",$o,[i("button",Co,[i("span",null,[_(V,{name:"i-uit-ellipsis-v"})])]),i("div",xo,[i("div",Ro,[_(D,{to:"/u/"+F.users.username,onClick:A[6]||(A[6]=be(()=>{},["prevent"]))},{default:J(()=>[_(V,{name:"i-fluent-person-32-regular"}),W(" "+v($.$t("viewProfile")),1)]),_:2},1032,["to"]),a(e).loggedIn&&a(e).user.id===F.users.id?(g(),k("div",Ao,[i("a",{onClick:I=>Se(U.id,F.id)},[_(V,{name:"i-akar-icons-trash-bin"}),W(" "+v($.$t("delete")),1)],8,Io)])):R("",!0)])])])])])):R("",!0)],2))),128)),a(X)[U.id]&&a(ce)?(g(),k("div",{key:1,class:"mb-1 text-center transition ease-in-out delay-75 cursor-pointer hover:font-semibold hover:underline text-color-secondary href",onClick:F=>B(U.id)},v($.$t("comments.replies.loadMore")),9,So)):R("",!0)],8,co)])])])),[[Q]])),128))]),l.artwork._count?S((g(),k("div",{key:2,class:"comments__load-more-button",onClick:A[7]||(A[7]=be(U=>y(l.artwork.id),["prevent"]))},v($.$t("comments.loadOlder")),513)),[[O,l.artwork._count.artwork_comments>3&&a(p)]]):R("",!0),S(i("div",{class:"comments__no-more-item"},v($.$t("comments.reachedTheEnd")),513),[[O,a(m).length&&!a(p)]]),a(e).loggedIn&&!a(m).length?(g(),k("div",Po,v($.$t("comments.noCommentYet")),1)):R("",!0)])}}},Lo=Ce(Uo,[["__scopeId","data-v-df84a5e1"]]),Oo={key:0,id:"original-artwork-info-section"},Vo={class:"title"},Mo={key:0,class:"flex flex-row gap-2"},To={key:1,class:"custom-divider"},Eo={key:2,id:"redrawable-section",class:"flex flex-col gap-4"},qo={class:"title"},jo={key:0,id:"redraw-list-section"},Bo={key:1,class:"flex flex-row gap-2 justify-between w-full"},Fo={key:2,id:"my-redraw-section"},Do={class:"title-tiny"},Wo={key:0,class:"w-1/3"},Ho={class:"w-2/3"},No={class:"title"},zo=["innerHTML"],Qo={class:"italic"},Go={__name:"Redraws",props:{artwork:{type:Object,default:()=>{}},isModal:{type:Boolean,default:!1}},setup(l){const s=l,e=Re(),{oApiConfiguration:o,fetchOptions:r}=E(),t=Ae(o,r());Ue(async()=>{await f(),s.artwork.redraw_of&&h(s.artwork.redraw_of)});const n=x({}),m=x(!0),h=async c=>{m.value=!0;const[b,P]=await t.getWorkById(c);P||(n.value=b),m.value=!1},u=x(0),f=async()=>{const[c,b]=await t.countRedraws(s.artwork.id);u.value=c,c&&(await p(s.artwork.id),e.loggedIn&&await d(s.artwork.id))},w=x({data:[],pagination:{}}),p=async c=>{const[b,P,H]=await t.getRedraws({workId:c,pagination:{page:0,perPage:8}});H||(w.value.data=b,w.value.pagination=P)},y=x(null),d=async c=>{const[b,P]=await t.getMyRedraw({workId:c});P?y.value=null:y.value=b};return(c,b)=>{const P=xe,H=Ee;return g(),k(pe,null,[l.artwork.redraw_of?(g(),k("section",Oo,[i("h2",Vo,v(c.$t("artworks.originalArtwork")),1),a(m)?(g(),k("div",Mo,[_(Me),W(" "+v(c.$t("artworks.redrawOriginalLoading")),1)])):(g(),ae(vt,{key:1,data:a(n),"work-id":l.artwork.redraw_of},null,8,["data","work-id"]))])):R("",!0),l.artwork.allow_redraw?(g(),k("div",To)):R("",!0),l.artwork.allow_redraw||a(w).data&&a(w).data.length?(g(),k("section",Eo,[i("h2",qo,v(c.$t("artworks.redraws"))+" ("+v(a(w).pagination&&a(w).pagination.record_total?a(w).pagination.record_total:0)+") ",1),a(w).data&&a(w).data.length?(g(),k("section",jo,[_(it,{"section-class":"redraw-works",works:a(w).data,view:c.view,"is-href":c.isHref,"is-mini-list":!0,"current-work-id":l.artwork.id,"direct-open":!0,"hide-redraw-icon":!0},null,8,["works","view","is-href","current-work-id"]),a(w).pagination.next_previous.next_page?(g(),ae(P,{key:0,to:"/a/"+l.artwork.id+"/redraws",class:"mt-2 primary-button"},{default:J(()=>[_(V,{name:"i-fluent-arrow-enter-20-filled",class:"mr-1 text-white hover:text-white"}),W(" "+v(c.$t("seeMore")),1)]),_:1},8,["to"])):R("",!0)])):R("",!0),a(e).loggedIn&&!a(y)?(g(),k("div",Bo,[_(P,{to:"/post?redrawWorkId="+l.artwork.id,class:Y([l.isModal?"secondary-button":"light-button"])},{default:J(()=>[_(V,{name:"i-typcn-brush"}),W(" "+v(c.$t("artworks.redrawThisArtwork")),1)]),_:1},8,["to","class"])])):R("",!0),a(e).loggedIn&&a(y)&&a(y).id?(g(),k("section",Fo,[i("h2",Do,v(c.$t("artworks.myRedraw")),1),_(P,{to:"/a/"+a(y).id,class:"flex flex-row gap-2 w-full"},{default:J(()=>[a(y).artwork_assets?(g(),k("div",Wo,[_(H,{preload:"",loading:"lazy",class:"w-40 rounded-md",src:c.artworkThumb(a(y).artwork_assets[0].bucket,a(y).artwork_assets[0].filename,"thumbnail",!1),onError:c.imageLoadError},null,8,["src","onError"])])):R("",!0),i("div",Ho,[i("span",No,v(a(y).title),1),i("p",{class:"mb-2",innerHTML:a(y).description?a(y).description.length>100?a(y).description.slice(0,100)+"..":a(n).description:c.$t("artworks.noDescription")},null,8,zo),i("span",Qo,v(c.formatDate(a(y).scheduled_post)),1)])]),_:1},8,["to"])])):R("",!0)])):R("",!0)],64)}}};const dt=l=>(He("data-v-f71ec06c"),l=l(),Ne(),l),Jo={class:"mx-auto w-full align-middle md:w-1/2"},Ko={class:"flex flex-col w-full lg:flex-row"},Yo={id:"left-side-section",class:"left-side"},Xo={key:0,class:"text-right"},Zo={key:1,class:"alert-success"},er=["src"],tr=["src"],sr={key:4,id:"mini-badge-info-section",class:"flex flex-row gap-2 mb-4"},ar={key:0,class:"flex flex-row gap-2 p-2 bg-blue-500 rounded-md"},or={key:2,class:Y(["py-2 px-3 font-bold rounded-md bg-red-400 text-white"])},rr={key:3,class:"flex flex-row gap-2 p-2 px-4 rounded-md theme-colored"},nr={id:"interaction-button-section",class:"interactions"},lr={id:"interaction-counter-section",class:"interactions__left"},ir={class:"interactions__left__item"},cr={key:0,id:"reaction-button-section",class:"interactions__items"},dr={key:0,class:"interactions__item"},ur={key:0},mr={key:3,class:"interactions__item"},pr={id:"ellipsis-menu-section",class:"ellipsis-menus dropdown"},hr={type:"button","aria-haspopup":"true","aria-expanded":"true","aria-controls":"ellipsis-menus"},wr={class:"ellipsis-menus__content dropdown-menu"},fr={id:"ellipsis-menus",class:"ellipsis-menus__content__wrapper","aria-labelledby":"headlessui-menu-button-1",role:"menu"},vr={key:2,class:"custom-divider"},gr={key:4,class:"custom-divider"},yr=["href"],_r={key:6},kr={id:"right-side-section",class:"right-side"},br=dt(()=>i("div",{class:"custom-divider"},null,-1)),$r=dt(()=>i("div",{class:"custom-divider"},null,-1)),Cr={key:0,id:"related-artworks-section",class:"mt-4 w-full"},xr={class:"title"},Rr={__name:"ModalView",props:{id:{type:Number,default:0},section:{type:String,default:""}},emits:["setMeta","stopLoading","showEmpty","showError"],setup(l,{expose:s,emit:e}){const o=l,r=Re(),{oApiConfiguration:t,fetchOptions:n}=E(),{applyExplicitFilter:m,removeExplicitFilter:h}=We(),u=Ae(t,n()),f=lt(t,n()),{generateSemiCompressedArtworkUrl:w}=We(),p=st(),y=pt(),d=et();ht(()=>d.query,()=>{setTimeout(()=>{F(),re().closeModal("collection-selection-modal"),re().closeModal("album-selection-modal"),re().closeModal("report-modal")},1)}),Ue(()=>{o.id!==0&&q(o.id),window.addEventListener("keydown",I=>{const L=document.getElementById("collection-selection-modal"),ie=document.getElementById("album-selection-modal"),oe=document.getElementById("report-modal"),Le=document.querySelectorAll(".viewer-in");I.key==="Escape"&&(!L||L.style.display!="flex")&&(!ie||ie.style.display!="flex")&&(!oe||oe.style.display!="flex")&&!Le.length&&F()})});const c=o.id===0,b=x(!1),P=()=>{b.value=!1,h()},H=async I=>{await u.incraseViewCount(I)},N=x(!1),M=x(!0),C=x({}),ne=x(!1),se=x(!1),X=x(!1),le=x(!1),ce=x({before:"",after:""}),q=async I=>{N.value=!1,M.value=!0;const[L,ie]=await u.getWorkById(I);if(ie)ie=="Work not found"?e("showEmpty"):e("showError");else{if(C.value=L,C.value.is_before_after){const oe=C.value.artwork_assets;for(let Le=0;Le<oe.length;Le++)ce.value={before:w(oe[0].bucket,oe[0].filename,!1),after:w(oe[1].bucket,oe[1].filename,!1)}}!r.loggedIn&&L.is_explicit||L.is_explicit&&!r.user.user_settings.show_explicit||L.is_gore&&!r.user.user_settings.show_gore?(b.value=!0,m()):b.value=!1,se.value=L.liked,X.value=L.saved,le.value=L.in_album,ne.value=Je().formatApiToWeb(L.scheduled_post)<Je().currentUtcTime(),ne.value?((!r.loggedIn||r.user.id!==L.users.id)&&await H(I),r.loggedIn&&await j(I)):r.user.id!==L.users.id?y.push("/"):N.value=!0,c||e("setMeta",{title:C.value.title})}M.value=!1,e("stopLoading")},z=x({}),j=async I=>{const[L,ie]=await f.getReportStatus({type:fe.ARTWORK,postId:I});ie||(L.length?z.value=L[0]:z.value={})},de=async()=>{const[I,L]=await u.like({workId:C.value.id});if(I){se.value=!0;const ie=document.getElementById("like-button");ie.classList.add("animate-bounce"),setInterval(()=>{ie.classList.remove("animate-bounce")},2500)}},B=()=>{re().openModal("user-liked-modal")},T=()=>{re().openModal("user-shared-modal")},K=async()=>{const[I,L]=await u.unlike({workId:C.value.id});I&&(se.value=!1)},te=x(!1),_e=async I=>{const[L,ie]=await u.deleteWork({workId:[I]});L&&(te.value=!0,setTimeout(()=>{y.push({path:"/",replace:!0,force:!0})},1e3))},Ie=x(null),$e=()=>{re().openModal("collection-selection-modal"),Ie.value.fetchCollection(),Ie.value.fetchCurrentSaved()},je=I=>{I?X.value=!1:X.value=!0,Ye().animate("save-to-collection-button")},Se=x(null),ke=()=>{re().openModal("album-selection-modal"),Se.value.fetchTop(),Se.value.fetchCurrentSaved()},Be=I=>{I?le.value=!1:le.value=!0,Ye().animate("save-to-album-button")},Fe=()=>{re().openModal("share-to-feed-modal")},$=x(!1);let A;const D=I=>{const L=x(p.public.appUrl+I),{copy:ie}=ot({source:L});ie(),Qe().splash(A,$,"copy-alert")},Q=x(null),U=()=>{re().openModal("report-modal")},F=()=>{re().closeModal(`${o.section}-modal`)};return s({view:q}),(I,L)=>{const ie=xe;return g(),k(pe,null,[i("button",{class:"hidden",onClick:q}),S(i("div",Jo,[_(qe,{loading:a(M)},null,8,["loading"])],512),[[O,a(M)&&c]]),S(i("div",{class:Y(["work-container work-view",{"2xl:w-4/6 2xl:mx-auto p-2 md:p-6 overflow-y-scroll theme-color":c}])},[i("main",Ko,[i("section",Yo,[c&&I.isMobileDevice()?(g(),k("div",Xo,[_(V,{name:"i-ion-close-outline","text-size":"text-3xl",onClick:L[0]||(L[0]=oe=>I.closeModal(l.section+"-modal"))})])):R("",!0),_(ka,{"is-preview":a(N),"artwork-id":a(C).id,onDeleteWork:_e},null,8,["is-preview","artwork-id"]),a(te)?(g(),k("div",Zo,v(I.$t("artworks.successDelete")),1)):R("",!0),_(Ca,{show:a(b),"is-explicit":a(C).is_explicit,"is-gore":a(C).is_gore,onRemoveFilter:P},null,8,["show","is-explicit","is-gore"]),!a(M)&&a(C).is_before_after?(g(),ae(a(wt),{key:2,hover:"hover",tabindex:"0",class:"rounded-md slider-example-opacity-and-size rendered"},{default:J(()=>[i("img",{slot:"first",style:{width:"100%"},src:a(ce).before,class:Y([{"blur-lg unclickable":a(b)}])},null,10,er),i("img",{slot:"second",style:{width:"100%"},src:a(ce).after,class:Y([{"blur-lg unclickable":a(b)}])},null,10,tr)]),_:1})):R("",!0),!a(M)&&!a(C).is_before_after?(g(),ae(Ua,{key:3,"is-modal":c,artwork:a(C),"show-explicit-alert":a(b),"original-artwork":I.originalArtwork},null,8,["artwork","show-explicit-alert","original-artwork"])):R("",!0),a(C).is_explicit||a(C).is_gore||a(C).is_original_character||a(C).is_before_after?(g(),k("section",sr,[a(C).is_before_after?(g(),k("div",ar,[_(V,{name:"i-tabler-square-half","text-size":"text-lg","icon-color":"text-white"})])):R("",!0),a(C).is_explicit?(g(),k("div",{key:1,class:Y(["py-2 px-3 font-bold rounded-md",c?"theme-color-secondary":"bg-tag"])}," E ",2)):R("",!0),a(C).is_gore?(g(),k("div",or," G ")):R("",!0),a(C).is_original_character?(g(),k("div",rr,[_(V,{name:"i-clarity-cursor-hand-click-line","text-size":"text-sm"}),W(" "+v(I.$t("artworks.originalCharacter")),1)])):R("",!0)])):R("",!0),i("section",nr,[i("section",lr,[S(i("span",ir,[_(V,{name:"i-mi-eye"}),i("b",null,v(I.shortNumber(a(C).views)),1)],512),[[O,a(C).views>0]]),a(C)._count?S((g(),k("span",{key:0,class:"interactions__left__item hover:href hover:underline",onClick:L[1]||(L[1]=oe=>B())},[i("b",null,v(I.thousand(a(C)._count.artwork_likes)),1),W(" "+v(a(C)._count.artwork_likes>1?I.$t("count.likes"):I.$t("count.like")),1)],512)),[[O,a(C)._count.artwork_likes>0]]):R("",!0),a(C)._count?S((g(),k("span",{key:1,class:"interactions__left__item hover:href hover:underline",onClick:L[2]||(L[2]=oe=>T())},[i("b",null,v(I.thousand(a(C)._count.feeds)),1),W(" "+v(I.$t("count.share")),1)],512)),[[O,a(C)._count.feeds>0]]):R("",!0)]),a(N)?R("",!0):(g(),k("section",cr,[a(r).loggedIn?(g(),k("span",dr,[i("span",{onClick:L[3]||(L[3]=oe=>a(se)?K():de())},[S(_(V,{id:"like-button",name:"i-ion-heart",class:"text-red-500 hover:text-red-500"},null,512),[[O,a(se)]]),S(_(V,{name:"i-ri-heart-3-line",class:"hover:text-red-500"},null,512),[[O,!a(se)]])])])):R("",!0),a(r).loggedIn?(g(),k("span",{key:1,class:"interactions__item",onClick:L[4]||(L[4]=oe=>$e())},[S(_(V,{id:"save-to-collection-button",name:"i-majesticons-bookmark",class:"text-blue-500 hover:text-blue-500"},null,512),[[O,a(X)]]),S(_(V,{name:"i-majesticons-bookmark-line",class:"hover:text-blue-500"},null,512),[[O,!a(X)]]),a(C)._count&&a(C)._count.collection_has_artworks?(g(),k("span",ur,v(I.thousand(a(C)._count.collection_has_artworks)),1)):R("",!0)])):R("",!0),a(r).loggedIn&&a(C).users&&a(r).user.id===a(C).users.id?(g(),k("span",{key:2,class:"interactions__item",onClick:L[5]||(L[5]=oe=>ke())},[S(_(V,{id:"save-to-album-button",name:"i-ion-folder-open",class:"text-green-500 hover:text-green-500"},null,512),[[O,a(le)]]),S(_(V,{name:"i-bx-photo-album",class:"hover:text-blue-500"},null,512),[[O,!a(le)]])])):R("",!0),a(r).loggedIn?(g(),k("span",mr,[_(V,{name:"i-uil-share",class:"hover:text-blue-500",onClick:L[6]||(L[6]=oe=>Fe())})])):R("",!0),i("section",pr,[i("button",hr,[i("span",null,[_(V,{name:"i-uit-ellipsis-v"})])]),i("div",wr,[i("div",fr,[c?(g(),ae(ie,{key:0,to:"/a/"+a(C).id},{default:J(()=>[_(V,{name:"i-fluent-arrow-enter-20-filled",class:"mr-2 text-base"}),W(" "+v(I.$t("open")),1)]),_:1},8,["to"])):R("",!0),c?(g(),ae(ie,{key:1,to:"/a/"+a(C).id,target:"_blank"},{default:J(()=>[_(V,{name:"i-ci-external-link",class:"mr-2 text-base"}),W(" "+v(I.$t("openInNewTab")),1)]),_:1},8,["to"])):R("",!0),c?(g(),k("div",vr)):R("",!0),a(r).loggedIn&&a(C).users&&a(r).user.id!=a(C).users.id&&!a(r).user.is_admin&&!a(r).user.is_moderator?(g(),k("div",{key:3,class:Y({"rounded-t-md":!c})},[i("a",{onClick:L[7]||(L[7]=be(oe=>U(),["prevent"]))},[_(V,{name:"i-akar-icons-flag",class:"mr-2 text-base"}),W(" "+v(I.$t("report")),1)])],2)):R("",!0),i("div",null,[i("a",{onClick:L[8]||(L[8]=be(oe=>D("/a/"+a(C).id),["prevent"]))},[_(V,{name:"i-icon-park-outline-copy",class:"mr-2 text-base"}),W(" "+v(I.$t("copySharableLink")),1)])]),a(r).loggedIn&&a(C).users&&a(r).user.id===a(C).users.id?(g(),k("div",gr)):R("",!0),a(r).loggedIn&&a(C).users&&a(r).user.id===a(C).users.id?(g(),k("a",{key:5,href:"/artworks/update/"+a(C).id},[_(V,{name:"i-ion-settings-outline",class:"mr-2 text-base"}),W(" "+v(I.$t("update")),1)],8,yr)):R("",!0),a(r).loggedIn&&a(C).users&&a(r).user.id===a(C).users.id?(g(),k("div",_r,[i("a",{onClick:L[9]||(L[9]=be(oe=>I.openModal("work-deletion-confirm-modal"),["prevent"]))},[_(V,{name:"i-akar-icons-trash-bin",class:"mr-2 text-base"}),W(" "+v(I.$t("delete")),1)])])):R("",!0)])])])]))]),_(Xe,{section:l.section,class:"flex-md-hidden","is-modal":c,"artwork-detail":a(C),"preview-mode":a(N),"is-desktop":!0},null,8,["section","artwork-detail","preview-mode"]),(g(),ae(ft,null,[a(M)?R("",!0):(g(),ae(Ke,{key:0,class:"mb-6 hidden-md-flex","artwork-detail":a(C),view:q,"is-href":!c,"keep-artist-page-number":!0,"pagination-per-page":(I.isMobile(),4)},null,8,["artwork-detail","is-href","pagination-per-page"]))],1024))]),i("section",kr,[_(Xe,{section:l.section,class:"hidden-md-flex","is-modal":c,"artwork-detail":a(C),"preview-mode":a(N),"is-desktop":!1},null,8,["section","artwork-detail","preview-mode"]),a(M)?R("",!0):(g(),ae(Ke,{key:0,class:"flex-md-hidden","artwork-detail":a(C),view:q,"is-href":!c,"keep-artist-page-number":!0,"pagination-per-page":(I.isMobile(),4)},null,8,["artwork-detail","is-href","pagination-per-page"])),!a(N)&&!a(M)?(g(),ae(Go,{key:1,artwork:a(C)},null,8,["artwork"])):R("",!0),br,!a(N)&&!a(M)?(g(),ae(Lo,{key:2,artwork:a(C),"is-modal":c},null,8,["artwork"])):R("",!0)])]),$r,a(ne)?(g(),k("section",Cr,[i("div",xr,v(I.$t("artworks.similarArtworks")),1),!a(M)&&a(ne)?(g(),ae(ha,{key:0,"work-id":a(C).id,"is-modal":c,view:q},null,8,["work-id"])):R("",!0)])):R("",!0),a(M)?R("",!0):(g(),ae(Yt,{key:1,id:"collection-selection-modal",ref_key:"collectionSelectionModalRef",ref:Ie,"modal-id":"collection-selection-modal","work-id":a(C).id,class:"modal",onSave:je},null,8,["work-id"])),!a(M)&&a(r).loggedIn&&a(C).users&&a(r).user.id==a(C).users.id?(g(),ae(a(us),{key:2,id:"album-selection-modal",ref_key:"albumSelectionModalRef",ref:Se,class:"modal","modal-id":"album-selection-modal","work-id":a(C).id,onAddedToAlbum:Be},null,8,["work-id"])):R("",!0),_(ws,{id:"work-deletion-confirm-modal",class:"modal","modal-id":"work-deletion-confirm-modal",message:`${I.$t("alert.areYouSure")} ${I.$t("alert.youCannotUndoThisAction")}`,onOnAccept:L[10]||(L[10]=oe=>_e(a(C).id))},null,8,["message"]),_(Ls,{id:"report-modal",ref_key:"reportModalRef",ref:Q,class:"modal",type:a(fe).ARTWORK,"post-id":a(C).id,"report-status":a(z)},null,8,["type","post-id","report-status"]),_(Hs,{id:"share-to-feed-modal",ref:"shareToFeedModalRef",class:"modal","post-id":a(C).id},null,8,["post-id"]),_(ea,{id:"user-liked-modal",class:"modal","work-id":a(C).id},null,8,["work-id"]),_(da,{id:"user-shared-modal",class:"modal","work-id":a(C).id},null,8,["work-id"]),S(_(ze,{id:"copy-alert",text:I.$t("linkCopied"),icon:"i-bi-check-all"},null,8,["text"]),[[O,a($)]])],2),[[O,!a(M)]])],64)}}},qr=Ce(Rr,[["__scopeId","data-v-f71ec06c"]]);export{qr as M,ws as _,Yt as a,Ye as b,Xt as c,Mt as d,us as e,_t as u};
