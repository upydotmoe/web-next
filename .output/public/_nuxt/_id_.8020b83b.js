import{l as d,k as m,D as h,m as l,p as k,E as _,r as w,c as A,w as y,o as g,f as B,u as I}from"./entry.05f698ef.js";import{u as x}from"./ProBadge.0148f2b1.js";import{L as W}from"./Layout.896833a6.js";import{A as v}from"./ArtworkForm.32597bec.js";import"./_plugin-vue_export-helper.c27b6911.js";import"./useSetting.c4a424f7.js";import"./vue3-editor.common.90d68174.js";const O={__name:"[id]",setup(C){const e=d(),{oApiConfiguration:u,fetchOptions:n}=m(),a=x(u,n()),{$router:s}=h(),c=l(),{id:r}=s.currentRoute.value.params;k(async()=>{e.loggedIn||s.push("/"),await i()}),_(()=>{f()});const i=async()=>{const[t,o]=await a.getWorkById(r);(t.user_id!==e.user.id||o)&&c.push({path:"/"})},p=w({}),f=async()=>{try{const[t,o]=await a.getWorkById(r);o||(p.value=t)}catch{}};return(t,o)=>(g(),A(W,{"with-footer":!0},{default:y(()=>[B(v,{id:I(r),"is-update":!0},null,8,["id"])]),_:1}))}};export{O as default};
