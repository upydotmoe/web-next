import{e as T,d as B}from"./ProBadge.0148f2b1.js";import{l as F,k as I,J as S,D as V,r as D,o as a,s as n,X as U,Y as C,f as i,w as $,b as l,K as r,x as h,u as t,e as p,P as z,U as w,v as g,y as v,c as J,b2 as K,bV as O,z as P}from"./entry.05f698ef.js";import{u as W}from"./useUser.65e8f8bc.js";import{_ as X}from"./_plugin-vue_export-helper.c27b6911.js";const Y={class:r(["flex flex-row w-full"])},q={class:"flex flex-col justify-between p-3 w-full text-white"},G={class:"flex flex-col gap-1"},H={class:"font-bold"},Q={class:"text-xxs"},R={class:"flex flex-row justify-between"},Z={class:"flex flex-row w-full"},A={key:0,class:"flex flex-row"},ee=["onClick"],oe=["onMouseover","onClick"],se={key:0,class:"user-latest-artworks"},le={key:0,class:"absolute top-1/2 left-1/2 z-10 text-sm font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},ae=["href"],te={__name:"UserList",props:{users:{type:Array,default:()=>{}},columnType:{type:Number,default:4}},setup(f){const E=f,_=F(),{oApiConfiguration:j,fetchOptions:L}=I(),x=W(j,L()),b=S(()=>E.users);V();const u=D(0),M=async(o,c)=>{const[m,d]=await x.follow(c);d||(b.value[o].is_following=!0)},N=async(o,c)=>{const[m,d]=await x.unfollow(c);d||(b.value[o].is_following=!1)};return(o,c)=>{const m=B,d=P;return a(),n("div",{class:r(["grid grid-cols-1 gap-4 mb-4 w-full sm:grid-cols-2",f.columnType==3?"lg:grid-cols-3":"lg:grid-cols-4",{"lg:grid-cols-2":f.columnType==2},{"lg:grid-cols-1":f.columnType==1}])},[(a(!0),n(U,null,C(t(b),(e,y)=>(a(),n("div",{key:e.id,class:"flex flex-col w-full"},[i(d,{to:"/u/"+e.username,class:r(["",["flex object-cover flex-row rounded-md shadow-lg cursor-pointer theme-color-secondary hover:shadow-xl",{"rounded-br-none":e.artworks.length}]]),style:K(e.cover_bucket&&e.cover_filename?"background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url("+o.avatarCoverUrl(e.cover_bucket,e.cover_filename)+");background-size:cover;":"background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url("+t(O)+");background-size:cover;")},{default:$(()=>[l("div",Y,[i(m,{preload:"",loading:"lazy",class:r(["avatar",e.artworks.length?"rounded-bl-none":"rounded-bl-md"]),src:o.avatarCoverUrl(e.avatar_bucket,e.avatar_filename),onError:o.defaultCoverImage},null,8,["class","src","onError"]),l("div",q,[l("div",G,[l("span",H,h(e.name.length>20?`${e.name.slice(0,20)}..`:e.name),1),l("span",Q,"@"+h(e.username),1)]),l("div",R,[l("div",Z,[t(_).loggedIn&&e.id!==t(_).user.id?(a(),n("div",A,[p(l("div",{class:"flex flex-row",onClick:z(s=>M(y,e.id),["prevent"])},[i(w,{name:"i-ri-user-add-fill",class:"text-gray-300 hover:text-white"})],8,ee),[[g,!e.is_following]]),p(l("div",{class:"flex flex-row",onMouseover:s=>u.value=e.id,onMouseout:c[0]||(c[0]=s=>u.value=0),onClick:z(s=>N(y,e.id),["prevent"])},[p(i(w,{name:"i-ri-user-follow-fill",class:"text-green-400"},null,512),[[g,t(u)!==e.id]]),p(i(w,{name:"i-ri-user-unfollow-fill",class:"text-red-400 hover:text-red-400"},null,512),[[g,t(u)&&t(u)===e.id]])],40,oe),[[g,e.is_following]])])):v("",!0)]),e.is_pro?(a(),J(T,{key:0})):v("",!0)])])])]),_:2},1032,["to","class","style"]),e.artworks?(a(),n("div",se,[(a(!0),n(U,null,C(e.artworks,(s,k)=>(a(),n("div",{key:s.id,class:r(["work-thumbnail-user-list bg-transparent rounded-md",s._count.artwork_assets>1&&o.currentWorkId!=s.id?"work-multiple":""])},[i(d,{to:"/a/"+s.id,target:"_blank",class:"w-full h-full theme-color-bg"},{default:$(()=>[l("div",{class:r(["overflow-hidden relative text-center",{"rounded-bl-md":k==0},{"rounded-br-md":k==2}])},[o.applyExplicitFilter(t(_),s.is_explicit,s.is_gore)?(a(),n("span",le,h(o.$t("explicitContent")),1)):v("",!0),l("a",{href:"/a/"+s.id,class:r([{"animate-wigglefast":o.manageMode}])},[i(m,{preload:"",loading:"lazy",class:r(["w-full h-full unselectable",{"object-cover":!o.isUncropped},o.isUncropped?"object-contain object-center h-44":"object-cover",{"blur-3xl brightness-50 unclickable":o.applyExplicitFilter(t(_),s.is_explicit,s.is_gore)}]),src:o.artworkThumb(s.artwork_assets[0].bucket,s.artwork_assets[0].filename,"thumbnail",!1),onError:o.imageLoadError},null,8,["class","src","onError"])],10,ae)],2)]),_:2},1032,["to"])],2))),128))])):v("",!0)]))),128))],2)}}},de=X(te,[["__scopeId","data-v-04da1deb"]]);export{de as U};
